!function(e){function t(e,t){return parseInt(e,t||10)}function a(e){return Array.isArray?Array.isArray(e):!!e&&e.constructor===Array}function r(e){return!!(e&&e.constructor&&e.call&&e.apply)}function n(e){return it(e)?JSON.stringify(e):cl}function i(e,t){if(!document.body.contains(e))return ol.warn("No container"),null;var a=Hl(e).datum(t),r=null;return a.each(function(e){var t=Hl(this);r=new Ei.charts.get(t,e),r.showLoading(t)}),r}function l(e,t){if(a(e)&&a(t)){var r=e.map(function(e,a){return i(e,t[a])}),n=[],l=r.slice(),s=l.reverse();return o(s,n,r),r}}function o(e,t,a){var r=e.length,n=e[r-1];r||(a.chartRendered=!0),r>0&&1!=n.drawStarted&&document.body.contains(n.container.node())&&(n.draw(),n.drawStarted=!0,s(e,t,a))}function s(e,t,a,r){var n=e.length,i=e[n-1];if(i.chartRendered||i.breakOnErr)t.push(e.pop()),o(e,t,a);else{null!=r&&clearTimeout(r);var r=setTimeout(function(){s(e,t,a,r)},10)}}function c(e,t,a,r){for(var n,i=et(arguments).slice(4),l=null,o=0,s=i.length;s+1>o&&(n=o===s?null:cc(e,i[o]),l=u(r,null,n,t,a),!Il(n));o++);return l}function d(e,t,a){qs.globalProp={},a.fontL1Size=c(e,qs.fontL1Size,a.fontL1Size,t,"canvas.fontSize"),a.fontL2Size=c(e,qs.fontL2Size,a.fontL2Size,t,"chart.fontSize","canvas.fontSize"),qs.globalProp.fontL1Color=null,qs.globalProp.fontL2Color=null,qs.globalProp.fontL1Family=null,qs.globalProp.fontL2Family=null,qs.globalProp.fontL1Style=null,qs.globalProp.fontL2Style=null,qs.globalProp.fontL1Weight=null,qs.globalProp.fontL2Weight=null,qs.globalProp.textShadow=null;var r=dc(cc(e,"chart.plot.animation"),{});return qs.globalProp.animation={},qs.globalProp.animation.enabled=r.enabled!==!1,qs.globalProp.animation.duration=r.duration||null,qs.globalProp.animation.easingType=r.easingType||null,qs.globalProp.datalabels={},a.datalabels=null==a.datalabels?{}:a.datalabels,qs.globalProp.datalabels.enabled=null,a.datalabels.fontSize=c(e,qs.fontL3Size,a.datalabels.fontSize,t,"chart.plot.datalabels.fontSize","chart.fontSize","canvas.fontSize"),qs.globalProp.datalabels.fontColor=null,qs.globalProp.datalabels.fontFamily=null,qs.globalProp.datalabels.fontStyle=null,qs.globalProp.datalabels.fontWeight=null,qs.globalProp.events={},qs.globalProp.events.mouseMove=null,qs.globalProp.events.mouseOut=null,qs.globalProp.events.click=null,qs.globalProp.events.doubleClick=null,a}function u(e,a,r,n,i){var l=pl(e.width,e.height),o=$(Ei,"fontProperties.ratio")&&Ei.fontProperties.ratio;"function"==typeof o&&(o=o(e)),a=null==a?o&&!isNaN(o)?o:.038:a;var s=ul(l*a);qs.minL1Size=Ei.fontProperties.minsize,qs.maxL1Size=Ei.fontProperties.maxsize;var c=qs.minL1Size,d=qs.maxL1Size;s=c>s?c:s>d?d:s,null!=r&&(a=t(r)*a/s,s=ul(l*a),s=c>s?c:s>d?d:s);var i=null==n?null==i?{}:i:n;return i.size=s,i.l1=function(){return i.size},i.l2=function(){return i.size-2},i.l3=function(){return i.size-3},i.l4=function(){return i.size-4},i.l5=function(){return i.size-5},i}function f(e){qs.patternSVG=e}function g(e){this.chart=e,this.originalSeries=e.seriesdata,this.initialize()}function p(e,t,a,r){var n,i=0,l=e.renderer[t].commonRendererProp().params,o=e.dataset,s=o.getX(a),c=o.getY(a,l.yaxiscolumnorder||0);e.userdata.seriesdata.stackGroup&&(i=Ja(t,e.userdata.seriesdata.stackGroup));var d=e.dataObject.groupedByStack.get(i).stackExtent.filter(function(e){return e[0]===s});return n=r===id||r===ad?d.reduce(function(e,t){return e+ml(t[1])},0):d[c<l.hasNegValue&&d[1]?1:0][1]}function m(e,t){var a=to(t.seriesExtermes[e]),r=0!=a.length?io(a):a.enabled?[0,0]:null;return r}function v(e,t){var a=t.dataset,r=t.data,n=t.chartObj,i=t.processedseriesData,l=t.groupedDataByCombo,o=t.groupedDataBySplitAxes,s=t.categoriesStore,c=t.groupedByStack,d=n.dataObject,u=Ei.DataProcessor.helpers,h=0,f=t.isCombinationalChart||r.seriesdata.stackGroup?l.values():o,g=d.getDomain(t.getCategories("x"),!0),p=g.length,m=s.subseries,v=u.isCatNull(a,"x"),y=[],b=[],w=f.map(function(e,o){var s=l.keys()[o],d=s.split("_"),f=+d[0],w=it(d[1])?+d[1]:o,C=t.isstacked(f)||t.isPercentChart,k=[],O=[];b[o]||(b[o]=[]);var A=to(e.map(function(e){var t=e.si,r=u.getParsedYAxisOrder(i[t].yaxiscolumnorder);if(C&&!lr(f))for(var n=e.d.map(function(e){return e.groupByVal}),l=0;l<m.length;l++){var s=m[l],c=n.indexOf(s);if(0>c&&null!=s){var d=[];e.d.splice(l,0,d)}}var y=e.d.map(function(t){if(C&&!lr(f)){for(var n=function(e){return a.getX(e)},l=t.map(n),s=0,c=p;c>s;s++){var d=g[s],m=l.indexOf(d);if(m>=0&&m!=s&&(t.splice(s,0,t[m]),t.splice(m+1,1),l=t.map(n)),"undefined"!=typeof l[s]&&v(l[s])&&t.splice(s,1),0>m){var y=[],x=u.getParsedYAxisOrder(i[e.si].yaxiscolumnorder);y.splice(a.xidx,0,d),y.splice(a.yidx(x),0,0),y.isDummy=!0,t.splice(s,0,y),l=t.map(n)}}p!=t.length&&t.splice(p,t.length-p)}return t.map(function(e){var t=a.getX(e),n=a.getY(e,r),i=g.indexOf(t),l=0>n?O:k,s=l[i];return C?(s=it(s)?s:h,e.y0=s,e.y=n,b[o][i]=s+n,l[i]=s+n):l[i]=it(s)?(0>n?pl:gl)(s,n):n,e})});return y}));y[o]=io(to([k,O,[0]]));var S=Ei.charttypenames.get(f);return C&&(hi(r.chart.plot.plotoptions[S].datalabels.stackLabels,n)||fi(S,n)||il.test(r.metadata.axes.tooltip))&&(c.has(w)||c.set(w,{}),c.get(w).stackExtent=x(g,k,O)),A});return y=o.length>1?y:[io(to(y))],(t.isStackedPercentChart||t.isPercentChart)&&(w.map(function(e,t){return e.map(function(e){return e.map(function(e){var r=g.indexOf(a.getX(e)),n=b[t][r]||0;return 1!=isNaN(n)&&null!=n&&0!=n&&(e.y0/=n/100,e.y/=n/100),e})})}),y[0][0]=0,y[0][1]=100),y}function x(e,t,a,r,n){var i=[];return e.forEach(r?function(e,l){t[l]>=0&&i.push([e,t[l],r[l]]),a[l]<0&&i.push([e,a[l],n[l]])}:function(e,r){t[r]>=0&&i.push([e,t[r]]),a[r]<0&&i.push([e,a[r]])}),i}function b(e){var t=e.systemConf,a=e.dataObject.totalnoofdatas,r=+t.canvas.intelligence.dataCount.datalabels;if(a>r)return!1;if(cc(t.chart,"plot.datalabels.show")===!0)return!0;for(var n=e.seriesdata,i=n.length;i--;){var l=t.chart.plot.plotoptions[e.chartTypes[i].name],o=l.datalabels;if(it(n[i].plotoptions)&&(o=li(l,n[i].plotoptions)),ui(o,e))return!0}return!1}function C(e,t){var a=[],r=[];return e.data.forEach(function(e){var n=t.reduce(function(t,a){return t+e[a]},"");r.push(n),-1===a.indexOf(n)&&a.push(n)}),{distintGroupbyCat:a,allGroupbyCat:r}}function k(e,t){return t||(t=0),e.forEach(function(e){a(e[0])?t=k(e,t):t++}),t}function O(e,t,a){var r=it($s[e]),n=dc($s[e],e,null);return it(n)&&"solid"!==e?(t=r?dc(t,1):1,a&&(t*=a),n.split(",").map(function(e){return+e*t})):[]}function A(e,t){return e||(t&&/dot/g.test(t)?"round":null)}function S(e,t,a,r){var n=a.reduce(function(e,t){return t+e},0);e.attr("stroke-dasharray",a).attr("stroke-dashoffset",n).transition().duration(t).ease(_l).attr("stroke-dashoffset",0).on("end",function(){r&&r.chartRendered&&S(e,t,a,r)})}function P(e){var t=e.chart.effects.choice,a=rc[t];if(a){var r=e.chart.effects.options[t];"dropShadow"===t&&(r.blur=gl(0,r.blur));var n=Js.get(rc,t,r);return n}}function T(e,t,a,r){var n=e.type;if(n&&n!==El){var i=e.options[n]||e.options,l=sc(i);return l.color=null!=a?a:l.color,l.opacity=null!=r?r:l.opacity,l.dimension=null!=t?t:l.dimension,l.type=n,l}}function E(e,t,a,r,n){var i=ec[e]?ec[e]:D(e);return i.bgClr_base=t,i.stroke_base=t,i.fillOpacity=i.fillOpacity||a,i.customStaticClr=n,r&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),i}function L(e,t){var a=t.map(function(t){var a=parseInt(t),r=e.width%a,n=parseInt(e.width/a)||1,i=r/n;return i+a});return a}function z(){Ei.addPattern("hatch","diagonal-line-right","5","1","null","white","1","1"),Ei.addPattern("hatchDash","square,diagonal-line-right","5,5","1","transparent,{{brighter}}","transparent,transparent","1","1","0,3"),Ei.addPattern("thinThickHatch","square,diagonal-line-right,diagonal-line-right","10,10,10","1,1,3","transparent,null,null","transparent","1","1","0,2.5,0"),Ei.addPattern("thickHatch","diagonal-line-right","5","3","null","white","1","1"),Ei.addPattern("thinHatch","diagonal-line-right","2","1","null","white","1","1"),Ei.addPattern("hatchLeft","diagonal-line-left","5","1","null","white","1","1"),Ei.addPattern("horizontalStripes","horizontal-line","5","1","null","white","1","1"),Ei.addPattern("thinHorizontalStripes","horizontal-line","2","1","null","white","1","1"),Ei.addPattern("verticalStripes","vertical-line","5","1","null","white","1","1"),Ei.addPattern("thinVerticalStripes","vertical-line","2","1","null","white","1","1"),Ei.addPattern("crossStripes","vertical-line,horizontal-line","5","1","null","white","1","1"),Ei.addPattern("tinyHatchfill","square,diagonal-line-right","5","1","transparent,{{brighter}}","null,transparent","1","1"),Ei.addPattern("hatchfill","square,diagonal-line-right","10","1","transparent,{{brighter}}","null,transparent","1","1"),Ei.addPattern("hatchDashfill","square,diagonal-line-right","5,5","1","transparent,{{brighter}}","null,transparent","1","1","0,3"),Ei.addPattern("hatchLeftfill","square,diagonal-line-left","5","1","transparent,{{brighter}}","null,transparent","1","1"),Ei.addPattern("horizontalStripesfill","square,horizontal-line","5","1","transparent,{{brighter}}","null,transparent","1","1"),Ei.addPattern("verticalStripesfill","square,vertical-line","5","1","transparent,{{brighter}}","null,transparent","1","1"),Ei.addPattern("crossStripesfill","square,square","5,5","1","transparent,{{brighter}}","null,transparent","1","1"),Ei.addPattern("checkerBoard","square,square,square","10,5,5","1","transparent","transparent,null,{{brighter}}","1","1","0,0,5"),Ei.addPattern("circle","circle","10","1","null","white","1","1"),Ei.addPattern("tinyCircle","circle","5","1","null","white","1","1"),Ei.addPattern("crossCircle","square,circle,circle","10,5,5","1","transparent,null,{{brighter}}","transparent","1","1","0,0,5"),Ei.addPattern("floatingCircle","square,circle","10,5","1","transparent,{{brighter}}","transparent","1","1","0,2.5"),Ei.addPattern("dot","square,circle","5,2.5","1","transparent,{{brighter}}","transparent,transparent","1","1","0,1.25"),Ei.addPattern("dotSquare","square,circle","10,2.5","1","null,{{brighter}}","transparent,transparent","1","1","0,3.75"),Ei.addPattern("circlefill","square,circle","10,10","1","transparent,{{brighter}}","null,transparent","1","1"),Ei.addPattern("crossCirclefill","square,circle,circle","10,5,5","1","transparent,null,{{brighter}}","null,{{brighter}},null","1","1","0,0,5"),Ei.addPattern("floatingCirclefill","square,circle","10,5","1","transparent,{{brighter}}","null,transparent","1","1","0,2.5"),Ei.addPattern("dotfill","square,circle","5,2.5","1","transparent,{{brighter}}","null,transparent","1","1","0,1.25"),Ei.addPattern("square","square","5","1","null","white","1","1"),Ei.addPattern("squarefill","square","5","1","{{brighter}}","null","1","1"),Ei.addPattern("star","star","10","1","null","white","1","1"),Ei.addPattern("starfill","square,star","10,5","1","transparent,{{brighter}}","null,transparent","1","1"),Ei.addPattern("wave","waves","5","1","null","white","1","1"),Ei.addPattern("wavefill","square,waves","10,10","1","transparent,{{brighter}}","null,transparent","1","1"),Ei.addPattern("cap","caps","5","1","null","white","1","1"),Ei.addPattern("capfill","square,caps","10,10","1","transparent,{{brighter}}","null,transparent","1","1"),Ei.addPattern("nylon","nylon","5","1","null","white","1","1"),Ei.addPattern("nylonfill","square,nylon","10,10","1","transparent,{{brighter}}","null,transparent","1","1")}function D(e){return{ele:e}}function R(e,t,a,r){var n=qs.patternSVG,i=t.bgClr||t.bgClr_base,l=tt(e,i);t.ele=l.replace(/\{\{clr\}\}/g,i);var o,s=n.select("defs").append("pattern").attrs({patternUnits:r||"userSpaceOnUse",id:a,x:t.x||0,y:t.y||0}).html(t.ele);Ks.FIREFOX?n.append("g").html(t.ele).each(function(){o=U(this)}).remove():o=U(s.node().firstChild);var c=o.width,d=o.height;return s.attrs({width:c,height:d}),{node:s,w:c,h:d,id:a}}function j(e,t,a){var r=qs.patternSVG,n=e.bgClr||e.bgClr_base,i=e.stroke||e.stroke_base,l=/\{\{([a-z]+)\}\}/,o=(e.type||"").split(","),s=o.length,c=(e.size||"").split(","),d=(e.strokeWidth||"").split(","),u=n.split(","),h=i.split(","),f=(e.fillOpacity||"").split(","),g=(e.strokeOpacity||"").split(","),p=e.translate?e.translate.split(","):null;c=e.width?L(e,c):c;for(var m=r.select("defs").append("pattern").attrs({id:t,patternUnits:a||"userSpaceOnUse",width:c[0],height:c[0],x:e.x||0,y:e.y||0}),v=0;s>v;v++){var y=F(o[v])(c[v]||c[0]),x=ot(h[v]||h[0])?e.stroke_base:"static"==(h[v]||h[0])?e.customStaticClr:h[v]||h[0],b=ot(u[v]||u[0])?e.bgClr_base:"static"==(u[v]||u[0])?e.customStaticClr:u[v]||u[0],w=(c[v]||c[0])/2;if(x=l.test(x)?ca(e.stroke_base,1,x.replace(l,"$1"),Jl):x,b=l.test(b)?ca(e.bgClr_base,1,b.replace(l,"$1"),Jl):b,p){var C=p[v]||p[0];w+=parseFloat(C)}m.append("path").attrs({transform:"translate("+w+","+w+")",d:y,stroke:x,fill:b,"stroke-width":d[v]||d[0],"stroke-opacity":g[v]||g[0],"fill-opacity":f[v]||f[0]})}return{node:m,w:c[0],h:c[0],id:t}}function M(e,t){var a="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='"+e.w+"' height='"+e.h+"'>"+(new XMLSerializer).serializeToString(e.node.node())+"<path d='M-5,-5 L5,-5 L5,5 L-5,5 Z' transform='translate("+e.w/2+","+e.h/2+")' style='fill: url(#"+e.id+")'></path> </svg>";return{url:Ks.FIREFOX||t?"data:image/svg+xml;base64,"+Qs(a):"data:image/svg+xml;utf8,"+a,width:e.w,height:e.h}}function I(e,t,a,r){"use strict";for(var n=H(e,t,a,r),i=0;i<n.offset.length;i++)e.append("stop").attr("offset",n.offset[i]).styles({"stop-color":n.color[i],"stop-opacity":n.opacity[i]})}function H(e,t,a,r){"use strict";var n=t.stopOffset,i=t.stopOpacity,l=t.stopColor,o=t.colorGamma||[1,0],s=t.spreadMethod,c="radial"==r?+t.radius:gl(ml((+t.x2||0)-(+t.x1||0)),ml((+t.y2||0)-(+t.y1||0)));if(n=n||["0%","100%"],l=("function"==typeof l?l(a):l)||n.map(function(e,t){return ca(a,o[t]||0,"brighter",Jl)}),i=i||[1,1],("repeat"===s||"reflect"===s)&&(Ks.IS_IOS||Ks.SAFARI)){for(var d=[],u=[],h=[],f=0,g=0;100>f;){for(var p=0,m=n.length;m>p;p++){var v=pl(parseFloat(n[p])/100*c+f,100);d.push(v+"%"),h.push(g%2!=0?i[i.length-1-p]:i[p]),u.push(g%2!=0?l[l.length-1-p]:l[p])}f+=c,g+="reflect"===s?1:0}n=d,l=u,i=h}return{offset:n,color:l,opacity:i}}function B(e,t,a,r,n,i){var l,o,s,c,d=parseInt(r/10)*n,u=r%10,h=e,f=0==u?i-d+t:i-(d+n)+t,g=u*n+e,p=f,m=g,v=0==u?f:f+n,y=i+e,x=v;switch(a){case"top2Bottom":l=i+e,o=t,s=e,c=t;break;case"bottom2Top":l=i+e,o=i+t,s=e,c=i+t}var b=h+","+f+" "+g+","+p+" "+m+","+v+" "+y+","+x+" "+l+","+o+" "+s+","+c+" "+h+","+f;return b}function F(e){return function(t){switch(e){case"asterisk":return"M0 0 C"+.284*-t+" "+.994*-t+" "+.284*t+" "+.994*-t+" 0 0 C"+.73*t+" "+.76*-t+" "+1.2*t+" "+.277*-t+" 0 0 C"+1.008*t+" "+.142*t+" "+.703*t+" "+.703*t+" 0 0 C"+.27*t+" "+.923*t+" "+.284*-t+" "+.923*t+" 0 0 C"+.712*-t+" "+.66*t+" "+.923*-t+" "+.234*t+" 0 0 C"+.98*-t+" "+.284*-t+" "+.745*-t+" "+.73*-t+" 0 0";case"bean":return"M0 "+.5*t+" A"+.25*t+" "+.5*t+" 0 0 1 0 "+.5*-t+" A"+.15*t+" "+.25*t+" 0 0 1 1 0 A"+.15*t+" "+.25*t+" 0 0 1 0 "+.5*t;case"butterfly":return"M0 "+.25*-t+" C0 "+.25*-t+" "+t+" "+-t+" "+.3*t+" "+.25*t+" "+.6*t+" "+.8*t+" 0 "+.4*t+" 0 "+.4*t+" M0 "+.25*-t+" C0 "+.25*-t+" "+-t+" "+-t+" "+.3*-t+" "+.25*t+" "+.6*-t+" "+.8*t+" 0 "+.4*t+" 0 "+.4*t+" M0 "+.25*-t+" L"+.1*t+" "+.7*-t+" M0 "+.25*-t+" L"+.1*-t+" "+.7*-t;case"clover":return"M0 0 C"+.2*-t+" "+-t+" "+t+" "+.15*-t+" 0 0 "+t+" "+.25*t+" "+.2*-t+" "+t+" "+.05*-t+" "+.05*t+" "+.7*-t+" "+.6*t+" "+.7*-t+" "+.6*-t+" 0 "+.05*-t+" Z";case"cloverFour":return"M"+.1*-t+" "+.1*-t+" C"+.5*-t+" "+.8*-t+" "+.5*t+" "+.8*-t+" "+.1*t+" "+.1*-t+" "+.8*t+" "+.5*-t+" "+.8*t+" "+.5*t+" "+.1*t+" "+.1*t+" "+.5*t+" "+.8*t+" "+.5*-t+" "+.8*t+" "+.1*-t+" "+.1*t+" "+.8*-t+" "+.5*t+" "+.8*-t+" "+.5*-t+" "+.1*-t+" "+.1*-t+" "+.5*-t+" "+.8*-t+" "+.5*t+" "+.8*-t+" "+.1*t+" "+.1*-t;case"cross":return"M"+-t/2+" "+.2*-t+" L"+.2*-t+" "+.2*-t+" L"+.2*-t+" "+-t/2+" L"+.2*t+" "+-t/2+" L"+.2*t+" "+.2*-t+" L"+t/2+" "+.2*-t+" L"+t/2+" "+.2*t+" L"+.2*t+" "+.2*t+" L"+.2*t+" "+t/2+" L"+.2*-t+" "+t/2+" L"+.2*-t+" "+.2*t+" L"+-t/2+" "+.2*t+" Z";case"diamond":return"M"+.4*-t+" 0 L0 "+-t/2+" L"+.4*t+" 0 L0 "+t/2+" Z";case"ellipse":return"M"+.5*-t+" 0 A"+.5*t+" "+.35*t+" 0 0 1 "+.5*t+" 0 A"+.5*t+" "+.35*t+" 0 0 1 "+.5*-t+" 0";case"gear":return"M"+.134*-t+" "+.541*-t+" L"+.127*-t+" "+.696*-t+" "+.131*t+" "+.696*-t+" "+.138*t+" "+.547*-t+" "+.282*t+" "+.47*-t+" "+.393*t+" "+.571*-t+" "+.598*t+" "+.39*-t+" "+.494*t+" "+.282*-t+" "+.531*t+" "+.134*-t+" "+.699*t+" "+.134*-t+" "+.699*t+" "+.138*t+" "+.539*t+" "+.138*t+" "+.474*t+" "+.279*t+" "+.575*t+" "+.386*t+" "+.369*t+" "+.578*t+" "+.286*t+" "+.474*t+" "+.131*t+" "+.531*t+" "+.131*t+" "+.696*t+" "+.127*-t+" "+.696*t+" "+.127*-t+" "+.531*t+" "+.276*-t+" "+.467*t+" "+.39*-t+" "+.575*t+" "+.574*-t+" "+.379*t+" "+.47*-t+" "+.279*t+" "+.524*-t+" "+.138*t+" "+.7*-t+" "+.138*t+" "+.7*-t+" "+.138*-t+" "+.528*-t+" "+.138*-t+" "+.47*-t+" "+.282*-t+" "+.568*-t+" "+.383*-t+" "+.396*-t+" "+.568*-t+" "+.275*-t+" "+.463*-t+" "+.134*-t+" "+.541*-t+" Z";case"heart":return"M0 "+.2*-t+" C"+.7*t+" "+.7*-t+" "+.7*t+" "+.2*t+" 0 "+.45*t+" "+.7*-t+" "+.2*t+" "+.7*-t+" "+.7*-t+" 0 "+.2*-t+"Z";case"star":return"M0 "+.5*-t+" L"+.122*t+" "+.12*-t+" L"+.5*t+" "+.12*-t+" L"+.197*t+" "+.12*t+" L"+.306*t+" "+.5*t+" L0 "+.274*t+" L"+.306*-t+" "+.5*t+" L"+.197*-t+" "+.12*t+" L"+.5*-t+" "+.12*-t+" L"+.122*-t+" "+.12*-t+" Z";case"malteseCross":return"M"+.38*-t+" "+.5*-t+" A"+.38*t+" "+.1*t+" 0 0 1 "+.38*t+" "+.5*-t+" L"+.2*t+" "+.2*-t+" L"+.5*t+" "+.38*-t+" A"+.1*t+" "+.38*t+" 0 0 1 "+.5*t+" "+.38*t+" L"+.2*t+" "+.2*t+" L"+.38*t+" "+.5*t+" A"+.38*t+" "+.1*t+" 0 0 1 "+.38*-t+" "+.5*t+" L"+.2*-t+" "+.2*t+" L"+.5*-t+" "+.38*t+" A"+.1*t+" "+.38*t+" 0 0 1 "+.5*-t+" "+.38*-t+" L"+.2*-t+" "+.2*-t+" Z";case"square":return"M"+.5*-t+" "+.5*-t+" L"+.5*t+" "+.5*-t+" "+.5*t+" "+.5*t+" "+.5*-t+" "+.5*t+" Z";case"triangle-up":return"M"+.5*-t+" "+.285*t+" L0 "+.43*-t+" "+.5*t+" "+.285*t+" Z";case"triangle-down":return"M0 "+.43*t+" "+.5*-t+" "+.285*-t+" "+.5*t+" "+.285*-t+" Z";case"triangle-right":return"M"+.5*-t+" "+.43*-t+" "+.285*t+" 0 "+.5*-t+" "+.43*t+" Z";case"triangle-left":return"M"+.5*t+" "+.43*t+" "+.285*-t+" 0 "+.5*t+" "+.43*-t+" Z";case"arrow":return"M"+.5*-t+" "+.2*t+" L0 "+.5*-t+" "+.5*t+" "+.2*t+" "+.25*t+" "+.2*t+" "+.25*t+" "+.5*t+" "+.25*-t+" "+.5*t+" "+.25*-t+" "+.2*t+" Z";case"rocket":return"M"+.5*-t+" "+.5*t+" L0 "+.5*-t+" "+.5*t+" "+.5*t+" 0 "+.25*t+" "+.5*-t+" "+.5*t+" Z";case"nylon":return"M"+-t/2+" "+-t/4+" L"+-t/4+" "+-t/4+" L"+-t/4+" "+-t/2+" M"+-t/4+" 0 L"+-t/4+" "+t/4+" L0 "+t/4+" M0 "+-t/4+" L"+t/4+" "+-t/4+" L"+t/4+" 0 M"+t/4+" "+t/2+" L"+t/4+" "+t/4+" L"+t/2+" "+t/4;case"waves":return"M"+-t+" 0 C"+7*-t/8+" "+-t/4+" "+5*-t/8+" "+-t/4+" "+-t/2+" 0 C"+3*-t/8+" "+-t/4+" "+-t/8+" "+-t/4+" 0 0 C"+t/8+" "+t/4+" "+3*t/8+" "+t/4+" "+t/2+" 0 C"+5*t/8+" "+-t/4+" "+7*t/8+" "+-t/4+" "+3*t/4+" 0";case"woven":return"M"+-t/4+" "+-t/4+" L"+t/4+" "+t/4+" M"+t/4+" "+-t/4+" L"+t/2+" "+-t/2+" M"+-t/4+" "+t/4+" L"+-t/2+" "+t/2+" M"+t/4+" "+3*t/4+" L"+3*t/4+" "+t/4;case"crosses":return"M "+-t/4+" "+-t/4+" L"+t/4+","+t/4+" M"+-t/4+","+t/4+" L"+t/4+","+-t/4;case"caps":return"M"+-t/4+" "+t/4+" L0 "+-t/4+" "+t/4+" "+t/4;case"hexagons":return"M"+-t/2+" 0 L"+-t/4+" 0 M"+t/2+" 0 L"+t/4+" "+-t/2+" L0 "+-t/2+" L"+-t/4+" 0 L0 "+t/2+" L"+t/4+" "+t/2+"Z";case"line":case"horizontal-line":return"M"+.5*-t+" 0 L"+.5*t+" 0";case"diagonal-line-right":return"M"+3*-t/4+" "+-t/4+" L"+-t/4+" "+3*-t/4+" M"+-t/2+" "+t/2+" L"+t/2+" "+-t/2+" M"+t/4+" "+3*t/4+" L"+3*t/4+" "+t/4;case"vertical-line":return"M0 "+-t/2+" L0 "+t/2;case"hexagon":return"M"+.433*t+" "+.25*t+" L"+0*t+" "+.5*t+" L"+t*-.433+" "+.25*t+" L"+t*-.433+" "+t*-.26+" L"+0*t+" "+t*-.5+" L"+.433*t+" "+t*-.26+" Z";case"diagonal-line-left":return"M"+3*-t/4+" "+-t/2+" L"+-t/4+" "+t/2+" M"+-t/4+" "+-t/2+" L"+t/4+" "+t/2+" M"+t/4+" "+-t/2+" L"+3*t/4+" "+t/2;case"oval":return"M"+-t/2+" 0 A"+t/2+" "+t/2+" 0 0 1 0 "+-t/2+" A"+t/2+" "+t/2+" 0 0 1 "+-t/2+" 0";case"rect":var a=arguments[0],r=arguments[1]||0;return"M"+-a/2+" "+-r/2+" L"+a/2+" "+-r/2+" L"+a/2+" "+r/2+" L"+-a/2+" "+r/2+"Z";default:return"M"+-t/2+" 0 A"+t/2+" "+t/2+" 0 0 1 "+t/2+" 0 A"+t/2+" "+t/2+" 0 0 1 "+-t/2+" 0"}}}function V(e,t,a,r){var n,i=r.color,l=10,o=r.strokeWidth,s=r.imageSize,c=r.transform,d=F(a.symbol||r.symbol),u=null!=a.imageUrl&&""!==a.imageUrl,h=rt(a.size,rt(o,1)),f=h*r.symbolSize.outer,g=h*r.symbolSize.inner,p=null!=c?"translate("+c[0]+","+c[1]+")":null,m=(null!=t?h:f)*(null!=s?s:l);if(null!=t){var v=qs.patternSVG.select("defs");n=zt(v,"marker",[1],"#","id",t),n.attrs({id:t,orient:0,viewBox:-h*l/2+" "+-h*l/2+" "+h*l+" "+h*l,markerUnits:"userSpaceOnUse",markerWidth:h*l,markerHeight:h*l})}else n=e;var y=zt(n,"path",[1],".","class","outer");y.attrs({d:d(u?m:f*l),transform:p}).styles({fill:function(){if(u){var e={name:a.imageUrl,width:m,height:m,x:-m/2,y:-m/2};return"url("+K()+"#"+Js.get(tc,"imageFill",e)+")"}return a.outerFillColor||i},"fill-opacity":a.outerFillOpacity,stroke:a.outerStrokeColor||i,"stroke-opacity":a.outerStrokeOpacity,"stroke-width":a.outerStrokeWidth,"stroke-dasharray":O(a.outerDashStyle,a.outerStrokeWidth),"stroke-linecap":A(a.outerLineCap,a.outerDashStyle)});var x=zt(n,"path",u?[]:[1],".","class","inner");return x.attrs({d:d(g*l),transform:p}).styles({fill:a.innerFillColor||i,"fill-opacity":a.innerFillOpacity,stroke:a.innerStrokeColor||i,"stroke-opacity":a.innerStrokeOpacity,"stroke-width":a.innerStrokeWidth,"stroke-dasharray":O(a.innerDashStyle,a.innerStrokeWidth),"stroke-linecap":A(a.innerLineCap,a.innerDashStyle)}),n}function N(e){var t={left:0,top:0,right:0,bottom:0};if(!e.isAxisCategory)return t;var a=e.systemConf.chart.axes.xaxis,r=e.systemConf.chart.axes.yaxis,n=null!=a.minRange&&""!==a.minRange,i=null!=a.maxRange&&""!==a.maxRange,l=r.some(function(e){return null!=e.minRange&&""!==e.minRange}),o=r.some(function(e){return null!=e.maxRange&&""!==e.maxRange});if(n&&i&&l&&o)return t;var s=e.axes.rotated,c=(e.dataset.seriesTypes,e.systemConf.chart.plot.plotoptions),d=e.canvasarea,u=Vl(e.seriesdata.map(function(t,a){var r=t.plotoptions,n=0,i=e.chartTypes[a].name,l=Ei.utils.getValueOfPlotOptions(r?r.marker:null,c[i].marker);if(/(area|arearange|line)/.test(i)&&l("enabled")&&$t(e,"marker")&&Kt(e,"marker",pl(d.width,d.height))){var o=l("size");n=rt(o,rt(r?r.strokeWidth:c[i].strokeWidth,1))}else i===Hs&&(n=rt(l("size"),2));return 10*n}))/2;return{left:(s?l:n)?t.left:u,top:(s?i:o)?t.top:u,right:(s?o:i)?t.right:u,bottom:(s?n:l)?t.bottom:u}}function Y(e,t,a){var r=it(a)?a-1:t.repeat||1/0;if(!e.node()||!r)return void e.styles({transform:null,opacity:null});var n=t.type===Jo,i=t.duration,l=Yl(t.easingType),o=i,s=n?500:0,c=n?0:i,d=n?{transform:"scale(1)",opacity:0}:{transform:"scale(0)"},u=n?{transform:"scale(0)",opacity:1}:{transform:"scale(1)"};e.transition(),e.attrs(u).transition().delay(s).duration(o).ease(l).attrs(d).transition().duration(c).ease(l).attrs(u).on("end",function(){Y(e,t,r)})}function _(e,t){e.attr("x",t.left).attr("y",t.top).attr("width",t.width).attr("height",t.height).style("fill-opacity",0).style("stroke",Ll)}function W(e,t){if(null!=e&&e.constructor==Object){var a,r="";for(var n in e)e.hasOwnProperty(n)&&(a=e[n],r+=null==a||""==a?"$$":a+"_");return r=t+r,r=r.replace(/[.-]/g,"_"),r=r.replace(/[`~!@#$%^&*( )|+\-=?;:'",.<>{}[\]\\\/\s]/gi,"_")}return null!=t?t:void 0}function X(e,t,a){var r=Jl(e),n=Ul().domain([-1,0,1]).range([Jl(r.h,r.s,.1),r,Jl(r.h,r.s,.9)]).interpolate(wo),i=Ul().domain(t).range(a);return function(e){return n(i(e))}}function U(e){return e&&document.body.contains(e)&&e.style.display!=El?e.getBBox():{x:0,y:0,height:0,width:0}}function G(e){if(!Ei.dataEncoded||null==e)return e;var t=document.createElement("div");t.innerHTML=encodeURI(e);var a=t.textContent;return decodeURI(a)}function Z(e){if(Ei.dataEncoded||null==e)return e;var t=document.createElement("div");t.textContent=G(e);var a=t.innerHTML;return a}function Q(e){var t=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g,a=/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/gi,r=new RegExp(t),n=new RegExp(a);return e.match(r)||e.match(n)}function q(e){return e.slice(0)}function K(){return Bl("base").node()?location.href.split(location.search||location.hash||/[?#]/)[0]:""}function $(e,t,a){var r=t.replace(/\[(\w+)\]/g,".$1");r=r.replace(/^\./,"");var n=r.split("."),i=n.reduce(function(e,t){return it(e)?e[t]:e},e);return a?i:it(i)}function J(e){return!it(e)}function et(e){return Array.prototype.slice.call(e)}function tt(){var e=et(arguments),t=e[0]===!0&&e.shift(),a=e.shift();if("string"==typeof a){var r=cc(window,a);a="function"==typeof r?r:a}return"function"==typeof a?t?a.apply(e[0],e.splice(1)):a.apply(void 0,e):a}function at(e,t){for(var a,r=0,n=e.length;n>r&&(null==a||""===a);r++)e[r]&&(a=e[r][t]);return a}function rt(e,t){var a=null==e||""===e?t:e,r=JSON.parse(a);return a="number"==typeof r?parseFloat(r):"boolean"==typeof r?JSON.parse(r):r}function nt(e,t,a,r,n,i){var l,o=pl(n,i),s=r*o/100,c=a*o/100;return l=e[t],l=null==l||""===l?null:c>l?c:l>s?s:parseFloat(l)}function it(e){return void 0!==e&&null!==e}function lt(e){return e>0}function ot(e){return null==e||"null"==e}function st(e){return e+"".toLocaleLowerCase()==="true"}function ct(e){return e+="",e.replace(/ /g,"px ")+"px"}function ut(e,t){if(!e||!t)return null;var a,r={};for(var n in e)if(e.hasOwnProperty(n)&&t.hasOwnProperty(n)){var i=e[n],l=t[n];if(!i||i.constructor!=Object&&i.constructor!=Array)i==l&&(r[n]=i,a=!0);else{var o=ut(i,l);null!=o&&(r[n]=o,a=!0)}}return a?r:null}function ht(e){var t=eo(e);return(299*t.r+587*t.g+114*t.b)/1e3<128}function ft(e){return ht(e)?"#f8f8f8":"#444444"}function gt(e){return null!=e&&e===e.window}function pt(e){return gt(e)?e:9===e.nodeType&&e.defaultView}function mt(e){var t=e.getBoundingClientRect(),a=e&&e.ownerDocument,r=a.documentElement,n=pt(a);return{top:t.top+n.pageYOffset-r.clientTop,left:t.left+n.pageXOffset-r.clientLeft}}function vt(e){return e?e.split(",").reverse().join():e}function yt(){return it(document.visibilityState)&&"visible"!==document.visibilityState}function xt(e,t,a){var r=t.offsetHeight,n=mt(e).top-mt(t).top,i=n+e.offsetHeight;return n>=0&&r>=i||a&&(0>n&&i>0||n>0&&r>=n)}function bt(e,t,a,r,n,i,l,o,s,c){var d="wrapOnSpace"==o||"wrapAll"==o;return e.map(function(e){var u;return u=t(a,e,n,r,i,null,null,l),u=d?Za(u,o,s.horizontal,s.vertical,c):u})}function wt(e){return e.slice(0).sort(function(e,t){return it(e)||(e=""),it(t)||(t=""),t.length-e.length})}function Ct(e){return null===e.offsetParent}function kt(e,t){if("object"!=typeof e)return!1;if(a(e)||"number"==typeof e.length)Array.prototype.forEach.call(e,t);else for(var r in e)e.hasOwnProperty(r)&&t(e[r],r,e)}function Ot(e){if(arguments[1]){for(var t=1,a=arguments.length;a>t;t++){var r=arguments[t];for(var n in r)!e[n]&&r.hasOwnProperty(n)&&(e[n]=r[n])}return e}}function At(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function St(e,t){var a=e.indexOf(t);return a>-1&&e.splice(a,1),e}function Pt(e,a,r){var n;return e.isD3Selection&&(e=e.node()),"width"===a?pl(e.offsetWidth,e.scrollWidth)-Pt(e,"padding-left")-Pt(e,"padding-right"):"height"===a?pl(e.offsetHeight,e.scrollHeight)-Pt(e,"padding-top")-Pt(e,"padding-bottom"):(n=window.getComputedStyle(e),n&&(n=n.getPropertyValue(a),dc(r,"opacity"!==a)&&(n=t(n))),n)}function Tt(e){return e instanceof HTMLElement}function Et(e){return a(e)?e:[e]}function Lt(e){var a,r,n,i;if(it(e)){var l=e.toString().split(" "),o=Ei.DataProcessor.helpers.priorityBasedValue;a=t(o([l[0],0])),r=t(o([l[1],l[0],0])),n=t(o([l[2],l[0],0])),i=t(o([l[3],l[1],l[0],0]))}else a=0,r=0,n=0,i=0;return{top:a,right:r,bottom:n,left:i}}function zt(e,t,a,r,n,i,l,o){r=r||"",i=i||"";var s;s=e.selectAll(t+r+i).data(a,o);var c=s.enter().append(t).merge(s);return n&&c.attr(n,i),l&&c.styles(l),s.exit().remove(),c}function Dt(e,t,a,r,n,i,l,o,s,c){if(null==t||!t.trim()||!e)return t;var d,u;s=s||e,o?(d=o.width,u=o.height):(d=r.right-r.left,u=r.bottom-r.top);var h=0;if("left"==n||"right"==n?(a.top+a.height-l.bottom>r.bottom&&(h+=(a.top+a.height-l.bottom-r.bottom)/a.height),a.top+l.top<r.top&&(h+=(r.top-(a.top+l.top))/a.height),u=a.height-gl(0,a.top+a.height-l.bottom-r.bottom)-gl(0,r.top-(a.top+l.top))):("bottom"==n||"top"==n)&&(a.left+a.width-l.right>r.right&&(h+=(a.left+a.width-l.right-r.right)/a.width),a.left+l.left<r.left&&(h+=(r.left-(a.left+l.left))/a.width),d=a.width-gl(0,a.left+a.width-l.right-r.right)-gl(0,r.left-(a.left+l.left))),h=parseFloat(h.toFixed(2)),h>0){var f=fl((1-h)*t.length);e.textContent=t.substring(0,f-1)+i;var g="tspan"==s.nodeName?Xa:Ua,p=g(s);c="tspan"==e.nodeName?!1:c,c===!1||p.width==a.width&&p.height==a.height||Ft(e,s,t,d,u,p,i)}}function Rt(e,t,a,r){for(var n,i=e.split(/\s+/).reverse(),l=[],o=[],s=r,t=t;n=i.pop();){l.push(n);var c=pc.getTextWidth(l.join(" "));if(c>t){if(l.length>1&&(l.pop(),o.pop(),o.push(l.join(" "))),s>a)return o;s+=r,l=[n],o.push(n)}else o.pop(),o.push(l.join(" "))}return o}function jt(e){e.isD3Selection&&(e=e.node());var t=e.transform.baseVal.consolidate(),a=it(t)?t.matrix:null;if(it(a)){var r,n,i,l=a.a,o=a.b,s=a.c,c=a.d,d=a.e,u=a.f;return(r=yl(l*l+o*o))&&(l/=r,o/=r),(i=l*s+o*c)&&(s-=l*i,c-=o*i),(n=yl(s*s+c*c))&&(s/=n,c/=n,i/=n),o*s>l*c&&(l=-l,o=-o,i=-i,r=-r),{translate:[d,u],skew:[180*kl(o,l)/Sl,180*Math.atan(i)/Sl],rotate:180*kl(o,l)/Sl,scale:[r,n]}}return{translate:[0,0],skew:[0,0],rotate:0,scale:[0,0]}}function Mt(e,t,a,r,n,i,l){var o,s,c,d;return o=i&&l?e-a:e,s=i&&l?e:e+a,c=i&&!l?t-r:t,d=i&&!l?t:t+r,n=It(n,a,r),"M"+o+","+(d-n.bly)+"L"+o+","+(c+n.tly)+"A"+(n.tlx+","+n.tly+" 0 0 1 "+(o+n.tlx)+","+c)+"L"+(s-n.trx)+","+c+"A"+(n.trx+","+n.trY+" 0 0 1 "+s+","+(c+n.trY))+"L"+s+","+(d-n.bry)+"A"+(n.brx+","+n.bry+" 0 0 1 "+(s-n.brx)+","+d)+"L"+(o+n.blx)+","+d+"A"+(n.blx+","+n.bly+" 0 0 1 "+o+","+(d-n.bly))+"Z"}function It(e,t,a,r){var n,i=Object.create(e),l=i.tlx+i.trx,o=i.trY+i.bry,s=i.brx+i.blx,c=i.tly+i.bly;return c>a&&(n=c/(c-a),i.tly=i.tly-i.tly/n,i.bly=i.bly-i.bly/n),l>t&&(n=l/(l-t),i.tlx=i.tlx-i.tlx/n,i.trx=i.trx-i.trx/n),o>a&&(n=o/(o-a),i.trY=i.trY-i.trY/n,i.bry=i.bry-i.bry/n),s>t&&(n=s/(s-t),i.brx=i.brx-i.brx/n,i.blx=i.blx-i.blx/n),r&&(i.tlx=i.tly=Math.min(i.tlx,i.tly),i.trx=i.trY=Math.min(i.trx,i.trY),i.blx=i.bly=Math.min(i.blx,i.bly),i.brx=i.bry=Math.min(i.brx,i.bry)),i}function Ht(e,t,a){var r=Ei.utils.getVal(at(t,"fontSize")),n=at(t,"fontFamily"),i=at(t,"fontWeight"),l=at(t,"fontStyle"),o=at(t,"textShadow"),s=at(t,"fontColor"),c=at(t,"textDecoration"),d=at(t,"strokeColor"),u=at(t,"fontOpacity"),h={"font-size":r+"px","font-family":n,"font-weight":i,"font-style":l,"text-shadow":o,"text-decoration":c,"fill-opacity":u};return it(e)?(h[a?"color":"fill"]=s,a||!d||Ks.IE||(h.stroke=d,h["stroke-width"]=at(t,"strokeWidth")||3,h["paint-order"]="stroke"),e.styles(h),void 0):(h.color=s,h)}function Bt(e,t){e.append("title").text(function(){return t||this.parentNode.textContent})}function Ft(e,t,a,r,n,i,l){function o(r){var n="tspan"==e.nodeName?Xa:Ua;e.textContent=a.substring(0,s-c)+l,r&&(i=n(t))}var s=e.textContent.length-1,c=l.length;if(i.width>r||i.height>n)for(var d=0;s>=d;){if(o(!0),i.width<=r&&i.height<=n)return;s--}else for(var d=a.length;d>s;){if(i.width>=r||i.height>=n)return s--,void o(!1);s++}}function Vt(e){var t=e.match(/[a-z][^a-z]*/gi);return t.map(function(e){var t=e.match(/[a-z]/gi).pop(),a=e.match(/-?[0-9]\d*(\.\d+)?/g);return a&&(a=a.map(function(e){return parseFloat(e)})),{"function":t,moves:a}})}function Nt(e,t,r,n){var i=a(t)&&t.length>1,l=n?"html":"text",o=d3.select(e.node().parentNode);if(i){e.text(null);var s=e.attr("x")||0,c=e.attr("y")||0,d=e.attr("dy")?parseFloat(e.attr("dy")):.71,u=0,h=it(r)&&it(r.lineHeight)?r.lineHeight:d,f=it(r)&&r.orient;h="top"==f?-(t.length-1+h):"left"==f||"right"==f?-(t.length-2+h)/2:h,t.forEach(function(t){if(n)Yt(o,e,t);else{var a=e.append("tspan");
a.attr("x",s).attr("y",c).attr("dy",function(){return u++ +h+"em"}),a[l](function(){return t})}})}else n?(e.text(null),Yt(o,e,t)):e[l](t);return e}function Yt(e,t,a){var r=/^<image.+<\/image>/i,n=/^<tspan.+<\/tspan>/i;if(r.test(a))zt(e,"g",[1],".","class","image").html(a);else if(n.test(a)){var i=(new DOMParser).parseFromString('<svg xmlns="'+d3.namespaces.svg+'">'+a+"</svg>","application/xml");t.node().appendChild(i.querySelector("tspan"))}else t.append("tspan").text(a)}function _t(e){var t=e.selectAll("tspan").nodes();if(t&&t.length){var a=[];return t.forEach(function(e){a.push(e.textContent)}),a}return e.node().textContent}function Wt(e){e.isD3Selection&&(e=e.node());for(var t=e.ownerSVGElement,a=[0,0];e!==t;){var r=jt(e).translate;a[0]+=r[0],a[1]+=r[1],e=e.parentNode}return a}function Xt(e,t,a,r){function n(){return/(bar|bullet|gantt|waterfall)/.test(r)?300:/(line|area|arearange)/.test(r)?600:/(scatter|bubble$|funnel|pyramid|heatmap)/.test(r)?1e3:500}var i=t&&t.animation?oc(e.animation,t.animation,!0):e.animation,l=a.systemConf.chart.plot.animation,o={},s=i.easingType||l.easingType||(/(scatter|bubble$|packedbubble|heatmap)/.test(r)?"cubic-in-out":null)||"linear";return o.enabled=yt()||a.isHiddenCoainer?!1:$t(a,"animation")?at([i,l],"enabled"):!1,o.type=i.type,o.easingType=Yl(s),o.duration=o.enabled?rt(i.duration,+(l.duration||n())):0,o}function Ut(e,t,a,r,n,i,l,o,s,c,d){function u(){if(p++,h)for(var n=0;m>n;n++)e[n]=a[p>n?n:gl(0,p-1)],t[n]=a[p>n?n:p];else e[p-1]=a[p-1],t[p]=a[p];if(m>p){var l=1==p&&h?(r.indexOf(f.getX(a[0]))-(p-1))*y:0,o=(h?r.indexOf(f.getX(a[p]))-r.indexOf(f.getX(a[p-1])):1)*y,v=h?null!=f.getY(a[p],g)&&null!=f.getY(a[gl(0,p-1)],g):null!=f.getY(a[p],g);v?c.attrs(s(e)).transition().delay(l).duration(o).ease(i).attrs(s(t)).on("end",d===Hs?function(e,t){t==m-1&&u()}:u):u()}}var h=n==ds,f=o.dataset,g=o.yaxiscolumnorder,p=h?0:-1,m=a.length,v=l,y=ul(v/(h?r.length-1:m));u()}function Gt(e){var t=bo(0,Sl);e.attrTween("transform",function(){var e=Hl(this).attr("transform");return function(a){return e+" matrix("+xl(t(a))+",0,0,1,0,0)"}})}function Zt(e){var t=bo(0,1);e.styleTween("opacity",function(){return function(e){return t(e)}})}function Qt(e){var t=bo(0,1);e.attrTween("transform",function(){var e=Hl(this).attr("transform");return function(a){return e+" scale("+t(a)+")"}})}function qt(e){e.interrupt()}function Kt(e,t,a){var r=+e.systemConf.canvas.intelligence.dimension[t];return a>=r}function $t(e,t){var a=+e.systemConf.canvas.intelligence.dataCount[t];return a>=e.dataObject.totalnoofdatas}function Jt(e,t){return t-=Sl/2,[xl(t)*e,bl(t)*e]}function ea(e){var e=e%(2*Sl);return 0>e?e+2*Sl:e}function ta(e,t,a,r,n){var i=0-(e.x-.5*n),l=e.width+n-i,o=0-(e.y-.5*n),s=e.height+n-o,c=r-i,d=r-l,u=r-o,h=r-s;return[t/2-c/2+d/2,a/2-u/2+h/2]}function aa(e,t,a){return"string"==typeof e&&e.indexOf("%")>-1?t*+e.replace(/%/g,"")*.01:rt(e,a)}function ra(e){return Ul().range([0,1]).domain([Sl>e?Sl/2:3*Sl/2,Sl])(e)}function na(e,t,a){return e>t&&(t=e+((e=t)-t)),0>e&&0>t&&(e+=2*Sl,t+=2*Sl),0>e&&t>=0&&(0>a?t=2*Sl:e=0),a=0>a?a+2*Sl:a,a>=e&&t>=a}function ia(e){return 180*e/Sl}function la(e,t){var a=it(e.bandWidth)||e.levelMarker&&it(e.levelMarker.bandWidth),r=it(e.maxBandWidth)||e.levelMarker&&it(e.levelMarker.maxBandWidth),n=gl(0,aa(e.innerRadius,t,0));if(a||r){var i=it(e.bandWidth)?aa(e.bandWidth,t,0):t-n,l=it(e.levelMarker.bandWidth)?aa(e.levelMarker.bandWidth,t,0):t-n,o=rt(e.maxBandWidth,t),s=rt(e.levelMarker.maxBandWidth,t);return i=pl(i,o),l=pl(l,s),t-gl(i,l)}return n}function oa(e){var t=e.match(nl);return t&&5===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):e}function sa(e,t){var a=eo(e);return a.opacity=J(t)?1:t,a.toString()}function ca(e,t,a,r){if(e===Ll)return e;a=dc(a,"darker");var n=dc(r,d3.rgb)(e);return n[a](t).toString()}function da(e,t,a,r){var n=e.defsLocation,i=e.chartTypes[t].name,l=e.systemConf.chart.plot.plotoptions[i],o=e.seriesdata[t].plotoptions,s=o&&o.gradients?oc(l.gradients,o.gradients,!0):l.gradients,c=e.patternPallete,d=e.imagePallete,u=d&&d.length,h=!r&&c&&c.length,f=e.plot.renderer.mode,g=hc.getIndexScale(e);return function(r,l,o,p,m,v,y,x,b){var w,C=l&&e.dataset.getClr(l);if(a=v||a,r=Math.max(r,0)||0,p)w=p;else if(w=fa(e,r,l,t),r=hc.getItemIndex(e,g,l,r),g&&(!ha(C,e)||J(r))&&0===d3.rgb(w).opacity)return w;if("canvas"!=f||s.type||w instanceof Object||(w=canvasUtils.rgba(w,m)),h&&/(url|data)/.test(w))return w;if(it(o)&&(w=ca(w,o).toString()),d&&d.length&&ha(C,e)){var k={name:e.imagePallete[r%u],width:y&&y.width||e.patternImageSizes[r%u][0],height:y&&y.height||e.patternImageSizes[r%u][1],mode:f,context:y&&y.context},O="svg"==f||x?Js.get(tc,"imageFill",k,{returnSVGimage:x}):Js.get(canvas_patterns,"imageFill",k,{returnSVGimage:x});return"canvas"==f?O:"url("+n+"#"+O+")"}if(h){var A=c[r%h],k=E(A,w,m,y,e.userdata.legend.customPatternColor),O="svg"==f||x?Js.get(tc,"svgPatternFill",k,{returnSVGimage:x}):Js.get(canvas_patterns,"canvasPatternFill",k,{returnSVGimage:x});return x||"canvas"==f?O:"url("+n+"#"+O+")"}if(hc.isQuantileColorScale(e)&&it(b)&&e.dataObject.noofAreaEnabledSeries&&(s=xa(e,e.renderer[t].seriesdataAfterUpdate[b])),a&&s&&s.type){var k=T(s,a,w,m),S={offset:i,chartObj:e},P="svg"==f?Js.get(ac,"svgGradientFill",k,S):Js.get(canvas_gradients,"canvasGradientFill",k,{offset:i,chartObj:e,returnSVGimage:x});return x||"canvas"==f?P:"url("+n+"#"+P+")"}return w}}function ua(e,t,a){var r,n=e.defsLocation,i=e.chartTypes[t].value,l=e.chartTypes[t].name,o=ir(i),s=i===Ei.charttype.line,c=e.seriesdata[t].plotoptions,d=e.systemConf.chart.plot.plotoptions[l],u=s&&c&&c.gradients?oc(d.gradients,c.gradients,!0):d.gradients,h=hc.isQuantileColorScale(e),f=e.plot.renderer.mode;return function(i,g,p,m,v,y){var x=h&&it(y)&&(s||o&&!(c&&c.strokeColor||d.strokeColor)),b=s&&u.type;if(x&&(u=xa(e,e.renderer[t].seriesdataAfterUpdate[y])),a&&(x||b)){var w=p||ga(e,t),C=T(u,a,w,v),k={offset:l,chartObj:e},O="svg"==f?Js.get(ac,"svgGradientFill",C,k):Js.get(canvas_gradients,"canvasGradientFill",C,{offset:l,chartObj:e});return"canvas"==f?O||w:"url("+n+"#"+O+")"}if(p)r=p;else{i=Math.max(i,0)||0;var w=fa(e,i,g,t);it(m)&&(w=ca(w,m).toString()),r=w}return"canvas"!=f||r instanceof Object||(r=canvasUtils.rgba(r,v)),r}}function ha(e,t,a,r,n){if(a||(a=t.axes.clr.scale),!a)return!0;r||(r=a.domain()),e===cl&&(e=null);var i=n||t.systemConf.legend.filter.range,l=!i||(t.dataset.getDataType("clr")===_o?i.indexOf(e)>-1:e>=i[0]&&e<=i[1]),o=t.dataset.getDataType("clr")===_o?r.indexOf(e)>-1:e>=r[0]&&e<=r[r.length-1];return o&&l&&null!==a(e)&&!(hr(t.chartTypes[0].value)&&null==e)}function fa(e,t,a,r){var n=ga(e,t),i=e.isAxisCategory&&it(r)&&e.rendererConf&&e.rendererConf[r].params;return i&&i.categoryColorConfig?tn(a,i.categoryColorConfig,n):i&&i.colorOverlay?pa(e,i,a,n):a&&hc.isQuantileColorScale(e)?ma(e,a):a&&a.arcColor||n}function ga(e,t){var a=e.imagePallete||e.seriesColor;return a[t%a.length]}function pa(e,t,a,r){var n=t.yaxiscolumnorder,i=t.threshold,l=t.thresholdType,o=e.dataset,s="x"==l?o.getX(a):o.getY(a,n);return t.colorOverlay(i,i.color,s,r)}function ma(e,t){var a=e.systemConf.legend.filter.track||{},r=rt(a.fillOpacity,1),n=a.fillColor||Ll,i=e.dataset.getClr(t),l=e.axes.clr.scale;if(ha(i,e,l))return i===cl&&(i=null),l(i);var o=d3.rgb(n);if(r=o.opacity*r,0===r)return Ll;var s=d3.scaleLinear().domain([0,1]).range([l(i),oa(n)]).interpolate(d3.interpolateRgb);return s(r)}function va(e){var a=d3.rgb(e),r=t((a.r+a.g+a.b)/3);return"rgba("+r+","+r+","+r+","+a.opacity+")"}function ya(e,t){return e.multiColoring&&!t.legendarea.show}function xa(e,t){var a,r,n,i,l,o,s=e.axes.rotated,c=e.systemConf.chart.axes.xaxis.reversed,d=e.axes.x.scale,u=d.ordinalRange||d.range(),h="rgba(255,255,255,0)",f=!1,g=Ul().domain([u[0],u[u.length-1]]).range([0,100]),p=[],m=[];t.forEach(function(t){if(i=g(d(e.dataset.getX(t))),l=ma(e,t),o=l===Ll,o&&(l=h),f||!n&&!o||(it(a)&&(m.push(pl(100,a+.1)+"%"),p.push(h)),m.push(gl(0,i-.1)+"%"),p.push(h)),f&&r){var s=(i+a)/2;m.push(s+"%"),p.push(r),m.push(s+"%"),p.push(l)}m.push(i+"%"),p.push(l),a=i,r=l,n=o});var v={type:"linear",options:{linear:{x1:0,x2:0,y1:0,y2:0,stopColor:p,stopOffset:m}}},y=s?c?"y2":"y1":c?"x1":"x2";return v.options.linear[y]=100,v}function ba(e){return"translate("+(e+.5)+",0)"}function wa(e){return"translate(0,"+(e+.5)+")"}function Ca(e){return function(t){return+e(t)}}function ka(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(a){return+e(a)+t}}function Oa(){return!this.__axis}function Aa(e,t,a){var r=[],n=t.chart,i=t.axis,l=i.ticks.tickValueObj,o=t.tickValues,s=t.tickFormat,c=t.tickSizeInner,d=t.tickSizeOuter,u=t.gridSize,h=t.tickPadding,f=t.rotation,g=t.orient,p=t.scale,m="top"===g||"left"===g?-1:1,v="left"===g||"right"===g?"x":"y",y="top"===g||"bottom"===g?ba:wa,x=(a.label,a.ticklabel),b=x.events,w=a.tickmark,C=a.axisline,k=a.grid,S=b?b.cursor||"pointer":"pointer",P=1e-6,T=null==o?p.ticks?p.ticks.apply(p,r):p.domain():o,E=null==s?p.tickFormat?p.tickFormat.apply(p,r):uc:s,L=Math.max(c,0)+h,z=p.origRange?p.origRange:p.range(),D=+z[0]+.5,R=+z[z.length-1]+.5,j=(p.bandwidth?ka:Ca)(p.copy()),M=e.selection?e.selection():e,I=M.selectAll(".domain").data([null]),H=M.selectAll(".tick").data(T,p).order(),B=H.exit(),F=H.enter().append("g").attr("class","tick"),V=H.select("line.minorTicks"),N=u&&k.show?H.select("line.majorTicks"):H.select("line.majorTicks").remove(),Y=H.select("text").attr("class","ticklabel");if(I=I.merge(I.enter().insert("path",".tick")).attr("class","domain").styles({stroke:C.show===!1||C.hideParent?"transparent":C.color||"#000","stroke-width":dc(C.strokeWidth,1),"stroke-dasharray":O(C.style,dc(C.strokeWidth,1))}),H=H.merge(F),V=V.merge(F.append("line")).attr(v+"2",m*c).attr("class","minorTicks").styles({fill:"none","shape-rendering":"crispedges","stroke-width":w.strokeWidth,stroke:w.color}),u&&k.show){var _=dc(k.strokeWidth,1),W=O(k.style,_),X=A(k.lineCap,k.style);N=N.merge(H.append("line")).attr("stroke","#000").attr("class","majorTicks").attrs({x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2}).styles({fill:"none","shape-rendering":"crispedges","stroke-width":_,stroke:k.color,"stroke-dasharray":W,"stroke-linecap":X})}var U=[x,n.systemConf.chart,n.systemConf.canvas,qs],G=Ei.utils.getVal(at(U,"fontSize")),Z=at(U,"fontFamily"),Q=at(U,"fontWeight"),q=at(U,"fontStyle"),K=at(U,"textShadow"),$=at(U,"fontColor"),J=at(U,"textDecoration"),et=(at(U,"strokeColor"),Ya(g,f,null,null,w.size,h));Y=Y.merge(F.append("text")).attr("class","ticklabel").style("font-size",G+"px").style("font-family",Z).style("font-weight",Q).style("font-style",q).style("text-shadow",K).style("text-decoration",J).style("fill",$).style("text-anchor",et.textAnchor).style("cursor",S).style(v,m*L).attr(v,m*L).attr("dy",function(e,t){return l&&"zigzag"==l.mode&&t%2&&et.dy1?et.dy1:et.dy}).attr("transform","rotate("+et.rotate[0]+" "+et.rotate[1]+" "+et.rotate[2]+")"),Va(Y,g,et,x,a,p,n),i.ticks.isHierarchialLevelType()&&Y.call(Na,p,g),H.attr("transform",function(e){return y(j(e))}),e!==M&&(H=H.transition(e),V=V.transition(e),Y=Y.transition(e),B=B.transition(e).attr("opacity",P).attr("transform",function(e){return isFinite(e=j(e))?y(e):this.getAttribute("transform")}),F.attr("opacity",P).attr("transform",function(e){var t=this.parentNode.__axis;return y(j(t&&isFinite(t=t(e))?e:e))})),B.remove(),I.attr("d","left"===g||"right"==g?"M"+m*d+","+D+"H0.5V"+R+"H"+m*d:"M"+D+","+m*d+"V0.5H"+R+"V"+m*d),H.attr("opacity",1).attr("transform",function(e){return y(j(e))}),V.attr(v+"2",m*c),M.filter(Oa).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","right"===g?"start":"left"===g?"end":"middle"),M.each(function(){this.__axis=j}),Y.each(E),x.tooltip===!0&&Y.each(function(e){Bt(d3.select(this),e)})}function Sa(e,t){for(var a=t.systemConf.metadata,r=a.axes.y[e],n=1,i=r.length-1,l=a.columns[r[n-1]],o=l[l.datatype];i>=n;n++){var s=a.columns[r[n]],c=s[s.datatype];o=ut(o,c)}return o}function Pa(e){switch(e){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top"}}function Ta(e,t){return"x"==e&&t||"y"==e&&!t}function Ea(e,t){return("bottom"==e||"top"==e)&&!t||("left"==e||"right"==e)&&t?"x":"y"}function La(e,t,a){var r;return"x"==t?0==a?r=e.axes.x:(e.axes.x.levels[a-1]=e.axes.x.levels[a-1]||{},r=e.axes.x.levels[a-1]):"clr"===t?r=e.axes.clr:(e.axes.y.groups[a]=e.axes.y.groups[a]||{},r=e.axes.y.groups[a]),r}function za(e,t,a,r){var n=e.axes.x.count>1&&"x"==t&&a>0;return"auto"==r&&!n}function Da(e,t){var r=e.systemConf.legend.colorBand.ranges,n=sc(r),i=e.dataset.getDataType("clr")===_o;return a(n[0])||(n=n.map(function(e){return[e]})),i||t||n.sort(function(e,t){return oo(e[0],t[0])}),n}function Ra(e,t,a,r,n){var i="y"==a?r?e.x:e.y:r?e.y:e.x,l=r&&!n||!r&&n,o=Kl("y"==a?l?oo:so:l?so:oo),s=o.left(t,i,0,r&&n?t.length:t.length-1),c=r?i:t[s],d=r?t[s-1]:i,u=s>0&&c>d?s-1:s;return u}function ja(e,t){return e/(1-t)}function Ma(e,t,a,r,n){var i=Ei.scale.getOuterPadding(e,t,a,r),l=2*(pl(e[0],e[1])+n*i);return l}function Ia(e){return e.ordinalRange?e.ordinalRange:(e.ordinalRange=e.domain().map(function(t){return e(t)}),e.ordinalRange)}function Ha(e,t,a,r,n,i,l,o,s,c,d){function u(e){var a={};return v?"bottom"==t||"top"==t?(a.left=i(z)-ml(j-R),a.right=i(D)+(R+j)):"left"!=t&&"right"!=t||90!=r&&270!=r||(a.top=i(D)-R,a.bottom=i(z)+R):(a.top=a.left=0,a.right="bottom"==t||"top"==t?Wn(e,"width",y):0,a.bottom="bottom"==t||"top"==t?0:Wn(e,"height",y)),a}function h(e,t,a,r){var n={};return v?(n.left=n.right=0,n.top=n.bottom=0):(n.left="axislabel"==e?r*(a.width-(t.left+t.width)):r*t.left,n.right=r*(a.width-(t.left+t.width)),n.top=r*t.top,n.bottom=r*t.bottom),n}function f(e,o){if("none"!=n){var c=e,d=[c.childNodes[0]],u=d3.select(c).selectAll("tspan").nodes();if(u&&u.length&&(u.sort(function(e,t){return t.textContent.length-e.textContent.length}),d=u),d){if(v){m=m||l.selectAll("text.ticklabel").nodes().length;var h=ml(p.outerPaddingInPixel);"bottom"==t||"top"==t?I?B=M.horizontal:90!=r&&270!=r&&(B=0==o||o==m-1?2*h:2*ml(p.rangeBand)):"left"!=t&&"right"!=t||90!=r&&270!=r||(H=0==o||o==m-1?2*h:2*ml(p.rangeBand))}for(var f=0;f<d.length;f++){var g,y=u&&u.length?d[f]:c,x=y.textContent,b="tspan"==y.nodeName?Xa:Ua,w=b(y),C=w,k=-1,A={width:B,height:H},P=v?0:S;if(T&&"ticklabel"==s&&!a.actChartObj){var E="left"==t||"right"==t?B:Math.abs(i.discreteWidth(e.__data__))||B,L=pl(B,E);return void Ft(y,y,y.textContent,L,H,w,O)}if("ticklabel"==s){if(B<w.width){k=(w.width-B)/w.width;var z=fl((1-k)*y.textContent.length);y.textContent=y.textContent.substring(0,z-2)+O,w=b(y)}if(H<w.height){k=(w.height-H)/w.height;var z=fl((1-k)*y.textContent.length);y.textContent=y.textContent.substring(0,z-2)+O,w=b(y)}}var D=l.selectAll(".domain").node().getBoundingClientRect(),R={left:w.left-D.left,right:w.left+w.width-D.left,top:w.top-D.top,bottom:w.top+w.height-D.top,width:w.width,height:w.height};if("left"!=t&&"right"!=t||0==r||180==r||360==r?"bottom"!=t&&"top"!=t||90==r||270==r||(R.left+gl(P,V.left)<F.left||R.right-gl(P,V.right)>F.right)&&(g=!0,Dt(y,y.textContent,R,F,t,O,V,A,y)):(R.top+gl(P,V.top)<F.top||R.bottom-gl(P,V.bottom)>F.bottom)&&(g=!0,Dt(y,y.textContent,R,F,t,O,V,A,y)),"ticklabel"==s&&!g){var w=b(y);(w.width!=C.width||w.height!=C.height)&&Ft(y,c,x,A.width,A.height,w,O)}y.textContent==O&&(y.textContent=a.actChartObj?".":"")}}}}if("none"==n)return f;var g,p,m,v,y=a.plotarea,x=a.chartarea,b=a.canvasarea,w=a.actChartObj||a,C=Ea(t,w.axes.rotated),k="x"==C?w.systemConf.chart.axes.xaxis:w.systemConf.chart.axes.yaxis[d||0],O=null==n||"ellipsis"==n?"..":"",A=k.tickmark.align,S=Ei.utils.getVal(at([c,w.systemConf.chart,w.systemConf.canvas,qs],"fontSize")),c="ticklabel"==s?c:{},P=La(w,C,d||0).ticks,T=null!=i.discreteWidth,E=.5;if(null==e&&"ticklabel"==s){g=null==o.tickValues()?i.ticks?i.ticks.apply(i,[10]):i.domain():o.tickValues();var L=l.selectAll(".tick").data(g,i);e=L.selectAll("text.ticklabel")}if("ticklabel"==s&&o&&!T&&(P.isHierarchy()||"between"==A)){v=!0,g=g||o.tickValues(),p=Ei.scale.getRangeBand(i,g,0);var z=g[0],D=g[g.length-1];k.reversed&&(z=g[g.length-1],D=g[0]);var R=ml(p.outerPaddingInPixel),j=i.bandwidth?i.bandwidth()/2:0}var M=_a(c,x),I=it(c.width)||it(c.maxWidth),H=M.vertical,B=M.horizontal,F=u(w),V=h(s,y,b,E);return a.actChartObj||"axislabel"==s&&e.node()?f(e.node()):f}function Ba(e,t,a,r,n){var i=sc(e.plotarea);i.chartId=e.id;var l=zt(e.svg,"defs",[1]),o=W(i,r+n),s=zt(l,"clipPath",[1],"#","id",o),c=zt(s,"rect",[1]),d="x"==r?e.systemConf.chart.axes.xaxis:e.systemConf.chart.axes.yaxis[n],u={},h=t.axisgroup,f=.5,g={left:f*e.plotarea.left,right:f*(e.canvasarea.width-(e.plotarea.left+e.plotarea.width)),top:f*e.plotarea.top,bottom:f*e.plotarea.bottom};switch(a){case"top":u.x=-g.left,u.y=-h.height-d.tickmark.size,u.height=h.height+e.plotarea.height+d.tickmark.size,u.width=h.width+g.left+g.right;break;case"right":u.x=-e.plotarea.width,u.y=-g.top,u.width=h.width+e.plotarea.width,u.height=h.height+g.top+g.bottom;break;case"bottom":u.x=-g.left,u.y=-e.plotarea.height,u.height=h.height+e.plotarea.height,u.width=h.width+g.left+g.right;break;case"left":u.x=-h.width,u.y=-g.top,u.width=h.width+e.plotarea.width,u.height=h.height+g.top+g.bottom}return c.attrs(u),o}function Fa(e,t,a,r,n,i){function l(t,a,r,n,i,l){e.dataObject.hierarchical&&e.dataObject.hierarchical.categoryTree&&"x"===l&&tt(Qa,d3.event,o(t,a,r,n),e,i)}function o(e,t,a,r){return e.data=e.data.map(function(e){return e.value=e.datatype===Wo?Mr(t,null,e.time).getTime():t,e.itemIndex=a,e.levelindex=r,e}),e}var s=a.events,c=null!=s&&0==rt(s.enabled,!0),d={mousemove:s?s.mousemove:null,mouseout:s?s.mouseout:null,click:s?s.click:null,dblclick:s?s.doubleclick:null},u={tap:s?s.tap:null,tapHold:s?s.taphold:null,tapHoldEnd:s?s.tapholdend:null,dbltap:s?s.doubletap:null};if(!c){var h={},f={};for(var g in d){var p=null;d[g]?(p="click"==g?function(t,a){l(r,t,a,i,!1,n),tt(d[arguments.callee.eventtype],d3.event,o(r,t,a,i),e)}:function(t,a){tt(d[arguments.callee.eventtype],d3.event,o(r,t,a,i),e)},p.eventtype=g):"click"==g&&(p=function(e,t){l(r,e,t,i,!0,n)}),h[g]=p}for(var g in u){var p=null;u[g]?(p="tap"==g?function(t,a){l(r,t,a,i,!1,n),tt(u[arguments.callee.eventtype],d3.event,o(r,t,a,i),e)}:function(t,a){tt(u[arguments.callee.eventtype],d3.event,o(r,t,a,i),e)},p.eventtype=g):"tap"==g&&(p=function(e,t){l(r,e,t,i,!1,n)}),f[g]=p}Sr(t,h,f)}}function Va(e,t,a,r,n,i,l){var o=r.minmaxlabels||{},s=l.systemConf;if(o.show===!0){var c=n.reversed===!0,d=+Ei.utils.getVal(at([o,r,s.chart,s.canvas,qs],"fontSize")),u=i.domain(),h=u.length-1,f=e.filter(function(e){return!(e-u[0]&&e-u[h])});"top"!==t&&"bottom"!==t||"middle"!==a.textAnchor?"left"!==t&&"right"!==t||!(l.plotarea.top<d/2||l.plotarea.bottom<d/2)||f.attr("dy",function(e){return e-u[c?h:0]?"0.9em":"-0.3em"}):f.style("text-anchor",function(e){return e-u[c?h:0]?"end":"start"}),Ht(f,[o,r,s.chart,s.canvas,qs])}}function Na(e,t,a){e.nodes().forEach(function(e,r){var n="left"==a||"right"==a?1:0,i=[0,0],l=t.discreteWidth(r)/2;i[n]=i[n]+l,e.setAttribute("transform","translate("+i[0]+","+i[1]+")")})}function Ya(e,a,r,n,i,l){var o={},s="0.71em",c="0.35em",d="0em",l=null==l?n.tickPadding():l;switch(e){case"top":o.rotate=[a,0,-(gl(i,0)+l)],a>=0&&45>a||a>315&&360>=a?(o.dy=d,o.dy1="-1em"):a>=45&&90>=a||a>=90&&135>=a||a>=225&&315>=a?o.dy=c:a>135&&225>a&&(o.dy=s),o.textAnchor="0"==a||180==t(a)||360==t(a)?"middle":t(a)<180?"end":"start";break;case"bottom":o.rotate=[a,0,gl(i,0)+l],a>=0&&45>a||a>315&&360>=a?(o.dy=s,o.dy1="1.71em"):a>=45&&90>=a||a>=90&&135>=a||a>=225&&315>=a?o.dy=c:a>135&&225>a&&(o.dy=d),o.textAnchor="0"==a||180==t(a)||360==t(a)?"middle":t(a)<180?"start":"end";break;case"left":o.rotate=[a,-(gl(i,0)+l),0],a>=0&&45>a?o.dy=c:a>=45&&90>=a||a>=90&&135>=a?o.dy=s:(a>135&&225>a||a>=225&&315>=a||a>315&&360>=a)&&(o.dy=d),o.textAnchor="90"==a||270==t(a)?"middle":a>90&&270>a?"start":"end";break;case"right":o.rotate=[a,gl(i,0)+l,0],a>=0&&45>a||a>135&&225>a?o.dy=c:a>=225&&315>=a||a>315&&360>=a?o.dy=s:(a>=90&&135>=a||a>=45&&90>=a)&&(o.dy=d),o.textAnchor="90"==a||270==t(a)?"middle":a>90&&270>a?"end":"start"}return o}function _a(e,t){return{vertical:aa(dc(e.height,e.maxHeight,Ei.axis.ticks.maxTickSizeRatio_Vert),t.height),horizontal:aa(dc(e.width,e.maxWidth,Ei.axis.ticks.maxTickSizeRatio_Hori),t.width)}}function Wa(e){var t=null!=e?e.axisformat||e.format:null;return t&&"auto"===t.specifier}function Xa(e){var t=document.createRange();t.selectNode(e);var a=t.getClientRects(),r=a[1]||a[0];return t.detach(),(Ks.FIREFOX||Ks.SAFARI)&&(r.width=2*r.width,r.height=2*r.height),r}function Ua(e){return e.getBoundingClientRect()}function Ga(e,t,r,n,i,l,o){var s,c,d=a(e),u=pc.getTextHeight(e,t,r,l,o,i);return d?e.forEach(function(e,a){it(n)&&n.length&&(t=n[a].fontSize||t,r=n[a].fontFamily||r);var i=pc.getTextWidth(e,t,r,l,o);u=pc.getTextHeight(e,t,r,l,o),s=it(s)?gl(s,i):i,c=it(c)?c+1.1*u:u}):(it(n)&&(t=n.fontSize||t,r=n.fontFamily||r),s=pc.getTextWidth(e,t,r,l,o),c=pc.getTextHeight(e,t,r,l,o,i)),{width:s,height:c}}function Za(e,t,a,r,n){return null==e?e:"wrapOnSpace"==t?e.split(" "):"wrapAll"==t?Rt(e,a,r,n):e}function Qa(e,t,r,n){t=t.data[0],r.cache.hierarchical||(r.cache.hierarchical={});var i=r.dataObject.hierarchical,l=t.itemIndex,o=r.cache.hierarchical,s=i.finalDepth-t.levelindex,c=i.getCategoriesByDepth(s),d=c[l],u=g.getAllChildren(d),h=Qa.getQuery(u[0],s);o.lastQuery=h,n&&Qa.applyDefaultStyles(r,h,o.query!==h),o.query===h?(a(o.data)&&Qa.setState(o.data,!1),o.data=o.query=o.active=o.depth=o.itemIndex=o.isLeaf=null):(a(o.data)&&Qa.setState(o.data,!1),Qa.setState(u,!0),o.query=h,o.data=u,o.active=!0,o.depth=s,o.itemIndex=l,o.isLeaf=d.leaf)}function qa(e,t,a){a&&(Ei.labelRenderer&&Ei.labelRenderer.drawLabelsFromQueue(t.labelQueue,t.labelArray,e),t.labelArray=[],t.labelQueue=[],t.notesArray=Ei.annotation?Ei.annotation.draw(e,t.notesArray):[])}function Ka(e,t){var a=e.params,r=a.stacked,n=a.chartObj,i=a.yscale,l=Ei.DataProcessor.helpers,o=n.renderer[t].barDatasetIndex?n.renderer[t].barDatasetIndex():0,s=a.commonPlotOptions,c=l.getChartType(n.seriesdata[t].type||n.userdata.seriesdata.type,"string"),d="bullet"==c,u=n.dataObject.groupedByStack,h=n.seriesdata[t].plotoptions,f=h&&h.levelMarker?oc(s.levelMarker,h.levelMarker,!0):s.levelMarker,g=s.levelMarker||{},p=n.barscale2.bandwidth()||0,m=p,v=+(s.bandWidth||null)||(d?p/3:p),y=+(g.bandWidth||p),x=+(g.maxBandWidth||p),b=+(s.maxBandWidth||p);m=pl(y,x,p),v=pl(v,b,p);var w=gl(0,(p-v)/2),C=gl(0,(p-m)/2),k=function(){return i.bandwidth?i.bandwidth()/2:0},O={stacked:r,categories:a.xscale.domain(),axisrotated:a.axisrotated,bandwidth1:n.barscale1,bandwidth2:n.barscale2,barDatasetIndex:o,padding:w,yscale:i,hasNegValue:a.hasNegValue,yaxiscolumnorder:a.yaxiscolumnorder,addRangeBand:k,barWidth:v,charttype:c,levelMarker:f,levelMarkerWidth:m,levelMarkerPadding:C,stackGroupIndex:n.userdata.seriesdata.stackGroup?Ja(t,u.keys(),function(e){var t=u.get(e);return t.map(function(e){return e.si})}):0};return n.renderer[t].commonOption=O,O}function $a(e,t,a,r){var n=function(e){return a.getX(e)},i=e.map(n);t.forEach(function(t,n){var l=t,o=i.indexOf(l);if(0>o){var s=[];s.splice(a.xidx,0,l),s.splice(a.yidx(r),0,0),s.isDummy=!0,s.y=0,s.y0=0,s.index=n,e.splice(n,0,s)}})}function Ja(e,t,a){return Vl(t,function(t,r){var n=a?a(t,r):t;return-1!=n.indexOf(e)?r:-1})}function er(){Ei.legutil.imagePallete.each(function(e,t){var a=e.map(function(e){return Ei.imageFilePath+e});Ei.legutil.imagePallete.set(t,a)})}function tr(e){var t=e.systemConf.legend.colorBand,a=e.dataset.getDataType("clr"),r={fillColor:Ll},n={type:"lever",shadow:"0 0 2px rgba(0,0,0,0.2)",tooltip:{enabled:!(t.ranges&&t.ranges.length||a===_o),padding:5,margin:5,backgroundColor:"white",borderColor:"rgb(51, 51, 51)",fontColor:"rgb(51, 51, 51)",fontSize:e.globalProp.fontL1Size.l5}};return{track:r,slider:oc(Zr(e),n,!0)}}function ar(e,t,a,r,n){var i=t&&t[r]||n;it(i)&&tt(i,d3.event,e)}function rr(e,t,a,r,n){var i=t.events,l=a.systemConf.chart.plot.events;it(n)&&(i=t[n.type]&&t[n.type].events);var o=it(e)&&it(e.events)?Ei.utils.getValueOfPlotOptions(e.events,i)(r):null!=i?i[r]:null!=l?l[r]:null;return void 0===o&&l&&(o=l[r]),o}function nr(e){var t=e.patternPallete;return t&&t.length}function ir(e){return e===Ei.charttype.area||e===Ei.charttype.stkdarea||e===Ei.charttype.arearange}function lr(e){return e===Ei.charttype.bar||e===Ei.charttype.stkdbar||e===Ei.charttype.bullet||e===Ei.charttype.gantt||hr(e)||e===Ei.charttype.waterfall}function or(e){return-1!=Ei.chartcategory.dotPlot.indexOf(e)}function sr(e){return e===Ei.charttype.bubble||e===Ei.charttype.bubblepie}function cr(e){return e===Ei.charttype.waterfall}function dr(e){return or(e)||e===Ei.charttype.bubblepie}function ur(e){return e===Ei.charttype.sunburst}function hr(e){return e===Ei.charttype.heatmap}function fr(e){return-1!=Ei.chartcategory.piePlot.indexOf(e)}function gr(e){return fr(e)&&e!==Ei.charttype.pie}function pr(e,t){var a=xo(e);return null!=t.touches&&!Ks.ANDROID&&Ks.uiwebview&&(a[0]+=window.pageXOffset,a[1]+=window.pageYOffset),a}function mr(e,t,a,r){var n=function(){return e.dataObject.getTransRectValue.apply(e.dataObject,et(arguments))};return{x:n("x",t,a,0,r),y:n("y",t,a,0,r),width:n("width",t,a,0,r),height:n("height",t,a,0,r)}}function vr(e,t,a,r,n){var i,l,o,s,c=e.dataset,d=e.systemConf.chart.plot.plotoptions.heatmap,u=d.symbol&&F(d.symbol),h=c.getX(t),f=c.getY(t,n),g=e.dataObject.hasZaxis?e.zscale(c.getZ(t)||e.zscale.domain()[0]):1,p=a.bandwidth(),m=r.bandwidth();return e.axes.rotated?(o=m*g,s=p*g,u&&(o=s=pl(o,s)),l=a(h)+(p-s)/2,i=r(f)+(m-o)/2):(o=p*g,s=m*g,u&&(o=s=pl(o,s)),i=a(h)+(p-o)/2,l=r(f)+(m-s)/2),{x:i,y:l,width:o,height:s}}function yr(e){var t=h=2*e.r;return{x:(e.x||0)-t/2,y:(e.y||0)-h/2,width:t,height:h}}function xr(e){return e.systemConf.tooltip.crosshair.type!=El}function br(e,t,a){if(hc.isQuantileColorScale(e)){var r=e.chartTypes[0].value===Ei.charttype.pyramid?e.seriesdata[0].data[0]:Dl;t.style("pointer-events",function(t,n){var i=r?r[r.length-1-n]:t.data||t,l=e.dataset.getClr(i);return a||!ha(l,e)?El:void 0})}}function wr(e,t,r,n,i,l,o,s,c,d,u,h){var f=null,g=i.plotarea,p=i.plotarea_approx;l=l||{},s&&xr(i)?o?f={actLeft:r+g.left,actTop:t.y+g.top,top:t.y,left:d?g.width:t.x}:(f={top:0,actTop:g.top+n},d?(f.left=t.x,f.actLeft=t.x+g.left):(f.left=r,f.actLeft=g.left+r)):d?(f={left:t.x,top:t.y},o?(f.actLeft=r+g.left,f.actTop=t.y+g.top):(f.actLeft=t.x+g.left,f.actTop=n+g.top)):f={left:r,top:n,actLeft:g.left+r,actTop:g.top+n};var m=t.x-e.clientX,v=t.y-e.clientY;return f.dLeft=m+g.left,f.dTop=v+g.top,f.left-=m,f.top-=v,f.dLeft=m+g.left,f.dTop=v+g.top,f.helpers={seriesindex:l.seriesPos,subseriespos:a(l.subseriesindex)?l.subseriesindex[l.seriesPos]:l.subseriesindex,subseriesLength:a(l.subseriesLength)?l.subseriesLength[l.seriesPos]:l.subseriesLength,itempos:l.itemPos,itemposShared:l.itemPosShared,color:i.seriesColor,tooltipSharedInfo:c,tooltipShared:s,svgFillFunc:h||i.renderer[l.seriesPos]&&i.renderer[l.seriesPos].fillColorFunc,inheritColors:i.dataObject.isWaterfallEnabled},u&&(f.dLeft+=p.x,f.dTop+=p.y),f}function Cr(e,t){var a=e.userdata.metadata.columns,r=a.filter(function(e){return e.dataindex===t.dataindex});return r[0]}function kr(e,t,a){return e>=a.x&&e<=a.x+a.width&&t>=a.y&&t<=a.y+a.height}function Or(e,t,a){return yl((e-a.cx)*(e-a.cx)+(t-a.cy)*(t-a.cy))-(a.r||0)}function Ar(e,t){var a=null,r=e.systemConf.chart.plot.plotoptions[Ei.charttypenames.get(t)],n=dr(t)||t===Ei.charttype.line,i=!n,l=r&&r.events&&r.events.triggerOffset;return a=it(l)?l:e.dataObject.isBubbleEnabled?3===arguments.length?arguments[2]:dc(e.zscale.range()[1]/2+50,null):i||e.systemConf.tooltip.sharedSeriesInfo?null:e.dataObject.isCombinationalChart&&n?10:50}function Sr(e,t,a,r,n){r=r||{},n=r.namespace||n,Ks.isMouseDevice&&t&&Er(e,n,t),Ks.isTouchDevice&&a&&Lr(e,n,a,r)}function Pr(e,t,a){if(t=null!=t&&""!=t?"."+t:"",Ks.isMouseDevice){if(""!==t)e.on(t,null);else for(var r in a)e.on(r,null);a=null}}function Tr(e){return e.changedTouches?e.changedTouches[0]:e}function Er(e,t,a){if(null!=e.node()){t="."+t;var r={};for(var n in a)r[n+t]=a[n],e.on(n+t,r[n+t]);a=r,e.on(a)}}function Lr(e,t,a,r){function n(e,t,a,r){return Math.sqrt(Math.pow(a-e,2)+Math.pow(r-t,2))}function i(){d&&d3.event.preventDefault()}if(null!=e.node()){var l=r.touchleave,o=r.target,s=r.chartObj,c=s&&s.systemConf.chart.plot.events||{},d=r.preventDefault!==!1,u=!("plot"===o&&0==c.isFocusedTouchmove);t=null!=t?"."+t:"";var h,f,g,p,m,v=30,y=150,x=500,b=100,w=50,C=500,k={},O=0,A=0,S=x-y,P=null,T=!1,E=(a.touchmove,a.touchend),L=a.tap,z=a.dbltap,D=a.singletouchmove,R=a.doubletouchmove;"plot"===o&&rr(null,s.systemConf.chart.plot.plotoptions[s.chartTypes[0].name],s,"taphold")?(p=a.tap,m=E):(p=a.taphold,m=a.tapholdend);var j="touchstart"+t,M="touchmove"+t,I="touchend"+t,H={};H[j]=function(){if(0!=c.enabled){var e=d3.event.touches;if(!(e.length>1)&&(k.time=new Date,k.location=pr(this,d3.event),P=null,T=!1,f=!1,p)){var t=d3.event,a=arguments,r=this;g=setTimeout(function(){d3.event=t,s&&(s.zcEventType="taphold"),p.apply(r,a),f=!0},C)}}},H[M]=function(){if(0!=c.enabled){var e=d3.event.touches;if(p){var t=pr(this,d3.event),a=null!=k.location?n(k.location[0],k.location[1],t[0],t[1]):null;if(a>v)clearTimeout(g);else if(f)return i(),!1}if(e.length>1)return void(2==e.length&&R&&(T=!0,R.apply(this,arguments),i()));var r=(new Date).getTime();if(P||(P=r),l&&null!=document.elementFromPoint){var o=0==O||r-O>w,d=e[0],m=document.elementFromPoint(d.pageX-window.pageXOffset,d.pageY-window.pageYOffset);if(!o||"svg"===m.localName||null!=m.id.match(/tooltip/gi))return void i();if(m!=this){if(h!=m){var y=h||this,x=d3.select(y),C=x.on(I),A=x.datum(),S=x.attr("id")||x.attr("class"),E=null!=S?S.match(/(\d)+$/gi):null;E=null!=E&&null!=E[0]?parseInt(E[0]):null,null!=C&&null!=E&&C.call(y,A,E)}var x=d3.select(m),L=x.attr("class");s.chartTypes[0].value!==Ei.charttype.dial||"inner"!==L&&"outer"!==L||(x=Hl(m.parentNode));var z=x.on(M),A=x.datum(),S=x.attr("id")||x.attr("class"),E=null!=S?S.match(/(\d)+$/gi):null;return E=null!=E&&null!=E[0]?parseInt(E[0]):null,void(null!=z&&null!=E&&(z.call(m,A,E),h=m,O=r))}}u&&P-k.time<b||D&&(s&&(s.zcEventType="touchmove"),D.apply(this,arguments),i())}},H[I]=function(){if(0!=c.enabled){var e=d3.event.touches;if(p&&(clearTimeout(g),f))return f=!1,i(),m&&m.apply(this,arguments),!1;if(!(e.length>1)){if(T&&R&&E)return T=!1,E.apply(this,arguments),void i();var t=new Date,a=pr(this,d3.event),r=t-k.time,l=null!=k.location?n(k.location[0],k.location[1],a[0],a[1]):null,o=t-A;S>0&&S>=o&&o>0&&v>=l?(z&&(s&&(s.zcEventType="doubletap"),z.apply(this,arguments),i()),A=0):y>=r&&v>=l?L&&(s&&(s.zcEventType="tap"),L.apply(this,arguments),i()):E&&E.apply(this,arguments),A=t}}};for(var B in H)e.on(B,H[B])}}function zr(e,t,a,r,n,i,l,o){function s(t){a!==Wo||d.customFormat?a===Xo&&("axis"===n||n===cd||n===sd&&r.dataObject.isHierarchy)&&"number"==typeof t&&_r(t)>12&&(t=parseFloat(t.toFixed(12))):t=Mr(t,d,e),o&&d.customFormat&&(e=sc(e),e.levelindex=o);var i="function"==typeof d?d(t,a,e):d.customFormat?tt(d.customFormat,t,a,e,n,r):Rr(d,t,e,a,o,n);return c(i)}function c(e){return 0!=i?G(e):Z(e)}if(!a)return c(t);if(null==t)return e&&null!=e.nullformatting?c(tt(e.nullformatting,t,a,e,n,r)):t;var d=e?e[n+"format"]||e.format:null;return d&&Object.keys(d).length||(d=Dr(a,e)),t.constructor==Array?t.map(function(e){return s(e)}).join(it(d.arraySeperator)?d.arraySeperator:l):s(t)}function Dr(e,t){var a={};switch(e){case"time":t&&t.groupby?a={}:t&&t.subfunction?a=jr(t.subfunction,t.useUTC):a.specifier="YYYY";break;case"numeric":a.thousandSeperator=",";break;case"percent":a.decimalPlaces=1,a.suffix="%",a.trailingZeros=!1}return a}function Rr(e,r,n,i,l,o){var s;switch(i){case"time":var c,d=n&&n.useUTC===!0?Bo:Ho,u=e.specifier;if(it(n)&&(c=a(n.groupby)?n.groupby:n.AUTO_GROUP_ORDER),a(u)||a(c))s=[],u=u||[null],it(l)&&(u=it(u)?[u[l]]:[null]),u=a(u)?u:[u],u.forEach(function(e,t){var a=Hr(e),i=Fr(d,a,n,l);
s[t]=i?i(r):r}),o==sd&&(s=s&&s.toString());else{var h=Hr(u);if("auto"===e.specifier||null==h)s=r;else if(Bc.test(h)){var f=Fr(d,h,n,l);s=f(r)}else s=d(h)(r)}break;case"ordinal":var g=e.letterCase;r+="",s=g?"uppercase"===g?r.toUpperCase():"lowercase"===g?r.toLowerCase():r[0].toUpperCase()+r.substring(1).toLowerCase():r;break;default:if("decimal"==e.type&&t(r)!=r)return"";r="decimal"==e.type||0===e.decimalPlaces?parseFloat(r):r;var p=e.currency,m=Vr(e,null,r),v=!1;if(s=m(r),/(e|s)/gi.test(Nr(e))&&(it(e.decimalPlaces)?s=s.replace(/[^a-z]+/i,function(){return Vr(e,"."+e.decimalPlaces+"f")(arguments[0])}):v=!0),e.signEnabled===!1&&(s=s.substring(1,s.length)),!rt(e.trailingZeros,!0)||v){var y="";s=s.replace(/[a-z]+(\+|-)*(\d)*$/i,function(){return y=arguments[0],""}),s=s.replace(/\.(\d)*0*$/gi,function(){var e=arguments[0];return parseFloat(e)?"."+(+e).toString().split(".")[1]:""})+y}s=Yr(e,s),null!=p&&(s=/(\+|\-)/.test(s[0])?s[0]+p+s.slice(1):p+s)}return(i==_o||i==Xo)&&(s=(null!=e.prefix?e.prefix:"")+s+(null!=e.suffix?e.suffix:"")),e.breakSpace&&(s=s.split(" ")),s}function jr(e,t){t=t===!0;var a=t?Bo:Ho;switch(e){case"YEAR":case"year":return a("%Y");case"MONTH":case"month":return a("%B");case"ABSDAY":return a("%a");case"DAY":case"day":return a("%e");case"WEEKDAY":return a("%A");case"WEEK":case"week":return a("Week %W");case"ABSHOUR":return a("%I");case"ABSSECOND":return a("%S");case"ABSMINUTE":case"MINUTE":return a("%M");case"MILLISEC":return a("%L");case"HOUR":return a("%H hrs");case"DATETIME":return a("%d %b %Y %H:%M:%S");case"DATE":return a("%x");case"TIME":return a("%X");case"TIMESTAMP":return a("%x %X hrs");case"ABSMONTH":return a("%b %Y");case"ABSWEEK":return a("W%U %Y");case"ABSQUARTER":return function(e){var r=t?e.getUTCFullYear():e.getFullYear();return a("Q"+Gr(e,t)+" "+r)};case"QUARTER":return function(e){return a("Q"+Gr(e,t))};case 100:return a("%d %b %Y %H:%M:%S %L");default:throw"UNKNOWN TYPE 111: "+e}}function Mr(e,t,a){var r=a?a.inputformat:null,n=new Date(e.toString()),i="function"==typeof r?r:"function"==typeof window[r]?window[r]:null;if(!(e instanceof Date||null==r||!i&&"timestamp"==r.toLowerCase())){e=i||typeof e==String?e:e.toString();var l=Fo,o=i?i(e,a):l(Hr(r))(e);n=null==o?n:new Date(o)}return isNaN(n)&&(n=new Date(+e)),n}function Ir(e,t,a,r,n){return e=e||{},n=(n&&e[n+"percentformat"]?n:"")+"percent",e[n+"format"]||(e.percentformat=Dr("percent")),zr(e,t,a,r,n)}function Hr(e){if(e)for(var t in jc){var a=e.indexOf(t);a>=0&&"%"!==e[a-1]&&(e=e.replace(new RegExp(t,"g"),jc[t]))}return e}function Br(e,t,a){return function(t){for(var r,n=e(t),i=[],l=-1,o=0,s=n.length;++l<s;)36===n.charCodeAt(l)&&(i.push(n.slice(o,l)),r=n.charAt(++l),r=it(Ic[r])?Ic[r](t,a):r,i.push(r),o=l+1);return i.push(n.slice(o,l)),i.join("")}}function Fr(e,t,r,n){var i;if(t)i=Br(e(t),t,r.useUTC);else if(r.groupby){var l=a(r.groupby)?r.groupby:r.AUTO_GROUP_ORDER,o=0!==n&&it(n)?l[n-1]:r.subfunction;i=jr(o,r.useUTC)}return i}function Vr(e,t,a){var r,n=it(e.signEnabled)?"+":"",i=null!=e.zeroPadding&&e.zeroPadding.enabled?"0"+e.zeroPadding.digits:"",l=null!=e.thousandSeperator?",":"",o=Nr(e),s=/(e|s)/gi.test(o);r=null!=e.decimalPlaces&&e.decimalPlaces>=0?s?Ks.IE?".20":"":"."+e.decimalPlaces:s?"":"."+_r(a);var c=n+i+l+(t||r+o);return Io(c)}function Nr(e){var t=(e.decimalPlaces,e.type);return Mc[t]||"f"}function Yr(e,t){var a=e.thousandSeperator,r=e.decimalSeperator,n=t.split(/\./);return(null!=a&&","!=a?n[0].replace(/,/g,a):n[0])+(n[1]?(null!=r?r:".")+n[1]:"")}function _r(e){if(isNaN(e))return 0;if(e=+e,Math.floor(e)==e)return 0;var t=Wr(e);return t.toString().split(".")[1].length||0}function Wr(e){if(/\d+\.?\d*e[+-]*\d+/i.test(e)){var t="0",a=String(e).toLowerCase().split("e"),r=a.pop(),n=Math.abs(r),i=r/n,l=a[0].split(".");if(-1===i)e=t+"."+new Array(n).join(t)+l.join("");else{var o=l[1];o&&(n-=o.length),e=l.join("")+new Array(n+1).join(t)}}return e}function Xr(e){var t=hl(e/1e3),a=hl(t/60),r=hl(a/60),n=hl(r/24),i=hl(n/30.436854166666667),l=hl(n/365.24225);return{seconds:t,minute:a,hour:r,day:n,month:i,years:l}}function Ur(e){var t=Xr(e),a="YEAR";return a=t.years>1?"YEAR":t.month>1?"ABSMONTH":t.day>1?"ABSDAY":t.hour>1?"ABSHOUR":t.minute>1?"ABSMINUTE":"ABSSECOND",{subFunction:a}}function Gr(e,t){return hl((t?e.getUTCMonth():e.getMonth())/3)+1}function Zr(e){var t=e.systemConf.legend,a=t.colorBand.ranges,r=xc.getColorBandDimension(e),n=xc.getOrient(t),i=n===ks||n===Cs;return{line:{strokeColor:"grey",strokeWidth:2,height:r[i?1:0]+20},triangleUp:{size:15,fillColor:"#4C4C4C"},triangleDown:{size:15,fillColor:"#4C4C4C"},triangleUpDown:{size:15,fillColor:"#4C4C4C",padding:r[i?1:0]+15},box:{strokeWidth:1,strokeColor:"black",fillColor:"transparent",height:r[i?1:0],width:a&&a.length?r[i?0:1]/a.length:10},enlarge:{range:1.2,height:r[i?1:0],width:a&&a.length?r[i?0:1]/a.length:10},lever:{height:26,width:9,radius:2,stripeHeight:8,stripePadding:2,fillColor:"white",strokeColor:"#DADADA",stripeColor:"#DADADA",shadow:"0 0 2px rgba(0,0,0,0.2)"},hollowCircle:{size:25,outerFillColor:"white",outerStrokeColor:"#DADADA",innerStrokeColor:"#DADADA",shadow:"0 0 2px rgba(0,0,0,0.2)"},circle:{size:25,outerStrokeColor:"white",outerStrokeWidth:2,innerFillColor:"white",shadow:"0 0 2px rgba(0,0,0,0.2)"},vernier:{height:26,width:9,fillColor:"white",strokeColor:"#DADADA",shadow:"0 0 2px rgba(0,0,0,0.2)"},pentagon:{size:8,bandWidth:3,fillColor:"white",strokeColor:"#DADADA",shadow:"0 0 2px rgba(0,0,0,0.2)",height:r[i?1:0]}}}function Qr(e,t,a,r,n){var i=(n.chart,n.animationOptions.enabled),l=n.axisrotated,o=n.renderer,s=n.seriesindex,c=l?o.getParamValue("height",t[0],s,null,o.commonOption):o.getParamValue("width",t[0],s,null,o.commonOption),d=pl(c/10,1),u=qr(a),h={inner:0,outer:1},f=l?"triangle-left":"triangle-down",g=zt(e,"g",r.enabled?[1]:[],".","class","zcmarkerPointers"),p=zt(g,"g",u,".","class","markers",null,function(e,t){return a[t].y});p.each(function(){var e=Hl(this);e.attrs({transform:function(e){return"translate("+e[0]+","+e[1]+")"}}).style("opacity",0).transition().duration(i?n.animationOptions.duration:0).style("opacity",1),V(e,null,{size:d,symbol:f,outerFillOpacity:r.strokeOpacity,outerStrokeOpacity:r.strokeOpacity},{symbolSize:h,color:r.strokeColor||"black"})})}function qr(e){var t=e.map(function(t,a){return e[a][3]});return t}function Kr(e,t,a,r){var n,i=e.chartObj,l=e.xscale,o=e.yscale,s=e.stacked,c=e.datasetIndex,d=e.axisrotated,u=e.commonPlotOptions,h=e.yaxiscolumnorder,f=e.dataset,g=i.systemConf,p=i.dataObject,m=g.chart.axes.yaxis[h].reversed,v=i.seriesdata[c].plotoptions,y=Ei.utils.getValueOfPlotOptions(v,u),x=x=Ks.FIREFOX&&1==t.length?"linearClosed":y("mode");if(p.isPolarAxisCategory)n=uo().defined(function(e){return!e.isDummy}).radius(function(e){var t=.1,a=s?o(e.y+e.y0):o(f.getY(e,h))+(null!=o.bandwidth?o.bandwidth()/2:0);return gl(a,o.range()[m&&!s?o.domain().length-1:0]+t)}).angle(function(e){return l(f.getX(e))}).curve(Wl(x,d));else{var b=i.chartTypes[c],w=Ei.DataProcessor.helpers,C=w.isCatNull(f,"x"),k=w.isCatNull(f,"y",h);n=co().defined(function(e){var t=!k(f.getY(e,h))&&!C(f.getX(e));return b.value===Ei.charttype.stkdarea?!0:!e.isDummy&&t}).x(function(e){var n=p.getXYvalue(d,s,l,o,h,e,"x",null,r);if(null!=a){var u=Math.abs(p.getXYvalue(d,s,i.renderer[c].oldXscale,o,h,t[0],"x",null,r)-p.getXYvalue(d,s,l,o,h,t[0],"x",null,r));n+=u}return n}).y(function(e){return i.dataObject.getXYvalue(d,s,l,o,h,e,"y",null,r)}).curve(Wl(x,d,u.tension))}return n}function $r(e,t,a,r,n){var i,l=e.chartObj,o=e.xscale,s=e.yscale,c=e.stacked,d=e.datasetIndex,u=e.axisrotated,h=e.commonPlotOptions,f=e.hasNegValue,g=e.yaxiscolumnorder,p=e.dataset,m=l.systemConf,v=l.dataObject,y=m.chart.axes.yaxis[g].reversed,x=l.seriesdata[d].plotoptions,b=Ei.utils.getValueOfPlotOptions(x,h),w=b("mode");if(v.isPolarAxisCategory){var C=y&&!c?s.domain().length-1:0,k=function(e){var t;return t=c?0==e.y0?pl(s.range()[0],s(f),e.y0):s(e.y0):s(s.domain()[C])+(null!=s.bandwidth?s.bandwidth()/2:0),gl(t,s.range()[C])},O=function(e){if(e.isDummy)return k.apply(null,arguments);var t=c?s(e.y0+e.y):s(p.getY(e,g))+(null!=s.bandwidth?s.bandwidth()/2:0);return gl(t,s.range()[C])};i=fo().angle(function(e){return o(p.getX(e))}).outerRadius(O).innerRadius(k).curve(Wl(w))}else{var A=l.chartTypes[d].name,S=A===Ms,P=S?1:null,T=Ei.DataProcessor.helpers,E=T.isCatNull(p,"x"),L=T.isCatNull(p,"y",g);i=ho().defined(function(e){return c?!E(p.getX(e)):!L(p.getY(e,g))&&!E(p.getX(e))}).curve(Wl(w,u,h.tension)),u?i.x0(function(e,t){return c?0==d&&0==n&&0==t?gl(s.range()[0],s(f)):s(e.y0):S?v.getXYvalue(u,c,o,s,g,e,"x",null,0):null!=s.bandwidth?s.origRange[0]+s.bandwidth():gl(s.range()[0],s(f))}).x1(function(e){var n=v.getXYvalue(u,c,o,s,g,e,"x",null,P);return isNaN(n)&&null!=a&&(n=v.getXYvalue(u,c,o,s,g,r[r.length-1],"x",null,P)+t),n}).y(function(e){return v.getXYvalue(u,c,o,s,g,e,"y",null,P)}):i.x(function(e){var t=l.dataObject.getXYvalue(u,c,o,s,g,e,"x",null,P);if(null!=a){var n=Math.abs(l.dataObject.getXYvalue(u,c,l.renderer[d].oldXscale,s,g,r[0],"x",null,P)-l.dataObject.getXYvalue(u,c,o,s,g,r[0],"x",null,P));t+=n}return t}).y0(function(e,t){return c?0==d&&0==n&&0==t?pl(s.range()[0],s(f)):s(e.y0):S?v.getXYvalue(u,c,o,s,g,e,"y",null,0):null!=s.bandwidth?s.origRange[0]+s.bandwidth():pl(s.range()[0],s(f))}).y1(function(e){return v.getXYvalue(u,c,o,s,g,e,"y",null,P)})}return i}function Jr(e,t,a,r){e.attrTween("d",function(e){var n=d3.interpolate(r[0],r[1]),i=d3.interpolate(a[0],a[1]);return function(a){return t.outerRadius(n(a)),t.innerRadius(i(a)),t(e)}})}function en(e,t){var a=e&&e.cascadeCategories?oc(t.cascadeCategories,e.cascadeCategories,!0):t.cascadeCategories,r=e&&e.risingCategories?oc(t.risingCategories,e.risingCategories,!0):t.risingCategories,n=e&&e.fallingCategories?oc(t.fallingCategories,e.fallingCategories,!0):t.fallingCategories;return{cascaded:a,rising:r,falling:n}}function tn(e,t,a){return e.isCascaded?t.cascaded.color||a:e.isPositive?t.rising.color||a:t.falling.color||a}function an(e){var t,a=e.dataset,r=e.data,n=e.chartObj,i=n.dataObject,l=e.processedseriesData,o=l.length,s=(i.getCategories("x"),i.getCategories("x")),c=s.length,d=e.isstacked("waterfall"),u=rt(r.chart.plot.plotoptions.waterfall.cascadeCategories.dataindex,2),h=[];if(e.waterfall={},e.waterfall.comparator=[],d){for(var f,g=[],p=[],m=[],v=[],y=[],b=[],w=[],C=0,k=0,O=0;c>O;O++){var A=s[O];w[O]=y[O]=b[O]=C;for(var S=0;o>S;S++){var P=l[S],T=P.disabled,E=P.data,L=E.length,z=Ei.DataProcessor.helpers.getParsedYAxisOrder(P.yaxiscolumnorder),D=a.yidx(z);if(!T)for(var R=0;L>R;R++){var j=E[R],r=j[O],M=r[u],I=a.getActualX(r);I!==A&&(r=on(A,0,a.xidx,a.yidx(z),O,j),M=!1);var H=a.getY(r,z);M?(0==S&&(w[O]=y[O]=b[O]=0),f=r.isCascaded=!0,g[S]=g[S]?g[S]:H,r[D]=r.y=g[S]):(f=!1,r.y=H,g[S]=g[S]?r.y+g[S]:r.y);var B=lt(r.y);r.y0=B?y[O]:b[O],B?(y[O]=r.y+y[O],m[O]=m[O]?m[O]+r.y:r.y,r.isPositive=!0):(b[O]=r.y+b[O],v[O]=v[O]?v[O]+r.y:r.y),r.index=O}}h.push(y[O],b[O]),k=(m[O]||0)+(v[O]||0),C=lt(k)?y[O]:b[O];var F=rn(e,a.xidx,O,A,k,C,w,f);p[O]=F}e.processedStackedData=p;var V=i.groupedByStack;V.has(0)||V.set(0,{}),V.get(0).stackExtent=x(d3.range(s.length),m,v,y,b)}else l.forEach(function(r){var n=r.data,i=Ei.DataProcessor.helpers.getParsedYAxisOrder(r.yaxiscolumnorder),l=a.yidx(i);n.forEach(function(r){s.forEach(function(n,o){var s=n,c=r[o],d=c?a.getActualX(c).toString():null;if(d!==s.toString())return void on(s,null,a.xidx,a.yidx(i),o,r);var f=c[u];f?(c.y0=0,c.y=0==o?a.getY(c,i):t,t=c.y,c[l]=c.y,c.isCascaded=!0,c.isPositive=lt(c.y),e.waterfall.hasPositiveCascaded=e.waterfall.hasPositiveCascaded||c.isPositive,e.waterfall.hasNegativeCascaded=e.waterfall.hasNegativeCascaded||!c.isPositive):(c.y0=t||0,c.y=a.getY(c,i),t=c.y+c.y0,c.isPositive=lt(c.y)),c.index=o,h.push(t)})})});var N=d3.extent(h);return N}function rn(e,t,a,r,n,i,l,o){var s=[];return s[t]=r,s.y0=l[a],s.y=i-l[a],s.index=a,s.stackedValue=n,s.isPositive=lt(n),s.isCascaded=o,o&&(e.waterfall.hasPositiveCascaded=e.waterfall.hasPositiveCascaded||s.isPositive,e.waterfall.hasNegativeCascaded=e.waterfall.hasNegativeCascaded||!s.isPositive),s}function nn(e,t,a,r,n){var i=Cn(r,a),l=r.systemConf.chart.plot.datalabels.handleOverlapping,o=r.datalabels.isStackedLabels||r.datalabels.hasFixedPosition||!l,s=n?o?10:0:10;r.dataObject.waterfall.datalabelPadding=n?r.dataObject.rangeCorrections.datalabels.y0+s:s,e=ln(e);var c,d=e[1]-e[0],u=r.axes.y.orient,h=r.plotarea["left"==u?"height":"width"],f=5,g=d/(h-f)*f;if(i){var p=wn(r),m=30;f+=p+m+s,c=d/(h-f)*f}return e[1]+=i?c:g,e[0]-=r.dataObject.waterfall.hasNegativeCascaded?g:0,e}function ln(e){return e[1]<0&&(e[1]=0),e}function on(e,t,a,r,n,i){var l=[];return l.splice(a,0,e),l.splice(r,0,0),l.isDummy=!0,l.index=n,l.y=t,l.y0=0,i.splice(n,0,l),l}function sn(e,t,a){var r=a.chart,n=r.dataset,i=a.axisrotated,l=a.stacked,o=(a.xscale,a.yscale,a.yaxiscolumnorder),s=a.renderer,c=a.seriesindex,d=l?r.dataObject.processedStackedData:t,u=(r.systemConf.chart.axes.yaxis[o||0].reversed,r.systemConf.chart.axes.xaxis.reversed),h=a.plotoptions,f=a.commonPlotOptions,g=h&&h.connector?oc(f.connector,h.connector,!0):f.connector,p=g.enabled?dn(d,a):[],m=co().x(function(e,t){var a=s.getParamValue("x",e,c,null,s.commonOption),r=s.getParamValue("width",e,c,null,s.commonOption),n=u?1==t:0==t;return cn(a,r,e,"x",n,i)}).y(function(e,t){var a=s.getParamValue("y",e,c,null,s.commonOption),r=s.getParamValue("height",e,c,null,s.commonOption);return cn(a,r,e,"y",0==t,i)}),v=zt(e,"path",p,".","class","zcconnectorLine",null,function(e){return n.getX(e)});v.attr("d",function(e){return m(e)}).styles({fill:"none",stroke:g.strokeColor||"black","stroke-width":g.strokeWidth||1,"stroke-dasharray":O(g.dashStyle,g.strokeWidth||1),"stroke-opacity":0}).transition().duration(1e3).styles({"stroke-opacity":g.strokeOpacity||1})}function cn(e,t,a,r,n,i){return"x"==r?i?n||a.isCascaded?a.isPositive?e+t:e:a.isPositive?e:e+t:n?e+t:e:i?n?e:e+t:n||a.isCascaded?a.isPositive?e:e+t:a.isPositive?e+t:e}function dn(e,t){for(var a=t.chart,r=a.dataset,n=t.yaxiscolumnorder,i=(t.stacked,Ei.DataProcessor.helpers.isCatNull(r,"y",n)),l=un,o=e.length-1,s=[],c=0;o>c;c++){var d=e[c],u=e[c+1],h=l(d,n),f=l(u,n),g=i(h),p=i(f);if(g)s.push([]);else if(p){for(var m=c+2,v=e[m],y=v&&l(v,n),x=!i(y);o>m&&!x;)m++,v=e[m],y=v&&l(v,n),x=!i(y);x&&s.push([d,v])}else s.push([d,u])}return s}function un(e){return e.y}function hn(e,t,a){var r=a.chart,n=t,i=gn(n,a),l=a.plotoptions,o=a.commonPlotOptions,s=Xt(o,l,r,"waterfall"),c=s.enabled,d=l&&l.comparisonLine?oc(o.comparisonLine,l.comparisonLine,!0):o.comparisonLine;a.animationOptions=s;var u=co().x(function(e){return e[0]}).y(function(e){return e[1]}),h=zt(e,"g",d.enabled?[1]:[],".","class","zccomparisonLines"),f=zt(h,"path",i,".","class","lines",null,function(e){return e.y});f.attr("d",function(e){return u(e)}).styles({fill:"none",stroke:d.strokeColor||"black","stroke-width":d.strokeWidth||1,"stroke-dasharray":O(d.dashStyle,d.strokeWidth||1),"stroke-opacity":0}).transition().duration(c?s.duration:0).styles({"stroke-opacity":d.strokeOpacity||1}),Qr(e,t,i,d,a),fn(e,i,d,a)}function fn(e,t,a,r){var n=r.chart,i=n.systemConf,l=r.axisrotated,o=r.animationOptions.enabled,s=10,c={format:{decimalPlaces:"2",signEnabled:!0,suffix:"%"}},d=zt(e,"g",a.enabled?[1]:[],".","class","zccomparisonLabels"),u=zt(d,"text",t,".","class","labels",null,function(e){return e.y});u.attrs({x:function(e){return l?e[1][0]+s:e[0][0]+(e[2][0]-e[0][0])/2},y:function(e){return l?e[1][1]+(e[2][1]-e[1][1])/2:e[1][1]-10}}).text(function(e){return zr(c,e.y,Xo,n)}).styles({"text-anchor":l?"start":"middle",opacity:0}).transition().duration(o?r.animationOptions.duration:0).styles({opacity:1}),Ht(d,[a.label,i.chart,i.canvas,qs])}function gn(e,t){var a=t.chart,r=t.renderer,n=a.dataset,i=t.seriesindex,l=t.yaxiscolumnorder,o=t.stacked,s=a.dataObject.processedStackedData,c=(Ei.DataProcessor.helpers.isCatNull(n,"y",l),e.length-1,t.axisrotated?r.getParamValue("height",e[0],i,null,r.commonOption):r.getParamValue("width",e[0],i,null,r.commonOption)),d=10*pl(c/10,1),u=t.chart.dataObject.stackedChart?t.chart.dataObject.groupedByStack.get(0).stackExtent:null,h=(vn(e),0),f=[];return e.map(function(a,n){var l=e[n];if(l.isCascaded&&e[n+1]){var c=mn(e,n+1,t);if(c){var g=c.maxPt,p=(bn(l,"x",t,u),bn(g,"x",t,u)),m=bn(g,"y",t,u),v=bn(l,"x",t,u),y=bn(l,"y",t,u),x=bn(l,"width",t,u),b=bn(l,"height",t,u),w=0==l.index||l.index==e.length-1,C=c.point,k=bn(C,"x",t,u),O=bn(C,"y",t,u),A=bn(C,"width",t,u),S=bn(C,"height",t,u),P=0==C.index||C.index==e.length-1,T=pn({x:v,y:y,width:x,height:b,unshared:w},{x:k,y:O,width:A,height:S,unshared:P},{x:p,y:m},d,t);if(o){var E=s[l.index],L=s[C.index];T.y=(L.stackedValue-E.stackedValue)/gl(E.stackedValue,L.stackedValue)*100}else T.y=(C.y-l.y)/l.y*100;if(C.percent=T.y,0==h&&0!=n){{r.getParamValue("y",e[0],i,null,r.commonOption)}l.percent=(l.y-e[0].y)/l.y*100}f.push(T)}h++}}),f}function pn(e,t,a,r,n){var i,l,o,s,c=n.axisrotated,d=n.chart.dataObject.stacked,u=n.chart.dataObject.waterfall.datalabelPadding,h=30,f=gl(a.x,d?t.x:t.x+t.width),g=pl(a.y,t.y),p=e.unshared?e.width/2:e.width/2+e.width/4,m=t.unshared?t.width/2:t.width/4,v=e.unshared?e.height/2:e.height/4,y=t.unshared?t.height/2:t.height/2+t.height/4;c?(i=[e.x+e.width+u,e.y+v],l=[f+u+h,e.y+v],o=[f+u+h,t.y+y],s=[t.x+t.width+u,t.y+y]):(i=[e.x+p,e.y-u],l=[e.x+p,g-u-h],o=[t.x+m,g-u-h],s=[t.x+m,t.y-u]);var x=[i,l,o,s];return x}function mn(e,t,a){var r=e[t],n=a.chart.dataObject.stackedChart?a.chart.dataObject.groupedByStack.get(0).stackExtent:null,i=0,l=r;if(r){for(;!r.isCascaded;){var o=yn(r,n);if(o>i&&(l=r,i=o),r=e[++t],!r)return}return{point:r,maxPt:l}}}function vn(e){var t=e.filter(function(e){return e.isCascaded});return t}function yn(e,t){return t?xn(e,t):e.y+e.y0}function xn(e,t){var a=e.index,r=t.filter(function(e){return e[0]==a}),n=r[0],i=n[1],l=n[2],o=lt(i)?l:l+ml(i);return o}function bn(e,t,a,r){var n=a.renderer,i=a.axisrotated,l=a.seriesindex;if(r){if(i&&"width"==t)return 0;var o=xn(e,r);return i&&"x"==t||!i&&"y"==t?n.commonOption.yscale(o):n.getParamValue(t,e,l,null,n.commonOption)}return n.getParamValue(t,e,l,null,n.commonOption)}function wn(e){var t=e.systemConf.chart.plot.plotoptions.waterfall,a=e.axes.rotated,r=e.systemConf,n=0,i=10,l=zt(e.staticPaneSVG.selectAll("g.labelholder"),"text",[1],".","class","dummyText");return e.seriesdata.forEach(function(e){if(e.plotoptions||!n){var i=e.plotoptions,o=i&&i.comparisonLine?oc(t.comparisonLine,i.comparisonLine,!0):t.comparisonLine,s=o.label;l.text("800%").style("fill","none"),Ht(l,[s,r.chart,r.canvas,qs]);var c=U(l.node());n=gl(a?c.width:c.height,n)}}),l.remove(),n+i}function Cn(e,t){var a=e.dataObject.groupedDataBySplitAxes[t],r=e.systemConf.chart.plot.plotoptions.waterfall,n=a.some(function(t){var a=t.si,n=e.seriesdata[a].plotoptions,i=n&&n.comparisonLine?oc(r.comparisonLine,n.comparisonLine,!0):r.comparisonLine;return i.enabled});return n}function kn(e,t,a,r,n){var i=e[t.dataindex]||[];if(null!=i&&!(i instanceof Array))return null;if(!i.length)return null;if(n)n.constructor!=Array&&(t.color=[n]);else{t.color=[];var l=t.colorGamma||[.3,.9],o=[0,i.length-1],s=[+l[0],+l[1]],c=X(r,o,s);t.color=i.map(function(e,t){return c(t)})}var d,u=i.filter(function(e){return 0>e});if(u.length>0){d=i.slice();var h=d.indexOf(0);h>-1&&d.splice(h,1);var f=t.color;d=d.sort(so);for(var g=[],p=0;p<d.length;p++){var m=i.indexOf(d[p]);g.push(f[m])}t.color=g,d.splice(d.length-u.length,0,0),i=d}t.values=i;var v=Ei.axis.threshold.overlay(a,"continous")(Ll,t,0,"y");return u.length>0&&(i=d),v}function On(e,t,a,r){var n=e.commonRendererProp().params,i=e.commonOption,l=n.chartObj,o=(l.plotarea,n.dataset),s=n.axisrotated,c=n.commonPlotOptions,d=i.yaxiscolumnorder,u=(n.color,c.dependency),h=u.enabled===!0,f=null,g=a.selectAll("g.dependencySeries").data(h?[t]:[]),p=g.enter().insert("g",":first-child").attr("class","dependencySeries").merge(g);if(p.exit().remove(),h&&it(u.sourceIndex)&&it(u.targetIndex)&&(f=Tn(t,+u.sourceIndex,+u.targetIndex)),f){var m=u.marker,v=u.link,y=it(v.padding)?v.padding:1,x=it(m.padding)?m.padding:y;x=pl(y,x);var b=zt(p,"g",[1],".","class","links"),w=zt(p,"g",[1],".","class","symbol"),C=zt(b,"path",f,".","class","link");C.attr("d",function(t){var a=An(t,u,e,r);return Sn(a.type,a.end,a.start,y,x,n)(new Array(6))}).attr("stroke",function(e){var t=o.getY(e.source,d)[0],a=o.getY(e.target,d)[1],r=a>t;return r?v.errorStyle:v.strokeColor}).attr("stroke-width",v.strokeWidth).attr("fill","none");var k=u.marker.enabled===!0,O=zt(w,"g",k?f:[],".","class","arrow");u.marker.enabled&&O.each(function(){var t,a=(m.symbol,{inner:.4,outer:.7}),n=Hl(this);n.attr("transform",function(a){var n,i,l=An(a,u,e,r),o=l.type;return"SS"==o||"ES"==o?(n=s?l.start.x-x:l.start.x+l.start.width/2,i=s?l.start.y+l.start.height/2:l.start.y+l.start.height+x,t=s?"triangle-right":"triangle-up"):("EE"==o||"SE"==o)&&(n=s?l.start.x+l.start.width+x:l.start.x+l.start.width/2,i=s?l.start.y+l.start.height/2:l.start.y-x,t=s?"triangle-left":"triangle-down"),"translate("+n+","+i+")"}),V(n,null,m,{symbolSize:a,color:null,symbol:t})})}}function An(e,t,a,r){return{start:En(e.source,a,r),end:En(e.target,a,r),type:t.link.type.toUpperCase()||"ES"}}function Sn(e,t,a,r,n,i){e=e.toUpperCase();var l=i.chartObj,o=i.axisrotated,s=l.systemConf.chart.axes.xaxis.reversed,c=null,d=null,u=null,h=Pn(e,o,t,a,r);return co().x(function(i,l){switch(l){case 0:case 1:case 2:if(u=t,0==l)"SS"==e||"SE"==e?c=o?u.x:u.x+u.width/2:("EE"==e||"ES"==e)&&(c=o?u.x+u.width:u.x+u.width/2);else if(1==l)"SS"==e||"SE"==e?c=o?u.x-r:c:("EE"==e||"ES"==e)&&(c=o?u.x+u.width+r:c);else{var f;"SS"==e?(f=t.x-a.x,f=0>f?0:f,c=o?u.x-f-r:c):"EE"==e?(f=t.x+t.width-(a.x+a.width),f=f>0?0:f,c=o?u.x+u.width+r-f:c):"SE"==e?o?(c=u.x-r,d=h?u.y+u.height:a.y):c=s?c-u.width:c+u.width:"ES"==e&&(o?(c=u.x+r+u.width,d=h?u.y+u.height:a.y):c=s?c-u.width:c+u.width)}break;default:o&&(d=null),u=a,3==l?(o&&h&&(d=t.y+t.height),"SS"==e||"EE"==e?c=o?c:u.x+u.width/2:"SE"==e?c=o?u.x+u.width+r:c:"ES"==e&&(c=o?u.x-r:c)):4==l?"SE"==e?c=o?u.x+u.width+r:u.x+u.width/2:"ES"==e&&(c=o?c:u.x+u.width/2):"SS"==e||"ES"==e?c=o?u.x-n:c:("EE"==e||"SE"==e)&&(c=o?u.x+u.width+n:c)}return c}).y(function(i,l){return o?(d||u.y)+u.height/2:(0==l?"SS"==e||"SE"==e?d=t.y+t.height:("EE"==e||"ES"==e)&&(d=t.y):1==l?"SS"==e||"SE"==e?d+=r:("EE"==e||"ES"==e)&&(d=t.y-r):2==l?"SS"==e?d=t.y+t.height<a.y+a.height?a.y+a.height+r:d:"EE"==e&&(d=t.y>a.y?a.y-r:d):3==l?"SE"==e?d=h?a.y-r:d:"ES"==e&&(d=h?a.y+a.height+r:d):4==l?d+=0:"SS"==e||"ES"==e?d=a.y+a.height+n:("EE"==e||"SE"==e)&&(d=a.y-n),d)}).curve(Wl("linear"))}function Pn(e,t,a,r,n){var i=!1;switch(e){case"SS":case"EE":i=!0;break;case"SE":i=t?a.x>r.x+r.width:a.y+a.height<r.y;break;case"ES":i=t?a.x+a.width<r.x-2*n:a.y>r.y+r.height}return!i}function Tn(e,t,r){var n=[];return e.forEach(function(i){var l=i[t];e.forEach(function(e){e!==i&&it(l)&&a(l)&&-1!==l.indexOf(e[r])&&n.push({source:i,target:e})})}),n.length?n:void 0}function En(e,t,a){var r,n,i,l,o=t.commonOption;return i=t.getParamValue("x",e,a,null,o),l=t.getParamValue("y",e,a,null,o),r=t.getParamValue("width",e,a,null,o),n=t.getParamValue("height",e,a,null,o),{x:i,y:l,width:r,height:n}}function Ln(e,t,a,r,n){var i,l,o,s,c=r.commonRendererProp().params,d=c.chartObj,u=c.yaxiscolumnorder,h=c.axisrotated,f=c.dataset,g=n&&n.yscale.range()[1],p=e[n.levelMarker.dataindex],m=f.getY(e,u),v=m[0],y=m[1],x=y-v,b=x*p/100,w=n.yscale(v+b),C=h?0:n.levelMarkerPadding,k=h?n.levelMarkerPadding:0;i=d.dataObject.getTransRectValue("x",e,t,a,n)+C;var O=n.yscale(null==n.hasNegValue?f.getY(e,n.yaxiscolumnorder,0):n.hasNegValue);return n.axisrotated?(l=r.getParamValue("y",e,t,a,n)+k,o=n.stacked?ml(n.yscale(e.y+e.y0)-n.yscale(e.y0))+n.addRangeBand(n.yscale):(ml(g-O-(g-w))||0)+n.addRangeBand(n.yscale),s=n.levelMarkerWidth||n.barWidth):(l=w,o=n.levelMarkerWidth||n.barWidth,s=n.stacked?ml(O-n.yscale(e.y+e.y0)-(O-n.yscale(e.y0)))+n.addRangeBand(n.yscale):ml(O-w)+n.addRangeBand(n.yscale)),{x:i,y:l,width:o,height:s}}function zn(e,t,a,r,n,i,l){var o=a.commonRendererProp().params,s=a.commonOption,c=o.chartObj,d=c.plotarea,u=o.dataset,h=o.axisrotated,f=o.color,g=s.levelMarkerWidth,p=s.charttype,m="bullet"==p,v="gantt"==p,y=m?o.xscale.bandwidth():g,x=a.bandwidth1(),b=rt(n.size,g-2*rt(n.padding,s.padding/2)),w=zt(e,"g",[t],".","class","markers"+l,null,function(e){return[u.getX(e)]}),C=dc(n.strokeWidth,1);w.attrs({"class":"markers"+l,transform:"translate("+d.left+","+d.top+")","stroke-width":C,"stroke-dasharray":O(n.dashStyle,rt(n.outerStrokeWidth,1)),"stroke-linecap":A(n.lineCap,n.dashStyle),fill:n.color,stroke:n.color});var k=zt(w,"g",t,null,null,null,null,function(e){return u.getX(e)});k.enter().append("g");var S="line"===n.symbol?{inner:0,outer:1}:{inner:.6,outer:1},P=n.size;k.each(function(e,t){var s=Hl(this),d=i?c.seriesColor[t%c.seriesColor.length]:f;s.attrs({transform:function(e,t){var i=0,s=0;if(v){var c=Dn(e,r,t,a);return 0===l?(i=c.x+c.width/2,s=c.y-10*n.size/2):(i=c.x+c.width/2,s=c.y+c.height+10*n.size/2),"translate("+(h?s:i)+","+(h?i:s)+")"}return i=x(u.getX(e))+y/2,s=o.yscale(e[n.dataindex]),null==e[n.dataindex]?null:"translate("+(h?s:i)+","+(h?i:s)+") rotate("+(h?90:0)+")"}}).style("display",function(e){return null==e[n.dataindex]&&m?"none":null}),n.size=it(P)?m?pl(b,y/10):b:b/10,V(s,null,n,{symbolSize:S,color:v?d:null})}),n.size=P,v&&(a.markerProperties={subseriesIndex:r})}function Dn(e,t,a,r){var n,i,l,o,s=r.commonOption;return l=r.getParamValue(s.axisrotated?"y":"x",e,t,a,s),o=r.getParamValue(s.axisrotated?"x":"y",e,t,a,s),n=r.getParamValue(s.axisrotated?"height":"width",e,t,a,s),i=r.getParamValue(s.axisrotated?"width":"height",e,t,a,s),{x:l,y:o,width:n,height:i}}function Rn(e){return/(left|right)/.test(e)?"bottom":"left"}function jn(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}function Mn(e,t,r,n){var i=r.datatype,l=r[i],o="threshold",s=!1;return e.replace(rl,function(e,r){var c="";return a(t[r])?(c=zr(l,t[r][0],i,n,o,s),c+=" - "+zr(l,t[r][1],i,n,o,s)):c=zr(l,t[r],i,n,o,s),c})}function In(e,t){var a=(e.data||e).slice(),r=a.splice(0,a.length);return null!=t&&r.push(t),r}function Hn(e,t,a,r,n){"plot"==n?e.plotValues.push({data:t,text:a}):e[n+"Values"].push({id:t,text:a,x:r[0],y:r[1]})}function Bn(e,t,a,r,n,i){return e+a>n&&(e-=e+a-n),t+r>i&&(t-=t+r-i),[e,t]}function Fn(e,t,a){var r=e[a+"Values"];return r.indexOf(r.filter(function(e){return"plot"===a?n(e.data)==n(t):e.id==t})[0])}function Vn(e,t){var a=Nn();a.changedTouches&&(a=a.touches[t]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();n.x=a.clientX,n.y=a.clientY,n=n.matrixTransform(e.getScreenCTM().inverse());var i=[n.x,n.y];return Yn(d3.event)&&!Ks.ANDROID&&Ks.uiwebview&&(i[0]+=window.pageXOffset,i[1]+=window.pageYOffset),i}var l=e.getBoundingClientRect();return[a.clientX-l.left-e.clientLeft,a.clientY-l.top-e.clientTop]}function Nn(){for(var e,t=d3.event;e=t.sourceEvent;)t=e;return t}function Yn(e){return e.touches}function _n(e,t){function a(t){var a=e.container.selectAll(".seriesholder"),i=a.attr("clip-path").replace(/url\(|\)|\"/gi,""),l=jt(a).translate,o=r?l[0]:n.left-t,s=r?n.top-t:l[1];a.attr("transform","translate("+o+","+s+")"),e.container.selectAll(".labelholder").attr("transform","translate("+o+","+s+")"),e.container.selectAll(".eventgroup").attr("transform","translate("+(r?0:-t)+","+(r?-t:0)+")"),e.container.selectAll("rect.eventhandler").attr("transform","translate("+(r?0:t)+","+(r?t:0)+")"),(Ks.SAFARI?e.svg:qs.patternSVG).selectAll(i).selectAll("rect").attrs(r?{y:t}:{x:t});var c=r?{y:n.top-t,height:n.height+t}:{x:n.left-t,width:n.width+t};e.eventHandler.trackerElement.attrs(c).attr("clip-path","url("+i+")"),Xn(e);var d={name:"rect_highlight",id:e.id},u={chartObj:e};r?(d.x=-n.left,d.y=t,d.width=n.width+n.left,d.height=n.height):(d.x=t,d.y=n.top,d.width=n.width,d.height=n.height);var h=Js.get(ic,"rect",d,u);e.container.selectAll("#zcareahighlight").attr("clip-path","url(#"+h+")")}if(e.isAxisCategory&&(e.systemConf.chart.width||e.systemConf.chart.height)){var r=e.dataObject.getAxisRotated(),n=e.plotarea,i=Wn(e,"width")-n.width,l=Wn(e,"height")-n.height,o=(e.container.selectAll(".x-axis-0"),e.container.selectAll(".d3container").selectAll(".zohocharts_scroll")),s=+o.attr("scrollbarSize"),c={name:"rect_axis",id:e.id};if(r?(e.scrolledY=e.scrolledY||0,c.x=-n.left,c.y=0,c.width=n.width+n.left,c.height=n.height):(e.scrolledX=e.scrolledX||0,c.x=0,c.y=0,c.width=n.width,c.height=e.canvasarea.height),Xn(e),o.styles({left:n.left+Tl,top:n.top+Tl,height:n.height+(r?0:s)+Tl,width:n.width+(r?s:0)+Tl}).on("scroll",function(){var t=d3.event.srcElement||d3.event.target,n=r?t.scrollTop:t.scrollLeft;e.scrolledY=r?n:0,e.scrolledX=r?0:n,d3.event.clientX=d3.event.clientX||0,d3.event.clientY=d3.event.clientY||0,e.eventHandler.mouseOut(),a(n)}),o.style(r?{"overflow-y":"auto","overflow-x":"hidden"}:{"overflow-x":"auto","overflow-y":"hidden"}),o.selectAll(".child").styles({height:n.height+(r?l:0)+Tl,width:n.width+(r?0:i)+Tl,"pointer-events":El,margin:0,padding:0,"background-color":Ll}),"addorremoveseries"!==t){var d=o.node();d.scrollLeft=0,d.scrollTop=0}var u=e.eventHandler,h={target:"plot",chartObj:e},f={click:u.click,dblclick:u.doubleclick,contextmenu:u.contextMenu},g={mousemove:u.mouseMove,mouseout:u.mouseOut};Sr(o,f,null,"chart"),Sr(o,g,null,"chartmove");var p={tap:u.click,dbltap:u.doubleclick,singletouchmove:u.mouseMove,touchend:u.mouseOut};Sr(o,{},p,h);var m=r?e.scrolledY:e.scrolledX;m&&"addorremoveseries"===t&&a(m)}}function Wn(e,t,a){a=a||e.plotarea;var r=e.systemConf.chart[t];return null==r||isNaN(r)?a[t]:gl(a[t],+r)}function Xn(e){var t,a=e.dataObject.getAxisRotated(),r=e.plotarea,n=a?e.scrolledY:e.scrolledX;if(a)t={x:-r.left,y:n,width:r.width+r.left,height:r.height};else{var i=e.dataObject.hierarchical,l=0;if(i)for(var o=0;o<e.axes.x.count;o++){var s=La(e,"x",o);l+=s.ticks.preCalcAxisLen}else l=e.axes.x.ticks.preCalcAxisLen;t={x:n,y:-r.height,width:r.width,height:l+e.plotarea.height}}t.name="rect_axis",t.id=e.id;var c={chartObj:e},d=Js.get(ic,"rect",t,c),u=e.container.selectAll("g.x-axis").selectAll(function(){return this.childNodes});return u.filter(function(){var e=d3.select(this),t=jt(e).translate,i=a?t[0]:r.left-n,l=a?r.top-n:t[1];e.attrs({transform:"translate("+i+","+l+")","clip-path":"url(#"+d+")"}),e.selectAll("g.axisgroup").attr("clip-path","")}),d}function Un(e){var t=-e.scrolledX||0,a=-e.scrolledY||0;return{left:t,top:a,right:Wn(e,"width"),bottom:Wn(e,"height")}}function Gn(e){if(e.dataObject.noofBarEnabledSeries){var t;if(e.seriesdata.some(function(a,r){return(t=Ei.labelRenderer.bar.getVAlign(e,r,sd))===Os}),t===Os)return!0;var a=e.dataObject.groupedByStack;return a.keys().some(function(r){return(t=Ei.labelRenderer.bar.getVAlign(e,a.get(r).stackLabelIndex,cd))===Os}),t===Os}}function Zn(e,t,a,r,n){var i=r.length;return e||function(e,r){var l=t.reverseColor?i-1-r:(a.isAxisCategory||a.isNonAxisMultiSeriesCategory||a.dataObject.isPolarAxisCategory)&&!t.multiColoring?n:r;return fa(a,l,e&&e.data?e.data:e,n)}}function Qn(e,t){return oc(t.systemConf.chart.plot.datalabels.boundBox,e.boundBox,!0)}function qn(e,t){return at([e.boundBox||{},t.systemConf.chart.plot.datalabels.boundBox||{}],"show")===!0}function Kn(e,t){return rt(at([e.boundBox||{},t.systemConf.chart.plot.datalabels.boundBox||{}],"padding"),2)}function $n(e,t){return rt(at([e.boundBox||{},t.systemConf.chart.plot.datalabels.boundBox||{}],"strokeWidth"),1)}function Jn(e,t,a,r){var n=2*(a||0)+r;return gl(n-e-2*t,0)}function ei(e){e=e||{};var t=e.enabled===!0,a={};return a.enabled=t,a.width=t?it(e.width)?+e.width:10:0,a.height=t?it(e.height)?+e.height:4:0,a}function ti(e,t,a,r,n,i,l,o,s){function c(a,r,n){var i=r[n-1].moves[n-1?5:0],l=r[n].moves[0],o=r[n-1].moves[n-1?6:1],c=r[n].moves[1],d=(i+l)/2,f=(o+c)/2;if(t=r[n].moves[1],e=r[n].moves[0],it(s)&&s){var g,p=s>0?1:-1,m=a===Cs?i-l:l-i;g=(m-u)/2-s*p>0?s:(m-u)/2*p,d-=g}switch(a){case Cs:return[[d-u/2,t],[d,t+h],[d+u/2,t]];case ks:return[[d+u/2,t],[d,t-h],[d-u/2,t]];case bs:return[[e,f-u/2],[e-h,f],[e,f+u/2]];case ws:return[[e,f+u/2],[e+h,f],[e,f-u/2]]
}}var d=o.enabled,u=o.width,h=o.height,f=Mt(e,t,a+2*i,r+2*i,n);if(d&&l){var g=l===Cs?7:l===ks?3:l===ws?5:1,p=Vt(f),m=c(l,p,g);ri(p,g,m),f=ai(p)}return f}function ai(e){return e.reduce(function(e,t){return e+t.function.toUpperCase()+(t.moves&&t.moves.join(" ")||"")},"")}function ri(e,t,a){a.forEach(function(a){e.splice(t,0,{"function":"l",moves:a})})}function ni(e,t){var a=t.systemConf;return+Ei.utils.getVal(at([e,a.chart.plot.datalabels,a.chart,a.canvas],"fontSize"))}function ii(e,t){var a=t.systemConf;return Ei.utils.getVal(at([e,a.chart,a.canvas,qs],"fontFamily"))}function li(e,t,a,r){var n=t&&t.datalabels?oc(e.datalabels,t.datalabels,!0):e.datalabels;return a&&pi(n,a,r),n}function oi(e,t,r,n,i,l,o){var s=r.systemConf;return a(n)&&it(l)&&(n=n[l]),Ht(e,[{fontColor:si(s,n,t,r,i,l,o)},t,s.chart.plot.datalabels,s.chart,s.canvas,qs])}function si(e,t,a,r,n,i,l){var o=a.fontColor;if("function"==typeof o){var s=tt(o,t,r);if(it(s))return s}var c,d,u=cc(r.systemConf,"chart.plot.datalabels")||{},h=u.fontColor,f=r.chartTypes[i||0],g=f.name,p=f.value,m=it(e.legend.imagePallete),v=r.dataObject.isstacked(p),y=lr(p)&&v&&l!==!0,x=hr(p);if(qn(a,r)){var b=Qn(a,r);d=sa(b.fillColor||t,b.fillOpacity)}if(o===cl&&h===cl){if(n&&m)return"#444444";if(n&&/(pie|funnel|sunburst|pyramid|packedbubble)/gi.test(g)||y||x||p===Ei.charttype.treemap)return ft(d||t)}return c=m||(it(o)||null!==h)&&null!==o?o:t,c||dc(u.fontColor,e.chart.fontColor,e.canvas.fontColor,qs.fontColor)}function ci(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.y1>t.y2||t.y1>e.y2)}function di(e,t){return!(e.x1<t.x1||e.y1<t.y1||e.x2>t.x2||e.y2>t.y2)}function ui(e,t){return $t(t,sd)?it(t.dataset.labelidx)||at([e,t.systemConf.chart.plot.datalabels],"show")===!0:!1}function hi(e,t){return t.dataObject.noofBarEnabledSeries&&t.dataObject.isstacked()&&!t.dataObject.isStackedPercentChart&&e&&e.show}function fi(e,t){var a=t.systemConf.chart.plot.plotoptions[e].datalabels||{},r=$(t.userdata,"chart.plot.plotoptions."+e+".datalabels",!0)||{},n=r.showAs||a.showAs;return n===id||n===ld||n===od||il.test(n)}function gi(e,t,a,r,n,i){var l=+a[0],o=+a[1],s=t.plotarea,c={left:-r,right:-r,top:0,bottom:0},d="..",u=Cs;n=n||{left:-l,top:-o,right:s.width-l,bottom:s.height-o},e.each(function(){var e=U(this),t={left:e.x+(i?i[0]:0),top:e.y+(i?i[1]:0),width:e.width,height:e.height};Dt(this,this.textContent,t,n,u,d,c)})}function pi(e,t,a){var r,n,i,l,o,s,c=t.chartTypes[a].name,d=$(t.userdata,"chart.plot.plotoptions."+c+".datalabels",!0)||{};d.showAs&&(e.showAs=d.showAs||e.showAs),(r=d.innerLabel)?(l=e.innerLabel,l.showAs=r.showAs||l.showAs,(n=r.parentLabel)&&(o=e.innerLabel.parentLabel,o.showAs=n.showAs||o.showAs)):(i=d.stackLabels)&&(s=e.stackLabels,s.showAs=i.showAs||s.showAs)}function mi(e){return e.staticPaneSVG.select(".labelholder")}function vi(e,t,r,n,i,l,o){var s=e.seriesdata[l].yaxiscolumnorder||[0,0],c=e.chartTypes[l],d=Ei.DataProcessor.helpers,u=e.dataObject,h=e.systemConf.metadata.columns;t=t||{stacked:!1,commonPlotOptions:e.systemConf.chart.plot.plotoptions[c.name],yaxiscolumnorder:d.getParsedYAxisOrder(s)};var f,g=e.dataset,m=t.yaxiscolumnorder,v=t.stacked,y=t.yscale,x=gr(c.value),b=rt(t.commonPlotOptions.dataindex,3),w=e.renderer[0]&&e.renderer[0].getProcessedNode,C=n==sd&&it(g.labelidx),k=C&&it(h[g.labelidx]),O=C&&J(h[g.labelidx])?g.labelidx:r.showAs,A=k?"label":O==Jc?Jc:O==td&&it(g.zidx)?td:ed,S=h[g.getColumnIdx(A,s)].datatype,P=g.getColumn(A,s)[S],T=k||O!==id&&O!==ld&&O!==od?zr:Ir,E=-1!=[Jc,ed,td,id,ld,od].indexOf(O),L="function"==typeof O||"function"==typeof window[O];if(x&&!L&&(O===id||O===ld||O===od)){var z=h.filter(function(e){return e.dataindex===b})[0];z=it(z)?z:g.getColumnIdx(A,s),S=z.datatype,P=z[S]}k||E||L||(f=yi(O));var D=function(t,a){t=n==cd?t[1]:t;var r=u.isHierarchy&&w&&w(t);if(k)return u.isHierarchy?g.getDataPointValue(e,t,e.userdata.metadata.axes.label[0],l,!1,n,Dl):T(P,g.getDataLabelValue(t),S,e,n);if(E){var s=Dl;switch(O){case id:case ld:case od:var c=i,d=n==cd?t:v||u.isPercentChart?t.y:x?t[b]:r&&r.children&&r.value||t.value||g.getY(t,m,o);if(!v||u.isStackedPercentChart||u.isPercentChart||n!=sd){if("function"==typeof i)c=i(t,O);else if(!it(c))if(O!==od&&y)c=y.domain()[1];else{var h=Qc(e,m);h=u.isPercentChart||u.isStackedPercentChart||v?h[m]:h,c=0>d&&d>=h[0]?-h[0]:h[1]}}else c=p(e,l,t,O);s=d/c*100||0;break;case Jc:s=r&&r.children?cl:g.getActualX(t);break;case td:it(g.zidx)&&(s=g.getZ(t));break;default:s=n==cd?t:u.isHierarchy?r&&r.children&&r.value||t.value||g.getY(t,m):g.getY(t,m,o)}return T(P,s,S,e,n)}return L?tt(O,t,a,e):g.getCustomizedVal(e,f,l,Dl,Dl,t,n,Dl,"html"!==D.contentType)};return D.contentType=k||E||!L&&!a(O)&&-1==O.indexOf("<tspan")?"text":"html",D.multiLine="html"===D.contentType&&!L&&a(O)&&O.length>1,D.hasShowAsFunction=L,D}function yi(e){var t="";if(a(e))e.forEach(function(e,a){t+="<tspan class='zcTspan'"+(a?" dy='1.1em'":"")+">"+xi(e)+"</tspan>"});else{var r=e.indexOf("<tspan");t=-1!=r?"<tspan class='zcTspan'>"+xi(e)+"</tspan>":e}return t}function xi(e){var t="",a=0,r=8,n={"<tspan":[],"</tspan>":[]};return e.replace(/<tspan|<\/tspan>/g,function(){n[arguments[0]].push(arguments[1])}),n["<tspan"].forEach(function(i,l){a!=i&&(t+="<tspan>"+e.substring(a,i)+"</tspan>"),t+=e.substring(i,a=n["</tspan>"][l]+r)}),a!=e.length&&(t+="<tspan>"+e.substring(a,e.length)+"</tspan>"),t}function bi(e,t){e.selectAll("tspan.zcTspan").attr("x",t)}function wi(e,t,a,r,n,i,l,o){var s=+a[0],c=+a[1],d=t.plotarea,u={left:-r,right:-r,top:0,bottom:0},h="..",f=Cs;l=l||0,n=n||{left:-s+l,top:-c,right:d.width-s-l,bottom:d.height-c},e.each(function(){var e=this.childNodes,t=0,a=U(this),r=this.getComputedTextLength();a.x+r>n.right&&(r-=a.x+r-n.right+l),a.x<n.left&&(r-=n.left-a.x+l);for(var s=0;s<e.length;s++){for(var c=e[s],d=c.childNodes,g=c.getComputedTextLength(),p="",m=0;m<d.length;m++){var v=d[m].textContent;p+=v,i[t+m].textLength=v.length}if(g-r>1){var y=i[t].bbox,x={left:y.x+(o?o[0]:0),top:y.y+(o?o[1]:0),width:g,height:y.height};Dt(d[0],p,x,n,f,h,u,null,null,!1);var b=d[0].innerHTML;".."===b&&(b="");for(var m=0,w=0;m<d.length;m++){var C=i[t+m].textLength;d[m].innerHTML=b.substring(w,w+C),w+=C}}t+=d.length-1}})}function Ci(e,t){var a=e.selectAll(function(){return this.childNodes}),r=e.attr("text-anchor"),n=+e.attr("x"),i=+e.attr("y"),l=[];return a.each(function(){for(var e=d3.select(this),a=parseFloat(e.attr("dy")||0),o=this.childNodes,s=this.getComputedTextLength(),c="middle"===r?-s/2:"end"==r?-s:0,d=0;d<o.length;d++){var u=o[d].getComputedTextLength(),h={dy:d?0:a,dx:c+("middle"===r?u/2:0),bbox:{x:n+c,y:i+(d?0:a)*t,width:o[d].getComputedTextLength(),height:t},style:o[d].style,text:o[d].textContent};l.push(h),c+=u}}),l}function ki(e,t){return t=t||[],e.each(function(){var e=Hl(this).selectAll(function(){return this.children});if(e.size())e.each(function(){ki(Hl(this),t)});else{var a=U(this),r=this.nodeName;if(r===Go){if(""===this.textContent)return;var n=Oi(this),i=Xa(n),l=Xa(this);a.x+=l.left-i.left,a.y+=l.top-i.top,a.width=l.width,a.height=l.height}t.push({node:this,nodeName:r,bb:a})}}),t}function Oi(e){return e.parentNode.nodeName!==Uo?Oi(e.parentNode):e.parentNode}function Ai(e,t,a,r){for(var n=[],i=[],l=[],o=a-r,s=function(e,t){return e.dist-t.dist},c=function(e,t){return e[0].y1-t[0].y1},d=o,u=0;a>u;u++)e[u]||n.push(u);e.forEach(function(e){e.sort(s)}),e.forEach(function(e){e.forEach(function(e,t){0!=t&&(l[t]=l[t]||[],l[t].push(e))})}),l.forEach(function(e){e.sort(s)}),l.forEach(function(e){e.forEach(function(e){i.push([e])})}),i.forEach(function(e){o>0?o--:e[0].hide=!0}),i=i.slice(0,d),i.sort(c),i.forEach(function(a){var r=a[0],i=r.y2-r.y1,l=gl(hl((r.y1-t)/i),0);if(e[l]){for(var o,s=n[0],c=0,d=0;d<n.length;d++){var u=ml(t+n[d]*i-r.y1);null==o&&(o=u),o>u&&(o=u,s=n[d],c=d)}if(l>s){n.splice(c,1);var h=s;e.forEach(function(t,a){var n=t[0];a>s&&n.y1<r.y1&&(e[h]=t,h=a)}),e[h]=[r]}else{n.splice(c,1);for(var h=[r],f=l;s>=f;f++)if(e[f]){if(e[f][0].y1>r.y1){var g=e[f];e[f]=h,h=g}}else e[f]=h}}else e[l]=a}),e.forEach(function(r,n){var i=r[0],l=i.y2-i.y1,o=t+n*l-i.y1;i.translate=ml(o)<l&&a>n+1&&!e[n+1]&&0>o?0:o}),e.forEach(function(r,n){var i=r[0],l=i.y2-i.y1,o=t+n*l-i.y1;i.translate=ml(o)<l&&a>n+1&&(!e[n+1]||!e[n+1][0].translate)&&0>o?0:o})}function Si(e,t,a,r){return e.forEach(function(e){var n=e.y2-e.y1,i=gl(0,hl((e.y1-r)/(e.y2-e.y1)));e.dist=e.y1<r?r-e.y1:e.y1-(r+i*n),a[i]||(a[i]=[],t++),a[i].push(e)}),t}function Pi(e,t,a,r,n,i,l,o,s){var c=5;if(!e.hide){null==t&&(t=hl((r-a)/(e.y2-e.y1)));var d=s?null==n?r-e.y2:i[n].y1-e.y2:null==n?e.y1-a:e.y1-i[n].y2;o+=null!=n&&ci(e,i[n])&&-c>d?ml(d):0,n=l,i.push(e),l++}return{prev:n,count:l,totalslot:t,need:o}}function Ti(e,t,a){var r=e.label||{},n=this,i=this.dataset,l=this.plotarea,o=this.systemConf,s=t.commonOption,c=t.commonRendererProp().params,d=c.axisrotated,u=c.yscale,h=c.xscale.bandwidth(),f=o.chart.axes.yaxis[0].orient||(this.axes.rotated?Cs:bs),g=e.dataindex,p=e.enabled===!0&&r.enabled===!0&&it(g),m=zt(this.staticPaneSVG.selectAll("g.threshold"),"g",p?[1]:[],".","class","targetLabel");if(m.attr("transform","translate("+l.left+","+l.top+")"),p){var v=r.hAlign,y=r.vAlign,x=rt(r.padding,2),b="fixed"===r.position,w=10*rt(e.size,(s.levelMarkerWidth-2*rt(e.padding,s.padding/2))/10),C=("line"===e.symbol?rt(e.outerStrokeWidth,1):w)/2;d?(v=v||xs,y=y||(f===Cs?ks:Cs)):(v=v||(f===bs?ws:bs),y=y||xs);var k=this.userdata.metadata.columns,O=k.filter(function(t){return t.dataindex===e.dataindex}),A=O.length?O[0]:k[i.getColumnIdx("y",0)],S=A.datatype,P=A[S],T={left:0,right:0,top:0,bottom:0};d?T.top=T.bottom=l.adjust:T.left=T.right=l.adjust,b||o.chart.axes.yaxis[0].show!==!0||(T[f]=0);var E=n.container.node().getBoundingClientRect(),L=E.left+n.plotarea.left,z=E.top+n.plotarea.top,D=Un(n),R=D.left-T.left,j=D.top-T.top,M=D.right+T.left+T.right,I=D.bottom+T.top+T.bottom;Ht(m,[r,o.chart,o.canvas,qs]);var H=function(e){return i.getX(e)},B=zt(m,"text",a,null,null,null,null,H);B.each(function(e){var t=e[g];if(it(t)){var a,l,o,c,f=i.getX(e),p=it(r.text)?i.getCustomizedVal(n,r.text,0,null,null,e,"targetLabel"):zr(P,t,S,n,"targetLabel"),m=0>t,k=m?-1:1,O=s.bandwidth1(f)+h/2,A=u(t);d?(a=A,l=O,y===Cs?(l+=w/2,v===xs&&(o="1em",l=O+(b?h:w)/2)):y===xs?o="0.3em":y===ks&&(l-=w/2,v===xs?(o="-0.3em",l=O-(b?h:w)/2):o="1em"),v===xs?(c="middle",l-=y===xs?0:y===ks?x*k:-(x*k)):v===ws?(a+=(x+C)*k,c=m?"end":null):(a-=(x+C)*k,c=m?null:"end")):(a=O,l=A,v===ws?a+=(b?h:w)/2:v===xs?c="middle":v===bs&&(a-=(b?h:w)/2,c="end"),y===xs?(a+=v===xs?0:v===ws?x:-x,o="0.3em"):y===ks?(l-=(x+C)*k,o="-0.3em"):(l+=(x+C)*k,o="1em")),Hl(this).attrs({transform:"translate("+a+","+l+")","text-anchor":c,dy:o}).text(p);var T=this.getBoundingClientRect(),E=T.left-L,D=E+T.width,H=T.top-z,B=H+T.height,F=a+(R>E?R-E:D>M?-(D-M):0),V=l+(j>H?j-H:B>I?-(B-I):0);F!=a&&(a=F),V!=l&&(l=V),Hl(this).attr("transform","translate("+a+","+l+")")}})}}var Ei={};Ei.version="1.11",Ei.versionName="Euclid",Ei.d3Version="4.12.0",Ei.model=function(){},Ei.axis=function(){},Ei.legend=function(){},Ei.renderer=function(){},Ei.dataset=function(){},Ei.scale=function(){},Ei.events=function(){},Ei.plot=function(){},Ei.plot.canvas=function(){},Ei.charttype={};var Li=Ei.charttype.line=11,zi=Ei.charttype.pie=8,Di=Ei.charttype.bar=9,Ri=Ei.charttype.stkdbar=10,ji=Ei.charttype.scatter=12,Mi=Ei.charttype.area=14,Ii=Ei.charttype.stkdarea=15,Hi=Ei.charttype.bubble=20,Bi=Ei.charttype.packedbubble=19,Fi=Ei.charttype.funnel=7,Vi=Ei.charttype.web=16,Ni=Ei.charttype.sunburst=17,Yi=Ei.charttype.pyramid=13,_i=Ei.charttype.dial=18,Wi=Ei.charttype.bullet=6,Xi=Ei.charttype.arearange=21,Ui=Ei.charttype.bubblepie=5,Gi=Ei.charttype.gantt=24,Zi=Ei.charttype.treemap=4,Qi=Ei.charttype.heatmap=3,qi=Ei.charttype.dotgrid=26,Ki=Ei.charttype.waterfall=27,$i=Ei.charttype.wordcloud=2;Ei.charttypenames=d3.map(),Ei.charttypenames.set(Ei.charttype.line,"line"),Ei.charttypenames.set(Ei.charttype.pie,"pie"),Ei.charttypenames.set(Ei.charttype.bar,"bar"),Ei.charttypenames.set(Ei.charttype.stkdbar,"bar"),Ei.charttypenames.set(Ei.charttype.scatter,"scatter"),Ei.charttypenames.set(Ei.charttype.area,"area"),Ei.charttypenames.set(Ei.charttype.funnel,"funnel"),Ei.charttypenames.set(Ei.charttype.web,"web"),Ei.charttypenames.set(Ei.charttype.stkdarea,"area"),Ei.charttypenames.set(Ei.charttype.sunburst,"sunburst"),Ei.charttypenames.set(Ei.charttype.pyramid,"pyramid"),Ei.charttypenames.set(Ei.charttype.bubble,"bubble"),Ei.charttypenames.set(Ei.charttype.dial,"dial"),Ei.charttypenames.set(Ei.charttype.packedbubble,"packedbubble"),Ei.charttypenames.set(Ei.charttype.bullet,"bullet"),Ei.charttypenames.set(Ei.charttype.arearange,"arearange"),Ei.charttypenames.set(Ei.charttype.gantt,"gantt"),Ei.charttypenames.set(Ei.charttype.bubblepie,"bubblepie"),Ei.charttypenames.set(Ei.charttype.treemap,"treemap"),Ei.charttypenames.set(Ei.charttype.heatmap,"heatmap"),Ei.charttypenames.set(Ei.charttype.dotgrid,"dotgrid"),Ei.charttypenames.set(Ei.charttype.waterfall,"waterfall"),Ei.charttypenames.set(Ei.charttype.wordcloud,"wordcloud"),Ei.chartcategory={},Ei.chartcategory.axis=[Li,Mi,ji,Ii,Di,Ri,Hi,Wi,Xi,Ui,Gi,Qi,Ki],Ei.chartcategory.nonaxis=[zi,Fi,Yi,_i,qi],Ei.chartcategory.nonaxismultiseries=[Vi,Ni,Bi,Zi,$i],Ei.chartcategory.hierarchy=[Bi,Ni,Zi],Ei.chartcategory.continous=[Li,Mi,ji,Ii,Hi,Xi,Ui],Ei.chartcategory.discrete=[zi,Di,Ri,Ni,Fi,Yi,_i,Wi,Gi,Qi,Ki],Ei.chartcategory.dotPlot=[ji,Hi],Ei.chartcategory.piePlot=[zi,Ui],Ei.chartcategory.zaxis=[Hi,Ui,Qi],Ei.rename=function(t){return null!=t&&""!=t&&"string"==typeof t?(e[t]=Ei,e.$ZC=null,delete e.$ZC,!0):!1},Ei.setLegendColorPallete=function(e,t){Ei.legutil.colorpallete.set(e,t)},Ei.getLegendColorPallete=function(e){return Ei.legutil.colorpallete.get(e)},Ei.setLegendPatternPallete=function(e,t){Ei.legutil.patternPallete.set(e,t)},Ei.getLegendPatternPallete=function(e){return Ei.legutil.patternPallete.get(e)},Ei.setLegendImagePallete=function(e,t){Ei.legutil.imagePallete.set(e,t)},Ei.getLegendImagePallete=function(e){return Ei.legutil.imagePallete.get(e)},Ei.setTheme=function(e,t){Ei[e]=t},Ei.getTheme=function(e){return Ei[e]};var Ji={},el={},tl={},al={},rl=/\{\{val\((\d+)\)\}\}|\{\{col\((\d+)\)\}\}|\{\{per\((\d+)\)\}\}|\{\{splitper\((\d+)\)\}\}|\{\{maxper\((\d+)\)\}\}|\{\{clr\}\}/gi,nl=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,il=/\{\{per\((\d+)\)\}\}|\{\{splitper\((\d+)\)\}\}|\{\{maxper\((\d+)\)\}\}/gi,ll=/(illuminate|moody|flip|boxShadow|invert|ridge)/,ol=window.console,sl=document.createElement("canvas").getContext("2d");!function(){function e(e,t,a){return function(){var r=a.apply(t,arguments);return r===t?e:r}}d3.rebind=function(t,a){for(var r,n=1,i=arguments.length;++n<i;)t[r=arguments[n]]=e(t,a,a[r]);return t}}();var cl,dl=Math,ul=dl.round,hl=dl.floor,fl=dl.ceil,gl=dl.max,pl=dl.min,ml=dl.abs,vl=dl.pow,yl=dl.sqrt,xl=dl.cos,bl=dl.sin,wl=dl.log,Cl=dl.tan,kl=dl.atan2,Ol=dl.LN10,Al=dl.random,Sl=dl.PI,Pl=Number.MAX_SAFE_INTEGER||9007199254740991,Tl="px ",El="none",Ll="transparent",zl="pointer",Dl=null,Rl=null,jl=0,Ml=-9999,Il=function(e){return"number"==typeof e&&!isNaN(e)},sl=document.createElement("canvas").getContext("2d"),Hl=d3.select,Bl=d3.selectAll,Fl=d3.min,Vl=d3.max,Nl=function(){var e={top:d3.axisTop,bottom:d3.axisBottom,left:d3.axisLeft,right:d3.axisRight};return function(t,a){return e[t](a)}}(),Yl=function(){var e={linear:d3.easeLinear,quad:d3.easeQuad,"quad-in-out":d3.easeQuadInOut,"quad-in":d3.easeQuadIn,"quad-out":d3.easeQuadOut,cubic:d3.easeCubic,"cubic-in-out":d3.easeCubicInOut,"cubic-in":d3.easeCubicIn,"cubic-out":d3.easeCubicOut,sin:d3.easeSin,"sin-in-out":d3.easeSinInOut,"sin-in":d3.easeSinIn,"sin-out":d3.easeSinOut,exp:d3.easeExp,"exp-in-out":d3.easeExpInOut,"exp-in":d3.easeExpIn,"exp-out":d3.easeExpOut,circle:d3.easeCircle,"circle-in-out":d3.easeCircleInOut,"circle-in":d3.easeCircleIn,"circle-out":d3.easeCircleOut,elastic:d3.easeElastic,"elastic-in-out":d3.easeElasticInOut,"elastic-in":d3.easeElasticIn,"elastic-out":d3.easeElasticOut,back:d3.easeBack,"back-in-out":d3.easeBackInOut,"back-in":d3.easeBackIn,"back-out":d3.easeBackOut,bounce:d3.easeBounce,"bounce-in-out":d3.easeBounceInOut,"bounce-in":d3.easeBounceIn,"bounce-out":d3.easeBounceOut};return function(t){return e[t]||d3.easeLinear}}(),_l=d3.easeLinear,Wl=function(){var e={linear:d3.curveLinear,linearClosed:d3.curveLinearClosed,cardinal:d3.curveCardinal,cardinalClosed:d3.curveCardinalClosed,monotone:d3.curveMonotoneX,monotoneY:d3.curveMonotoneY,stepBefore:d3.curveStepBefore,stepAfter:d3.curveStepAfter,"linear-closed":d3.curveLinearClosed,"cardinal-closed":d3.curveCardinalClosed,"step-before":d3.curveStepBefore,"step-after":d3.curveStepAfter};return function(t,a,r){var n=e[t];return"monotone"==t&&a&&(n=e.monotoneY),it(r)&&n.tension&&n.tension(r),n}}(),Xl=function(){var e="squarify",t={squarify:d3.treemapSquarify,slice:d3.treemapSlice,dice:d3.treemapDice,sliceDice:d3.treemapSliceDice,resquarify:d3.treemapResquarify};return function(a){return t[a]||t[e]}}(),Ul=(d3.rebind,function(){var e=d3.scaleLinear();return e.ticks=function(e){var t=this.domain();return d3.ticks(t[0],t[t.length-1],null==e?10:e)},e}),Gl=d3.scaleBand,Zl=d3.scaleTime,Ql=d3.scalePoint,ql=d3.scaleOrdinal,Kl=d3.bisector,$l=d3.sum,Jl=d3.hsl,eo=function(){var e=d3.rgb.apply(this,arguments);return(isNaN(e.r)||isNaN(e.g)||isNaN(e.b))&&(e=d3.rgb(0,0,0,e.opacity)),e},to=d3.merge,ao=d3.map,ro=d3.set,no=(d3.zoom,d3.drag),io=d3.extent,lo=d3.dispatch,oo=d3.ascending,so=d3.descending,co=d3.line,uo=d3.radialLine,ho=d3.area,fo=d3.radialArea,go=d3.arc,po=d3.pack,mo=d3.pie,vo=d3.partition,yo=d3.treemap,xo=(d3.transform,function(e){if(Ks.FIREFOX){e=e.ownerSVGElement||e;for(var t,a=d3.event,r=e.getBoundingClientRect();t=a.sourceEvent;)a=t;return a.changedTouches&&(a=a.changedTouches[0]),[a.clientX-r.left-e.clientLeft,a.clientY-r.top-e.clientTop]}return d3.mouse.apply(this,arguments)}),bo=d3.interpolate,wo=d3.interpolateRgb,Co=d3.range,ko=d3.timeSunday,Oo=d3.timeMonday,Ao=d3.timeTuesday,So=d3.timeWednesday,Po=d3.timeThursday,To=d3.timeFriday,Eo=d3.timeSaturday,Lo=d3.timeSeconds,zo=(d3.timeMinutes,d3.timeHours),Do=d3.timeDays,Ro=d3.timeWeeks,jo=d3.timeMonths,Mo=d3.timeYears,Io=d3.format,Ho=d3.timeFormat,Bo=d3.utcFormat,Fo=d3.timeParse,Vo=d3.xhr,No=(d3.json,d3.timer,d3.brushX),Yo=d3.brushY,_o="ordinal",Wo="time",Xo="numeric",Uo="text",Go="tspan",Zo="path",Qo="circle";RECT_ELEMENT="rect",LINE_ELEMENT="line",DIV_ELEMENT="div";var qo="fadeAll",Ko="fadeOneByOne",$o="fadeRandom",Jo="fade",es="sizing",ts="sizingRandom",as="randomOut",rs="vertical",ns="verticalAll",is="vertPathTween",ls="vertPathTweenAll",os="horizontalAll",ss="horiPathTween",cs="strokeTween",ds="pointTween",us="pointbypoint",hs="allseries",fs="onebyone",gs="fanonebyone",ps="fanAll",ms="fan",vs="wheel",ys="inner",xs="center",bs="left",ws="right",Cs="bottom",ks="top",Os="fixedTop",As="vertical",Ss="horizontal",Ps="inner",Ts="outer",Es="middle",Ls="bar",zs="bullet",Ds="gantt",Rs="waterfall",js="area",Ms="arearange",Is="line",Hs="scatter",Bs="bubble",Fs="bubblepie",Vs="pie",Ns="dial",Ys="funnel",_s="pyramid",Ws="web",Xs="heatmap",Us="sunburst",Gs="packedbubble",Zs="treemap";Ei.imageFilePath=window.location.protocol+"//"+window.location.hostname+"/src/images/",Ei.fontProperties={minsize:15,maxsize:40,ratio:.038},Ei.requireXDataSorting=!1,Ei.dataEncoded=!1;var Qs=window.btoa||function(e){e=String(e);var t,a,r,n,i,l,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,d=[];if(/[^\x00-\xFF]/.test(e))throw Error("InvalidCharacterError");for(;c<e.length;)t=e.charCodeAt(c++),a=e.charCodeAt(c++),r=e.charCodeAt(c++),n=t>>2,i=(3&t)<<4|a>>4,l=(15&a)<<2|r>>6,o=63&r,c===e.length+2?(l=64,o=64):c===e.length+1&&(o=64),d.push(s.charAt(n),s.charAt(i),s.charAt(l),s.charAt(o));return d.join("")};!function(){var e=function(t,a){var r=t.nodeType;if(3==r)a.push(t.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"));else if(1==r){if(a.push("<",t.tagName),t.hasAttributes())for(var n=t.attributes,i=0,l=n.length;l>i;++i){var o=n.item(i);a.push(" ",o.name,"='",o.value,"'")}if(t.hasChildNodes()){a.push(">");for(var s=t.childNodes,i=0,l=s.length;l>i;++i)e(s.item(i),a);a.push("</",t.tagName,">")}else a.push("/>")}else{if(8!=r)throw"Error serializing XML. Unhandled node of type: "+r;a.push("<!--",t.nodeValue,"-->")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){for(var t=[],a=this.firstChild;a;)e(a,t),a=a.nextSibling;return t.join("")},set:function(e){for(;this.firstChild;)this.removeChild(this.firstChild);try{var t=new DOMParser;t.async=!1,sXML="<svg xmlns='http://www.w3.org/2000/svg'>"+e+"</svg>";for(var a=t.parseFromString(sXML,"text/xml").documentElement,r=a.firstChild;r;)this.appendChild(this.ownerDocument.importNode(r,!0)),r=r.nextSibling}catch(n){throw new Error("Error parsing XML string")}}}),Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(e){this.innerHTML=e}})}(),function(){try{document.createElement("div").style.setProperty("opacity",0,"")}catch(e){var t=window.Element.prototype,a=t.setAttribute,r=t.setAttributeNS,n=window.CSSStyleDeclaration.prototype.setProperty;t.setAttribute=function(e,t){a.call(this,e,t+"")},t.setAttributeNS=function(e,t,a){r.call(this,e,t,a+"")},window.CSSStyleDeclaration.prototype.setProperty=function(e,t,a){n.call(this,e,t+"",a)}}}(),Ei.charts=function(e,t,a){var r=e.constructor===Array&&t.constructor===Array;if(r)return l(e,t,a);var n=i(e,t);return n&&n.draw(),n},function(e){"use strict";function r(e,t){this.container=e,this.userdata=t,this.dataObject=null,this.dataset=null,this.svg=null,this.canvasarea={},this.chartarea={},this.legendarea={},this.plotarea={},this.seriesColor=[],this.axes={},this.renderer=[],this.subrenderer=[],this.ismultiy=null,this.plotarea_approx=null,this.nochartdata=!1,this.chartRendered=!1,this.plot={},this.events={},this.legend={component:null},this.cache={},this.datalabels={},this.initialize()}e.charts.get=function(e,t){return new r(e,t)},r.prototype.initialize=function(){var e=this;jl++,e.id="ZC_"+jl,e.idNumeric=jl;try{var t=this.userdata,a=e.dataProcessorHelpers=Ei.DataProcessor.helpers;e.createHelperElements(),e.handleHiddenContainer(),e.chartFontProp={},e.chartWidth=e.getChartDimension("width"),e.chartHeight=e.getChartDimension("height"),r.helpers.initializeChartHolders(e),e.setCanvasDimension(),e.axes.x={levels:[]},e.axes.y={groups:[]},e.chartTypes=a.getAllChartTypes(t,"object"),e.globalProp=d(t,{width:e.canvasarea.width,height:e.canvasarea.height},e.chartFontProp),e.themeoptions=e.getThemeOptions(e.globalProp),t.metadata?null:Ei.setDefaultOptions("metadata",t),e.processUserData(e.themeoptions),e.setChartDimension(),e.defsLocation=K();var n=e.svg;e.legendHighlight=new Ei.legendHighlight(e,e.svg),n.append("defs"),r.helpers.constructChartGroups(e)}catch(i){r.helpers.handleErrors(e,i)}},r.prototype.createHelperElements=function(){if(!it(Rl)){var e=Hl(document.body),t=Rl=zt(e,"div",[1],".","class","__baseZC_Container__");t.styles({position:"absolute",left:Ml+Tl,top:Ml+Tl});var a=qs.patternSVG=zt(t,"svg",[1],".","class","svgPattern");a.attrs({version:"1.1",xmlns:d3.namespaces.svg}),zt(a,"defs",[1])}},r.prototype.handleHiddenContainer=function(e){var t=this,a=t.container;if(e&&it(t.originalContainer))t.originalContainer.node().appendChild(t.d3container.node()),t.container.remove(),t.container=t.originalContainer,delete t.isHiddenCoainer,delete t.originalContainer;else{var r=a.node();if(Ct(r)){var n=r.cloneNode(0);Rl.node().appendChild(n),n.style.setProperty("display","block","important"),t.isHiddenCoainer=!0,t.originalContainer=a,t.container=d3.select(n)}}},r.prototype.draw=function(){this.render(!1)},r.prototype.render=function(e){var t=this;try{t.updateCanvasArea();var a=t.systemConf;if(t.applyChartProperties(),t.nochartdata)t.hideLoading(t.container),t.handleNoData(a.noDataHandler),t.chartRendered=!0,ar(t,a.canvas.events,"chart",e?"onreload":"onload");else{if(t.getChartSeriesColor(),t.isAxisCategory=t.dataObject.isAxisCategory,t.isNonAxisMultiSeriesCategory=t.dataObject.isNonAxisMultiSeriesCategory,t.xymultiRenderer=t.isAxisCategory,Ei.legend.render(t,e),Vc.updatePlotarea4BlockTooltip(t),Ei.annotation&&Ei.annotation.addBlockAnnotations(t),$(t.systemConf.chart,"scroll")&&t.systemConf.chart.scroll.enabled&&(Ei.setDefaultOptions("scroll",t.systemConf.chart,t.globalProp),t.brush=new qc(t,"x")),_n.initialize(t),ar(t,a.chart.axes.events,null,"init"),t.isAxisCategory)Ei.axis.render(t,t.chartWidth,t.chartHeight,e);else if(t.dataObject.isPolarAxisCategory||t.dataObject.hasLevelMarker){var n=t.dataObject.hasLevelMarker?"y":"x";Ei.axis.polar.render(t,n)}if(t.zscale=t.dataObject.hasZaxis&&!t.dataObject.isHierarchy?Ei.scale.getScale(t,t.dataObject,t.plotarea,t.axes.x.orient,null,t.dataset,"z"):null,ar(t,a.chart.axes.events,null,e?"onreload":"onload"),t.updatePlotareaProp(),t.drawPlotareaClippath(),t.plot.renderer)t.plot.renderer.draw(e);else{var i=t.plot.renderer=Ei.plot.render(t,e);i.draw(!1)}t.isAxisCategory&&t.drawThreshold(e),t.handleEvent(e),_(t.wrap.selectAll("rect.dummy-rect-filter"),{width:t.plotarea.width,height:t.plotarea.height})}}catch(l){r.helpers.handleErrors(t,l)}},r.prototype.updateCanvasArea=function(){var e=this,t=e.systemConf;e.container.selectAll("div.d3container").styles({position:"relative",width:e.getChartDimension("width")+Tl,height:e.getChartDimension("height")+Tl});var a=e.container.selectAll("div.canvas-component");a.styles({position:"relative",width:e.canvasarea.width+"px",height:e.canvasarea.height+"px"});var r=e.container.selectAll("div.canvas-property");r.styles({position:"absolute",width:e.canvasarea.width+"px",height:e.canvasarea.height+"px"}),e.updateCommonBBSProp(r,null,t.canvas,"canvas")},r.prototype.updateCommonBBSProp=function(e,a,r,n){var i,l=this,o=l.systemConf,s=r.border||{},c=r.background||{},d=r.shadow||{};e.styles({"background-color":c.color,opacity:c.alpha});var u=null,h=cc(c,"gradients.show")===!0;if(h){var f,g="";if(it(c.gradients.useCSS)?f=c.gradients.useCSS:(it(c.gradients.stopColor)&&c.gradients.stopColor.map(function(e,t){var a=it(c.gradients.stopOffset)&&it(c.gradients.stopOffset[t])?" "+c.gradients.stopOffset[t]:"";g+=0===t?e+" "+a:","+e+a}),"radial"===c.gradients.type?f="radial-gradient("+g+")":"linear"===c.gradients.type&&(f="linear-gradient("+g+")")),Ks.WEBKIT)u="-webkit-"+f;else if(Ks.FIREFOX)u="-moz-"+f;else if(Ks.IE){u="-ms-"+f;var p=it(c.gradients.stopColor)?"linear"===c.gradients.type?"progid:DXImageTransform.Microsoft.gradient(startColorstr="+(c.gradients.stopColor[0]||"black")+", endColorstr="+(c.gradients.stopColor[1]||"white")+")":"progid:DXImageTransform.Microsoft.Alpha(opacity=100, finishopacity=0, style=2)":null;e.style("filter",p)}}if(it(c.imageUrl)&&(u="url("+c.imageUrl+")"),(1!==Ks.IE||0!==Ks.VERSION.indexOf("9."))&&e.styles({"background-image":u,"background-repeat":c.imageRepeat,opacity:c.alpha}),s.show===!0&&"canvas"===n){i="plotarea"===n?a:e;var m="canvas"===n?nt(o.canvas.border,"size",0,10,l.canvasarea.width,l.canvasarea.height):nt(o.chart.plot.border,"size",0,10,l.plotarea.width,l.plotarea.height);m=dc(m,2),i.styles({border:m+"px "+s.style+" "+s.color,"border-radius":t(s.radius)+"px"}),i.node().border={size:m,clr:s.color}}else i="plotarea"===n?a:e,"plotarea"!==n&&i.style("border","");if(d.show===!0){var v=d.x+"px "+d.y+"px "+d.blur+"px "+d.color;d.inset===!0&&(v+=" inset"),e.style("box-shadow",v)}else e.style("box-shadow","")},r.prototype.processUserData=function(e,t){var a,r,n,i=this;i.systemConf=a=oc(e,i.userdata,!0,!0),r=cc(a,"seriesdata")||{},i.seriesdata=n=r.chartdata,t||ar(i,a.canvas.events,"chart","init"),i.nochartdata=!it(n)||it(n)&&n.length<1,i.nochartdata?i.seriesdata=null:(i.dataset=new Ei.dataset.get(a,i),i.preProcessor=new Ei.PreProcessor(i),i.dataObject=i.getDataObject(),i.dataset.setDataObj(i.dataObject),i.nochartdata=i.dataObject.totalnoofdatas<1,i.axes.rotated=i.dataObject.getAxisRotated(),i.axes.rotated?(i.axes.x.orient="left",i.axes.y.orient="bottom"):(i.axes.x.orient="bottom",i.axes.y.orient="left"),i.ismultiy=i.getAxesCount("y")>1,i.ismultix=i.getAxesCount("x")>1)},r.prototype.setCanvasDimension=function(e,t){var a=this;e||t||(e=a.getChartDimension("width"),t=a.getChartDimension("height")),this.canvasarea={left:0,top:0,right:0,bottom:0,width:e,height:t}},r.prototype.getChartDimension=function(e){var t=this,a={width:960,height:400};return t.isHiddenCoainer||(a[e]=Pt(t.container,e,!0)),a[e]},r.prototype.getThemeOptions=function(e){var t,a,r=this,n=Ei.charttypenames.values(),i=r.dataProcessorHelpers.getAllChartTypes(r.userdata,"string"),l=null;return r.userdata.canvas&&(l=r.userdata.canvas.theme),a=new Ei.defaultTheme(e),n.map(function(t){-1!==i.indexOf(t)&&Ei.setDefaultOptions(t,a.chart.plot.plotoptions,e)}),it(Ei[l])?(t=new Ei[l](e),t=oc(a,t,!0,!0)):t=a,t},r.prototype.getDataObject=function(){var e,t=this;return e=Ei.chartcategory.hierarchy.indexOf(t.chartTypes[0].value)>-1?new Ei.hierarchymodel.get(t):new Ei.DataProcessor(t.systemConf,t.dataset,t),t.seriesdata=e.isHierarchy?sc(t.seriesdata):t.seriesdata,e},r.prototype.getAxesCount=function(e){var t=this,r=1,n=t.systemConf.metadata;if("x"===e){var i=t.dataset.getColumnIdx(e),l=n.columns[i].datatype,o=dc(n.columns[i][l],{}),s=o.subfunction;it(t.dataObject.hierarchical)?r=t.dataObject.hierarchical.finalDepth+1:a(o.groupby)&&o.groupby.length?r=o.groupby.length+1:"AUTO"===o.groupby&&(r=Ei.HierarchicalTimeDataAdapter.getAutoGroupOrder(s).length+1),t.axes[e].count=r}else{var c=n.axes.y;r=t.axes[e].count=c.length}return r},r.prototype.setChartDimension=function(){var e=this,t=e.systemConf,a=t.canvas.border,r=a.show?nt(a,"size",0,10,e.canvasarea.width,e.canvasarea.height):0;e.chartarea={left:e.canvasarea.left+r,top:e.canvasarea.top+r,right:e.canvasarea.right-r,bottom:e.canvasarea.bottom-r,width:e.canvasarea.width-2*r,height:e.canvasarea.height-2*r},e.plotarea=Object.create(e.chartarea)},r.prototype.applyChartProperties=function(){var e=this,t=e.systemConf,a=e.chartHeight,r=t.canvas.title,n=t.canvas.subtitle,i=t.credits||{},l=r.show&&Kt(e,"title",a),o=n.show&&Kt(e,"subtitle",a),s=i.enabled===!0&&Kt(e,"credits",a);if(s){{Ei.setDefaultOptions("credits",e.systemConf,e.globalProp)}e.drawTitle(e.systemConf.credits,"credits")}l&&("bottom"===r.vAlign&&"bottom"===n.vAlign&&n.show?e.drawTitle(t.canvas.subtitle,"subtitle"):e.drawTitle(t.canvas.title,"title")),o&&("bottom"===n.vAlign&&"bottom"===r.vAlign&&r.show?e.drawTitle(t.canvas.title,"title"):e.drawTitle(t.canvas.subtitle,"subtitle")),e.plotarea=Object.create(e.chartarea),e.container.selectAll("g.plotareaBorder-property").selectAll("line","path").style("border","");var c=t.chart,d=parseFloat(c.marginLeft),u=parseFloat(c.marginRight),h=parseFloat(c.marginTop),f=parseFloat(c.marginBottom),g=d+u>e.plotarea.width?0:d,p=d+u>e.plotarea.width?0:u,m=h+f>e.plotarea.height?0:h,v=h+f>e.plotarea.height?0:f;e.plotarea.left+=g,e.plotarea.right+=p,e.plotarea.bottom+=v,e.plotarea.top+=m,e.plotarea.width=e.plotarea.width-g-p,e.plotarea.height=e.plotarea.height-v-m},r.prototype.drawTitle=function(e,t){var a=this,n=a.svg,i=a.systemConf,l=it(e.x)&&it(e.y),o=window.location,s={top:rt(e.marginTop,0),right:rt(e.marginRight,0),bottom:rt(e.marginBottom,0),left:rt(e.marginLeft,0)},c=n.selectAll("g.chart"+t),d=l?{x:e.x+s.left,y:e.y+s.top,dy:"1",textAnchor:"left"===e.hAlign?"start":"right"===e.hAlign?"end":"middle"}:r.helpers.align(e.hAlign,e.vAlign,a.chartarea,s),u=e.imageUrl,h=!it(u),f=h?""===e.text?El:"text":"image";if(f!==El){var g=zt(c,f,[e],".","class",t);if(it(e.href)){var p=function(){var t=Q(e.href);if(t){var a=e.target;"newtab"===a||"newwindow"===a?window.open(e.href,"popUpWindow","newwindow"===a?"status=yes":""):o.href=e.href}else ol.log("invalid URL for credits")},m={click:p},v={tap:p};Sr(g,m,v)}if(h){var y=a.userdata.canvas?a.userdata.canvas.fontColor:null;g.attrs({x:d.x,y:d.y,dy:d.dy+"em","text-anchor":d.textAnchor}).styles({cursor:it(e.href)?zl:"auto",display:"block"}).text(G(e.text)),e.tooltip===!0&&Bt(g),Ht(g,[{fontColor:"subtitle"!==t||it(e.fontColor)||it(y)?e.fontColor||y:"#CCCCCC"},e,i.canvas,qs])
}else g.attrs({x:d.x+("right"===e.hAlign?-e.imageWidth:0),y:d.y+("bottom"===e.vAlign?-e.imageHeight:0),width:e.imageWidth,height:e.imageHeight,"xlink:href":e.imageUrl}).styles({cursor:it(e.href)?zl:"auto",display:"block"});var x=U(g.node()),b={left:l?e.x+s.left:x.x,top:l?e.y+s.top:x.y,width:x.width,height:x.height},w={left:s.left,top:s.top,right:a.canvasarea.width-s.right,bottom:a.canvasarea.height};if(Dt(g.node(),G(e.text),b,w,"bottom","..",{left:5,right:5,top:5,bottom:5}),!l){var C=x.height+s.bottom+s.top;"top"===e.vAlign&&(a.chartarea.top+=C,a.chartarea.height-=C),"bottom"===e.vAlign&&(a.chartarea.height-=C)}}c.selectAll(f===El?"text,image":"image"===f?"text":"image").style("display",El)},r.prototype.getChartSeriesColor=function(){var e=this,t=e.systemConf,r=[],n=t.legend;if(n.colors)if(a(n.colors))r=n.colors;else{var i=[];for(var l in n.colors)n.colors.hasOwnProperty(l)&&i.push(n.colors[l]);r=i}else if(n.imagePallete){e.patternImageSizes=[];var o=Ei.legutil.imagePallete.get(n.imagePallete);e.imagePallete=o;var s="stripes"===n.imagePallete?null:50,c=zt(qs.patternSVG,"image",[1],".","class","tempImage");o.map(function(t,a){c.attr("xlink:href",t);var r=U(c.node());e.patternImageSizes[a]=[s||r.width||3,s||r.height||3]}),c.remove()}else n.colorPallete&&(r="monochrome"===n.colorPallete.type?Ei.legutil.getMonochromeColorPallette(n.colorPallete.options.monochrome):Ei.legutil.colorpallete.get(n.colorPallete.options.multicolor)||Ei.legutil.colorpallete.get("flat-ui-colors"));if(n.patterns)e.patternPallete=n.patterns;else if(n.patternPallete){var d=Ei.legutil.patternPallete.get(n.patternPallete);!it(d)&&a(n.patternPallete)&&n.patternPallete.length&&(d=n.patternPallete),e.patternPallete=d}it(r)&&(e.seriesColor=r.slice(0,r.length),hc.isQuantileColorScale(e)||e.seriesdata.map(function(t,a){it(t.color)&&(e.seriesColor[a]=t.color)}))},r.prototype.updatePlotareaProp=function(){var e=this,t=e.systemConf,a=e.container,r=a.selectAll("div.plotarea-property"),n=e.staticPaneSVG.selectAll("g.plotareaBorder-property"),i={position:"absolute",left:e.plotarea.left+"px",top:e.plotarea.top+"px",width:e.plotarea.width+"px",height:e.plotarea.height+"px","pointer-events":El,"box-sizing":"border-box"};i[Ks.prefix.css+"box-sizing"]="border-box",a.selectAll("div.plotarea-property").styles(i),n.attrs({transform:"translate("+e.plotarea.left+","+e.plotarea.top+")"}),e.updateCommonBBSProp(r,n,t.chart.plot,"plotarea")},r.prototype.drawPlotareaClippath=function(){var e=this,t=e.systemConf,a=$(t,"chart.zoom.x")||it(e.scrolledX),r=$(t,"chart.zoom.y")||it(e.scrolledY),n=e.dataObject.getAxisRotated(),i=N(e),l=(n?r:a)?0:-i.left,o=(n?a:r)?0:-i.top,s=e.plotarea.width+((n?r:a)?0:i.left+i.right),c=e.plotarea.height+((n?a:r)?0:i.top+i.bottom),d={name:"rect",id:e.id,x:l,y:o,width:s,height:c},u={chartObj:e},h=Js.get(ic,"rect",d,u);e.wrap.selectAll("g.seriesholder").attr("clip-path","url("+e.defsLocation+"#"+h+")"),e.staticPaneSVG.selectAll("g.labelholder,g#zcscatterhighlight,g#zcareahighlight,path#zcbarhighlight").attr("clip-path","url("+e.defsLocation+"#"+h+")")},r.prototype.drawThreshold=function(e){if(Ei.axis.threshold){var t=this;t.cache.thresholdCustomPoints=[],Ei.axis.threshold(t,e)}},r.prototype.handleEvent=function(e){var t=this,a=t.systemConf;if(e)t.eventHandler.updateParams(t);else{{var r=t.staticPaneSVG.selectAll("g.eventgroup").styles({"pointer-events":"visible"});r.append("g").attr("id","zcareahighlight"),r.append("g").attr("id","zcbarhighlight")}if(a.tooltip.crosshair){var n=zt(r,"g",[1],".","class","crosshair");n.style("visibility","hidden"),zt(n,"line",[1],".","class","x-crosshair"),zt(n,"line",[1],".","class","y-crosshair")}{r.append("g").attr("id","zcscatterhighlight"),r.append("g").attr("class","zcplothighlight").styles({opacity:0,"pointer-events":El})}t.dataObject.isHierarchy&&r.append("g").attr("id","zchierarchyhighlight").styles({opacity:0,fill:El,"pointer-events":El}),t.eventHandler=Ei.events.mouseevents(t,t.tooltip.element,a,t.plotarea,t.dataset,t.axes.x.scale,t.barscale1,t.barscale2,t.axes.y.groups,r,t.seriesColor,t.labelHighlighter),t.eventHandler.initializeListener()}(t.xymultiRenderer||t.dataObject.isPolarAxisCategory)&&_(t.eventHandler.trackerElement,t.plotarea),_n(t)},r.prototype.redraw=function(){var e=this,t=e.systemConf;e.svg.styles({width:e.getChartDimension("width")+Tl,height:e.getChartDimension("height")+Tl}),e.staticPaneSVG.styles({width:e.getChartDimension("width")+Tl,height:e.getChartDimension("height")+Tl}),e.resetdata(t),r.helpers.constructChartGroups(e),e.render(!0)},r.prototype.resetdata=function(e){var t=this;t.chartWidth=t.getChartDimension("width"),t.chartHeight=t.getChartDimension("height"),t.setCanvasDimension(),t.chartTypes=t.dataProcessorHelpers.getAllChartTypes(e,"object"),t.processUserData(e,!0),t.setChartDimension(),t.globalProp=d(e,{width:t.canvasarea.width,height:t.canvasarea.height},t.chartFontProp),t.events={},t.dataObject&&(t.dataObject.formattedData={x:[],y:[]})},r.prototype.addRemoveSeries=function(e,t,a,r){var n=this,i=n.systemConf;if(n.dataObject.formattedData={x:[],y:[]},n.dataObject.initialize("addorremoveseries"),ar(n,i.chart.axes.events,null,"init"),n.isAxisCategory){var l=n.brush&&n.brush.extent;n.updateZscale(),r?n.axes.y.groups.forEach(function(e,t){n.updateScale([t,0],"y")}):n.updateScale(a,"y"),n.updateScale(0,"x",l),n.dataObject.hierarchical&&(n.axes.x.rangeScale=n.axes.x.scale.copy(),n.axes.x.rangeScale.outerPaddingPx=n.axes.x.scale.outerPaddingPx,n.dataObject.hierarchical.groupByDiscreteTime&&n.axes.x.rangeScale.domain(d3.range(n.axes.x.scale.domain().length)),n.dataObject.hierarchical.setRanges(n.axes.x.rangeScale),n.axes.x.levels.forEach(function(e,t){n.updateScale(a,"x",null,t+1)}),n.dataObject.hierarchical.categoryTree&&Qa.updateTickEventHandler(n,e.disabled)),n.drawThreshold(!0),n.drawPlotareaClippath(),n.updatePlotareaProp()}else n.dataObject.isPolarAxisCategory&&Ei.axis.polar.render(n,"x");ar(n,i.chart.axes.events,null,"onreload"),n.events={},n.plot.renderer.draw(!0),(n.isAxisCategory||n.dataObject.isPolarAxisCategory)&&(_(n.eventHandler.trackerElement,n.plotarea),n.eventHandler.updateParams(n),_n(n,"addorremoveseries"))},r.prototype.showLoading=function(){var e=this,t=e.systemConf,a=t.loader;if(a.enabled===!0&&a.type!==El){var n=zt(this.container.selectAll("div.d3container"),"div",[1],".","class","loading");n.style("position","absolute").html(r.helpers.getLoader(e,a)),Ht(n,[a,t.chart,t.canvas,qs],!0);var i=n.node();n.styles({left:e.chartarea.width/2-i.offsetWidth/2+"px",top:e.chartarea.height/2-i.offsetHeight/2+"px"})}},r.prototype.hideLoading=function(){this.container.selectAll("div.loading").remove()},r.prototype.pushDataPoint=function(e,t,r){var n=this,i=n.dataObject.isCombinationalChart,l=i?el.arrangeSeriesRenderingOrder(n.seriesdata):n.seriesdata;if(!Array.isArray(e)){var o=[],s=[];o.push(e),s.push(t),e=o,t=s}e.forEach(function(e,o){var s,c,d,u=l[e],h=i?u.seriesidx:e,f=n.seriesdata[h],g=n.renderer[h];if(d=a(r)?r[o]:r,f.data[0].push(t[o]),d){s=f.data[0][0];var p=f.data[0].shift();it(g.shiftInfo())?(c=g.shiftInfo(),c.count++):(c={},c.count=0),c.point=s,c.shiftedData=p,g.shiftInfo(c)}else g.shiftInfo(null);n.ismultiy&&n.updateScale(f,"y")}),n.dataObject.initialize(),n.updateScale(null,"x"),n.ismultiy||n.updateScale(n.seriesdata[0],"y"),n.plot.renderer.draw(!0),n.drawThreshold(!0),n.eventHandler.updateParams(n)},r.prototype.popDataPoint=function(e){var t=this,a=t.seriesdata[e];a.data.forEach(function(e){e.pop()}),t.dataObject.initialize(),t.updateScale(a,"x"),t.updateScale(a,"y"),t.plot.renderer.draw(!0),t.drawThreshold(!0),t.eventHandler.updateParams(t)},r.prototype.zoomON=function(e){var t=this;t.changeZoomType(e);var a=t.zoom;a||t.eventHandler.initializeZoomListener()},r.prototype.zoomOFF=function(){var e=this,t=e.zoom;t&&t.reset(),e.changeZoomType(El)},r.prototype.zoomX=function(e,t){var a=this;a.changeZoomType("x"),a.zoom||a.eventHandler.initializeZoomListener();var r=a.zoom;r.zoomed(null,e,t)},r.prototype.zoomY=function(e,t){var a=this;a.changeZoomType("y"),a.zoom||a.eventHandler.initializeZoomListener();var r=a.zoom;r.zoomed(null,e,null,t)},r.prototype.zoomXY=function(e,t,a){var r=this;r.changeZoomType("xy"),r.zoom||r.eventHandler.initializeZoomListener();var n=r.zoom;n.zoomed(null,e,t,a)},r.prototype.changeZoomType=function(e){var t=this,a=t.systemConf;a.chart.zoom||Ei.setDefaultOptions("zoom",a.chart,t.globalProp),a.chart.zoom.type=e},r.prototype.handleNoData=function(e,t){var a=this,r=a.systemConf,n=dc(t,a.wrap.selectAll("g.nodatahandler"));if(it(e.htmlEl)){var i=zt(a.container.selectAll("div.canvas-component"),"div",[1],".","class","nodatahandler");i.style("position","absolute").html(e.htmlEl);var l=i.node();i.styles({left:dc(e.x,(a.chartWidth-l.offsetWidth)/2)+"px",top:dc(e.y,(a.chartHeight-l.offsetHeight)/2)+"px"})}else if(it(e.imageUrl)){var o=zt(n,"image",[1]);o.attrs({x:e.x||a.chartarea.width/2-50,y:e.y||a.chartarea.height/2-50,width:100,height:100,"xlink:href":e.imageUrl})}else if(it(e.text)){var s=zt(n,"text",[e],".","class","nodata");s.attrs({x:e.x||a.chartarea.width/2,y:e.y||a.chartarea.height/2,"text-anchor":"middle"}).text(G(e.text||"No Data")),Ht(s,[e,r.canvas,qs])}},r.prototype.destroy=function(){var e=this;e.eventHandler&&(clearTimeout(e.eventHandler.mouseouttimer),clearTimeout(e.eventHandler.mousemovetimer),clearTimeout(e.eventHandler.tooltipElement.timeout),e.eventHandler.tooltipElement.destroy()),e.container.datum(null),e.d3container.remove(),e.destroying=!0},r.helpers={initializeChartHolders:function(e){var t,a,n=e.container,i=n.selectAll("div.d3container");if(!i.empty()){var l=i.datum();l&&l.destroy&&l.destroy(),i.remove()}t=e.getChartDimension("width"),a=e.getChartDimension("height"),i=e.d3container=zt(n,"div",[e],".","class","d3container");var o={width:t+"px",height:a+"px",position:"relative",left:"0px",top:"0px","box-sizing":"border-box","-moz-user-select":El,"-webkit-user-select":El,"-ms-user-select":El,"user-select":El};o[Ks.prefix.css+"box-sizing"]="border-box",i.styles(o),zt(i,"div",[1],".","class","canvas-property"),zt(i,"div",[1],".","class","plotarea-property"),zt(i,"div",[1],".","class","zcoverview");var s=zt(i,"div",[1],".","class","canvas-component");s.style("-webkit-tap-highlight-color",Ll);var c=zt(Rl,"div",[1],"#","id","zctooltip"+e.idNumeric);c.node().isTooltipContainer=!0,e.tooltip={element:c},e.tooltip.element.styles({position:"fixed",display:"inline-block",visibility:"hidden","white-space":"nowrap","background-color":"white",border:"1px solid","-webkit-tap-highlight-color":Ll});var d=r.helpers.positionSVG(e);e.svg=zt(s,"svg",[1],".","class","svgarea",d),e.staticPaneSVG=zt(s,"svg",[e],".","class","static",d).style("pointer-events",El),e.legendarea.element=s.append("div").attr("class","legendarea"),e.notes=s.append("div").attr("class","zcnotes")},removeChartHolders:function(e){var t=e.container;t.select("div.d3container").remove(),t.select("div.zc-staticPane").remove(),t.select("div.zc-chartPane").remove()},align:function(e,t,a,r){var n={};return"center"===e?(n.x=a.width/2+r.left,n.textAnchor="middle"):"left"===e?(n.x=a.left+r.left,n.textAnchor="start"):"right"===e&&(n.x=a.width+a.left-r.right,n.textAnchor="end"),"top"===t?(n.y=a.top+r.top,n.dy=1):"bottom"===t&&(n.y=a.height+a.top-r.bottom,n.dy=-.21),n},getLoader:function(e,t){var a=t.htmlEl,r=t.imageUrl,n=t.type,i=t.text,l=t.colors;if(a)return a;if(r)return"<img src="+r+" height="+t.imageHeight+" width="+t.imageWidth+">";var o="",s=null;if(n){var c=e.container.selectAll("div.loading");l=l&&l.length?l:null,s=pd(c,{type:n,colors:l});var d=new XMLSerializer;o=d.serializeToString(s)}return i&&(o+="<p style=position:relative;display:inline-block>"+i+"</p>"),o},constructChartGroups:function(e){function t(e){return e?[1]:[]}var a=e.svg,n=e.systemConf,i=e.chartHeight,l=(e.chartWidth,n.canvas.title.show===!0&&Kt(e,"title",i));zt(a,"g",t(l),".","class","charttitle");var o=n.canvas.subtitle.show===!0&&Kt(e,"subtitle",i);zt(a,"g",t(o),".","class","chartsubtitle");var s=n.credits&&n.credits.enabled===!0&&Kt(e,"credits",i);zt(a,"g",t(s),".","class","chartcredits");var c=e.wrap=zt(a,"g",[n],".","class","xychart");if(e.nochartdata)zt(c,"g",[1],".","class","nodatahandler");else{zt(c,"g",[0],".","class","nodatahandler");var d=zt(c,"g",[e.seriesdata],".","class","chartgroup"),u=n.chart.axes.xaxis.show===!0;zt(d,"g",t(u),".","class","x-axis"),zt(d,"g",[e.seriesdata],".","class","y-axis"),zt(d,"g",[e.seriesdata],".","class","threshold");var h=zt(d,"g",[e.seriesdata],".","class","seriesholder");e.filterEffectsID=P(n),h.attr("filter",e.filterEffectsID?"url("+e.defsLocation+"#"+e.filterEffectsID+")":null);var f=e.dataObject.noofBarEnabledSeries&&!e.dataObject.isCombinationalChart||e.dataObject.isHierarchy;if(!f)var g=zt(e.staticPaneSVG,"g",[e.seriesdata],".","class","labelholder");zt(e.staticPaneSVG,"g",[e.seriesdata],".","class","threshold");var p=zt(e.staticPaneSVG,"g",[1],".","class","plotareaBorder-property"),m=n.chart.plot.border.show===!0;if(zt(p,"path",t(m),".","class","plotBorderPath"),zt(e.staticPaneSVG,"g",[1],".","class","eventgroup"),f){var g=zt(e.staticPaneSVG,"g",[e.seriesdata],".","class","labelholder");g.style("pointer-events",El)}zt(h,"rect",[1],".","class","dummy-rect-filter"),r.helpers.createLegendArea(e)}},handleErrors:function(e,t){e.breakOnErr=!0,$(e.systemConf,"canvas.events")&&tt(e.systemConf.canvas.events.onerror,d3.event,e,t)},positionSVG:function(e){return{width:e.getChartDimension("width")+Tl,height:e.getChartDimension("height")+Tl,position:"absolute",top:0,left:0}},createLegendArea:function(e){var t=xc.isContinousLegend(e),a=(e.staticPaneSVG,e.container.selectAll("div.canvas-component"),zt(e.staticPaneSVG,"g",t?[1]:[],".","class","legendarea"));t&&(e.legendarea.element=a)}},e.Chart=r}(Ei);var qs={};qs.fontFamily="'Roboto','Open Sans',sans-serif",qs.fontColor="#616161",qs.fontStyle=null,qs.fontWeight=null,qs.fontL1Size=null,qs.fontL2Size=null,qs.fontL3Size=null,qs.DOMBorder="none";var Ks=new function(){this.NETSCAPE=0,this.FIREFOX=0,this.OPERA=0,this.IE=0,this.SAFARI=0,this.MOZILA=0,this.CHROME=0,this.NONIE=1,this.WEBKIT=0;var e=navigator.userAgent.toLowerCase();this.OSX=-1!=e.indexOf("mac"),this.LINUX=-1!=e.indexOf("linux"),this.IPHONE=-1!=e.indexOf("iphone"),this.IPAD=-1!=e.indexOf("ipad"),this.ANDROID=-1!=e.indexOf("android"),this.IS_IOS=this.IPHONE||this.IPAD,this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,this.isMouseDevice=!(this.IS_IOS||this.ANDROID||-1!=e.indexOf("mobile")),this.uiwebview=this.IS_IOS&&!/safari/.test(e);var t="";this.detect=function(){var e=navigator.userAgent,a=e.length,r=navigator.vendor,n=window.opera,i="";n?(this.OPERA=1,t="o"):e.indexOf("Chrome")>-1?(this.CHROME=1,i="Chrome/",t="webkit"):e.indexOf("Firefox")>-1?(this.FIREFOX=1,i="Firefox/",t="moz"):e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1?(this.IE=1,i="MSIE ",t="ms"):r.indexOf("Apple")>-1?(this.SAFARI=1,i="Version/",t="webkit"):i="Unknown Browser",this.VERSION=e.substring(e.indexOf(i),a).match(/[0-9\.]+/)[0]},this.detect(),this.NONIE=!this.IE,this.WEBKIT=this.SAFARI||this.CHROME,this.prefix={lowercase:t,css:t?"-"+t+"-":t,js:t?t[0].toUpperCase()+t.substr(1):t}};g.prototype={initialize:function(){var e=this;e.hierarchyLayout=!0,e.finalDepth=0,e.dataCount=0,e.categories=[],e.leafNodes=[],e.series=[],e.categoriesByDepth=[],e.globalChartType=e.originalSeries.type},setDepth:function(){function e(r,c,d,u){c>t.finalDepth&&(t.finalDepth=c),u=dc(u,""),r.forEach(function(r,h){it(d)&&(r.parent=d),r.leaf?(r.index=t.dataCount++,a(r.data)&&r.data.forEach(function(e){e.index=r.index,e.level=u+h+"_"}),i.push(r),l.push(r[s])):(n[c]||(n[c]=[],o[c]=[]),o[c].push(r[s]),n[c].push(r),e(r.children,c+1,r,u+h+"_"))})}var t=this,r=t.categories,n=t.categoriesByDepth=[],i=t.leafNodes=[],l=t.leafCategories=[],o=t.categoriesList=[],s=t.dataType===Wo||t.groupByDiscreteTime?"point":"value";e(r,0),o.reverse()},getCategories:function(){return this.categories},getCategoriesByDepth:function(e){return it(e)||(e=0),e===this.finalDepth?this.leafNodes:e<this.finalDepth?this.categoriesByDepth[e]:void 0},getCategoriesByLevelIndices:function(e){var t=this,a=t.categories,r=e.length-1;return e.forEach(function(e,t){a=t===r?a[e]:a[e].children}),a},getParentByIndex:function(e,t){for(var a=this,r=a.leafNodes[e],n=null,i=a.finalDepth+1;i--;){if(r.depth===t){n=r;break}if(0===r.depth)break;r=r.parent}return n},setRanges:function(e){function t(t){r(t)?(t.rangeBand=i(t.children),y=e(d?t.children[0].index:t.children[0].point)-l(t.children[0],!0),t.range=[y,y+t.rangeBand]):(t.rangeBand=t.children.reduce(n,0),t.range=[t.children[0].range[0],t.rangeBand+t.children[0].range[0]]),b.push(t.rangeBand),w.push(t.range)}function r(e){return it(e.children[0])&&e.children[0].leaf===!0}function n(e,t){return t.leaf?e+m+l(t,!0)+l(t):e+t.rangeBand}function i(t){if(c.categoryTree)return t.reduce(n,0);var a=t[0],r=t[t.length-1],i="point",o=m;if(c.groupByContinuousTime){if(o=0,it(c.tickValues[a.index+1])){var s=c.tickValues[a.index],d=c.tickValues[a.index+1],u=e(d)-e(s);h=u/2}}else i="index";return e(r[i])-e(a[i])+l(a,!0)+l(r)+o}function l(e,t){return t&&e===o||!t&&e===s?f:h}var o,s,c=this,d=it(e.bandwidth),u=c.finalDepth,h=0,f=0,g=c.leafNodes,p=Ia(e);if(d){{var m=d&&e.bandwidth();e.range()}o=g[0],s=g[g.length-1],h=a(p)&&p.length>1?(p[1]-(p[0]+m))/2:0,f=e.outerPaddingPx,f=pl(f,h)}else{o=g[0],s=g[g.length-1];var v=Ei.scale.getContinuousRangeBand(e,c.leafCategories);h=v.rangeBand/2,f=v.outerPaddingInPixel}for(c.scaleList=[],c.rangeList=[];u--;){var y,x=c.getCategoriesByDepth(u),b=[],w=[];x.forEach(t),c.rangeList.push(w)}return c.scaleList}},g.getValuesByKey=function(e,t){var a=function(e){return e[t]};return e.map(a)},g.is3D=function(e){return a(e)&&a(e[0])},g.isArrayOfSeries=function(e){return g.is3D(e.data)&&it(e.seriesname)},g.hasInnerSeries=function(e){return a(e.data)&&"object"==typeof e.data[0]&&it(e.data[0].seriesname)},g.keysObject=function(e){var t={};return e&&e.length&&e.forEach(function(e){t[e.value]=e}),t},g.getValues=function(e){return it(e)?e.map(function(e){return e.value}):null},g.getAllChildren=function(e,t){return t=dc(t,[]),e.children?(e.children.forEach(function(e){e.leaf?Array.prototype.push.apply(t,e.data):g.getAllChildren(e,t)}),t):e.data},Ei.HierarchicalDataAdapter=g,function(){"use strict";function e(e){g.call(this,e),this.dataType=_o,this.categoryTree=!0,this.update(!0)}var t={update:function(e){e||this.initialize(),this.process(),this.setDepth()},process:function(){var e=this;e.originalSeries.forEach(this.searchHierarchy,this)},getSeries:function(e){return it(e)?this.series[e]:this.series},searchHierarchy:function(e,t){function a(e,t,r){var n=g.keysObject(r);e.forEach(function(e){var l=g.hasInnerSeries(e),o=g.isArrayOfSeries(e),d=null;if(n[e.seriesname]?d=n[e.seriesname]:(d={value:o||l?dc(e.seriesname,""):"",depth:t,children:[]},c||r.push(d)),l)n[e.seriesname]||(n[e.seriesname]=d),a(e.data,t+1,n[e.seriesname].children),0===d.children.length&&St(r,d);else{g.is3D(e.data)||(e.data=[e.data]);var h=g.keysObject(d.children);e.data.forEach(function(e){var a={value:e[s],depth:t+1,leaf:!0,data:[e]};c?e.seriesDisabled=!0:delete e.seriesDisabled,u(e[s])&&(h[e[s]]?h[e[s]].leaf?h[e[s]].data.push(e):h[e[s]].children&&!c&&h[e[s]].children.push(a):(c||d.children.push(a),h[e[s]]=a),i.data.push(e))}),0===d.children.length&&St(r,d)}})}var r=this,n=r.chart,i=r.series[t],l=dc(n.dataset.getColumn("x"),{}),o=l.datatype,s=dc(l.dataindex,0),c=e.disabled,d=it(l[o])&&it(l[o].nullformatting),u=function(e){return d||it(e)};r.series[t]||(i=r.series[t]=sc(e),i.data=[]),a(e.data,0,r.categories)}};At(e,g),Ot(e.prototype,t),Ei.HierarchicalOrdinalDataAdapter=e}(),function(){function e(t,r,n,i,l){g.call(this,t),this.dataType=Wo,this.chart=t,this.columnInfo=l,i?this.groupByDiscreteTime=!0:this.groupByContinuousTime=!0,a(n)?this.groupOrder=n.slice(0).reverse():"AUTO"===n&&(this.groupOrder=e.getAutoGroupOrder(l.time.subfunction)),this.groupByTime=!0,this.update(r)}function t(e){return c[e.getMonth()]}function r(e){return d[e.getDay()]}function n(e){var t=new Date(e.getFullYear(),0,1);return fl(((e-t)/864e5+t.getDay()+1)/7)}function i(e,t){var a=null;return e.reduce(function(e,r){return a=t.call(null,r),e[a]=e[a]||[],e[a].push(r),e},{})}function l(e,t){return e.map(function(e){return Mr(e,null,t)})}function o(e){var a=function(e){return{YEAR:e.getFullYear(),QUARTER:Gr(e),MONTH:t(e),WEEK:n(e),DAY:r(e),timestamps:e.getTime(),data:e}};return e.map(a)}function s(e,t,a,r){var n=[];for(var i in e)if(e.hasOwnProperty(i)){var l={depth:a};n.push(l),t?(l.leaf=!0,l.value=r?e[i].data.getTime():e[i].data,l.point=e[i].data.getTime()):(l.value=i,l.point=e[i][0].data,l.children=e[i])}return n}var c=["January","February","March","April","May","June","July","August","September","October","November","December"],d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["YEAR","QUARTER","MONTH","WEEK","DAY"],h={YEAR:"YEAR",ABSQUARTER:"QUARTER",QUARTER:"QUARTER",MONTH:"MONTH",ABSMONTH:"MONTH",WEEK:"WEEK",ABSWEEK:"WEEK",ABSDAY:"DAY"},f={update:function(e){var t=this;t.groupByDiscreteTime&&(e=dc(t.chart.dataObject.findXCategories(),e)),t.dataCount=0,t.tickValues=l(e,t.columnInfo),t.process(),t.setDepth()},process:function(){function e(t,a,r){var n,o=a.shift();return t.forEach(function(t){o?(n=i(t.children,function(e){return e[o]}),t.children=s(n,!1,r,l),e(t.children,a.slice(0),r+1)):t.children=s(t.children,!0,r,l)}),t}var t=this,a=t.tickValues,r=0,n=dc(t.groupOrder,u),l=t.groupByDiscreteTime,c=o(a,r),d=n.slice(0),h=d.shift(),f=i(c,function(e){return e[h]}),g=0,p=s(f,!1,g,l);t.categories=e(p,d.slice(0),g+1)},getPossibleGroupBy:function(e,t){var a=e[0],r=e[e.length-1],n=a.getFullYear()===r.getFullYear(),i=t[0],l=e[e.length-1]-e[0],o=Xr(l);for(var s in o)if(o.hasOwnProperty(s)&&(o[s]>1||"YEAR"===s&&!n)){i=s;break}return i}};e.getAutoGroupOrder=function(e){var t=u.indexOf(h[e]);return u.slice(0,t)},At(e,g),Ot(e.prototype,f),Ei.HierarchicalTimeDataAdapter=e}(),Ei.dataset.get=function(e,t){function r(e,t,a,r,n,i,l){r=+r;var o=s.y,c=-1,d=gr(e.chartTypes[t].value),u=e.dataObject.isstacked(e.chartTypes[t].value);if(u&&!e.dataObject.isStackedPercentChart&&!e.dataObject.isPercentChart&&/(datalabels|tooltip)/.test(l))return p(e,t,n,i);if(null!=o&&(o[0]instanceof Array?o.forEach(function(e,t){c=-1==c&&e.indexOf(r)>-1?t:c}):c=o.indexOf(r)>-1?0:-1,-1!=c||d)){var h;if(d){var f=Xc.getKey(n,t,e),g=e.subrenderer[a||0][f];h=g.total}else if(e.isAxisCategory||e.dataObject.isPolarAxisCategory){var v=e.axes.y.groups[c].scale;if(i!==nd&&v){var y=v.domain();h=y[1]}else{var y=Qc(e,c);y=e.dataObject.isStackedPercentChart||u||e.dataObject.isPercentChart?y[c]:y,h=m.getY(n,c)<0?-y[0]:y[1]}}else if(e.isNonAxisMultiSeriesCategory){var x=e.renderer[0];if(i===ad)return x.total;if(x.extentY)return x.extentY[1];var b=x.getProcessedNode,w=b?b(n):n;h=w.parent.value}else if("legend"===l){var C=e.seriesdata[0],k=m.yidx(Ei.DataProcessor.helpers.getParsedYAxisOrder(C.yaxiscolumnorder));h=C.data[0].reduce(function(e,t){var a=t.disabled?0:ml(t[k]||0);return e+a},0)}else h=e.renderer[0].total;return h||0===h?h:null}return null}function n(e){var t,a=[];for(var r in s)if(s.hasOwnProperty(r)){var n="y"==r?to(s[r]):s[r];if(-1!=n.indexOf(e))return"y"==r&&s[r].map(function(t,r){var n=t.indexOf(e);-1!=n&&(a.push(r),a.push(n))}),t=r,{type:t,order:a}}}function i(){var e={},t=Object.keys(s).sort(function(e,t){return t.length>e.length?-1:t.length<e.length?1:0});return t.forEach(function(t){e[t]=s[t]}),e}var l=e.metadata,o=l.columns,s=l.axes,c=e.seriesdata.chartdata,d=Ei.DataProcessor.helpers,u=d.getParsedYAxisOrder;s=i();var h,f=o[s.clr]||{},g=o.map(function(e,t){return n(t)}),m={xidx:o[s.x].dataindex,yidx:function(e){var t=e instanceof Array?s.y[e[0]][e[1]||0]:s.y[e][0];return o[t].dataindex},zidx:(o[s.z]||{}).dataindex,labelidx:null!=s.label?null!=o[s.label]?o[s.label].dataindex:s.label:null,tooltipidx:function(e){return null!=s.tooltip?o[e].dataindex:null},clridx:f.levelindex?null:f.dataindex};return m.setDataObj=function(e){h=e},m.getX=function(e){return it(h)&&(h.hierarchical&&!h.hierarchical.groupByTime||h.isWaterfallEnabled)?e.index:this.getActualX(e)},m.getY=function(e,t,a){try{var r=this.yidx(t),n=null==a?e[r]:e[r][a];return n}catch(i){}},m.getZ=function(e){return e[this.zidx]},m.getClr=function(e){return e[this.clridx]},m.getDataLabelValue=function(e){return e[this.labelidx]},m.getGroupByValues=function(e,t){return null==t||0==t.length?null:t.reduce(function(t,a){return it(e[a])?t+e[a]:t},"")},m.getActualX=function(e){return e[this.xidx]},m.getDataType=function(e,t,a){if(a=a||m.seriesTypes,"x"===e&&t>0)return"ordinalNonLinear";var r=null;if(null!=l.axes[e]){var n=this.getColumnIdx(e,t),i=o[n];r=i.datatype;var s="x"==e&&(h?h.isPolarAxisCategory||h.noofBarEnabledSeries:-1!=a.indexOf(Ei.charttype.bar)||-1!=a.indexOf(Ei.charttype.stkdbar)||-1!=a.indexOf(Ei.charttype.bullet)||-1!=a.indexOf(Ei.charttype.gantt)||-1!=a.indexOf(Ei.charttype.web)),c=-1!=a.indexOf(Ei.charttype.heatmap)&&("x"===e||"y"===e);r=s||i.useDiscrete||c?_o:r}return r},m.getColumnIdx=function(e,t){var a,r=l.axes[e];return"y"==e?a=t instanceof Array&&2==t.length?r[t[0]][t[1]]:r[t][0]:"tooltip"==e?a=r[t]:"x"==e&&t>0?(l.columns.filter(function(e,r){e.levelindex==t&&(a=r)}),a=a||r[0]):a=null==r?null:r[0],a},m.getColumn=function(e,t){var a=this.getColumnIdx(e,t);return o[a]},m.getColumnName=function(e,t){return(0!=t?G:Z)(o[e].columnname)},m.getCustomizedVal=function(e,t,a,r,n,i,l,s,c,d){return J(c)&&(c=!/(tooltip|legend)/.test(l)),t.toString().replace(rl,function(){var t=arguments[0],u=arguments[1],h=arguments[2],f=arguments[3],g=arguments[4],p=arguments[5],v=u||h||f||g||p;if(-1!=t.indexOf("{{clr}}"))return s;if(null==o[v])return t;var y=l===cd?i:m.getDataPoint(e,v,a,r,n,i);if(null==y)return"";var x=t.match(/[a-z]+/gi)[0];switch(x){case"col":return m.getColumnName(h,c);case"val":return m.getDataPointValue(e,y,u,a,!1,l,r,c,d);case ad:case rd:case nd:return m.getDataPointValue(e,y,f||g||p,a,x,l,r,c,d)}})},m.getYaxisColumnIndexBySeriesIndex=function(e,t){var r=c[t].yaxiscolumnorder||[0,0];return a(r)?s.y[r[0]][r[1]||0]:s.y[r][0]},m.getDataPoint=function(e,t,r,n,i,l){t=+t;var d=null,u=o[t]||{},h=g[t]&&g[t].type,f=r,p=!0;if("y"===h&&this.getYaxisColumnIndexBySeriesIndex(e,r)!==t)return d;if(e.dataObject.isHierarchy){var m=e.renderer[0].getProcessedNode,v=m?m(l):l;p=s.clr&&s.clr[0]===t&&1===v.depth||-1!==e.systemConf.metadata.axes.y[0].indexOf(t)||v.children&&(u.levelindex===v.depth-1||a(u.levelindex)&&-1!==u.levelindex.indexOf(v.depth-1))||!v.children&&(null==u.levelindex||null!=u.dataindex)}if(null!=f&&p){var y=e.renderer[e.isAxisCategory||e.dataObject.isPolarAxisCategory?f:0],x=null!=y&&null!=y.seriesdataAfterUpdate?y.seriesdataAfterUpdate[n]:c[f].data[n];d=l||x[i]}return d},m.getDataPointValue=function(e,t,r,n,i,l,d,h,f){null!=r&&(r=+r),J(h)&&(h=!/(tooltip|legend)/.test(l));var g,p=o[r]||{},v=p.datatype,y=p.levelindex,x=p.dataindex,b=p[v];if(null!=t){if(e.dataObject.isHierarchy){var w=e.renderer[0],C=w&&w.getProcessedNode;g=C?C(t):t}if(null==s.clr&&"legend"!==l||r!=s.clr||e.dataObject.isHierarchy&&"legend"!==l&&null!=p.dataindex){if(e.dataObject.isHierarchy&&(y===g.depth-1||a(y)&&-1!==y.indexOf(g.depth-1))){var k=g.children||null==p.dataindex?t.seriesname:t[x];return zr(b,k,v,e,l,h)}if(null!=y&&e.dataObject.hierarchical){var O=e.dataObject.hierarchical.getParentByIndex(t.index,y-1);return O&&O.value?zr(b,O.value,v,e,l,h):""}var A,S=this.getColumnIdx("y",u(e.seriesdata[n].yaxiscolumnorder)),P=r==S?" - ":void 0,T=i?Ir:zr;if(f){for(var E=0,L=0;f>L;L++)E+=m.getDataPointUnformattedValue(v,n,L,r,t,l,i,x);A=E}else A=m.getDataPointUnformattedValue(v,n,d,r,t,l,i,x);return""==A&&i?A:T(b,A,v,e,l,h,P)}if(it(this.clridx)&&hc.isQuantileColorScale(e)){if("legend"===l){var P="-";return zr(b,t,v,e,l,h,P)}return zr(b,this.getClr(t),v,e,l,h)}return zr(b,c[n].seriesname,v,e,l,h)}return null},m.getDataPointUnformattedValue=function(e,a,n,i,l,o,s,c){var d;if(t.dataObject.isHierarchy)var h=t.renderer[0],f=h&&h.getProcessedNode,g=f?f(l):l;if(s){var p=e==Xo?r(t,a,n,i,l,s,o):null;return null!=p?(d=(o==cd?l:t.dataObject.isHierarchy&&g.children&&it(g.value)?g.value:t.dataObject.isStackedPercentChart||t.dataObject.isPercentChart?l.y:l[c])/p*100,d=d||0):""}var m=this.getColumnIdx("y",u(t.seriesdata[a].yaxiscolumnorder));return d=t.dataObject.isHierarchy&&g.children&&i==m&&it(g.value)?g.value:o==cd?l:l[c]},m.getMetaInfoObj=function(e,t,a){function r(e,t){var a=sc(i[e]||{});return a.value=t,a.columnindex=e,a}var n=e.systemConf.metadata.axes,i=e.systemConf.metadata.columns,l=e.systemConf.seriesdata.chartdata,a=e.isAxisCategory||e.isNonAxisMultiSeriesCategory?a:0,o=[],s=l[a].yaxiscolumnorder||[0,0],c=s instanceof Array?n.y[s[0]][s[1]||0]:n.y[s][0];if(t instanceof Array&&t.forEach(function(e,t){var a=i.indexOf(i.filter(function(e,a){return e.dataindex==t&&(m.yidx(s)!=t||m.yidx(s)==t&&c==a)})[0]);o.push(r(a,e))}),null!=n.clr){var d=n.clr instanceof Array?n.clr[0]:n.clr;o.push(r(d,l[a].seriesname))}return o},m.processMetaData=function(){function e(e,a){var r;if(a!==t){if(!it(e.datatype)){var n=m.getDataByColumnIndex(e.dataindex);r=m.findDataType(n),e.datatype=r}it(r)&&!it(e[r])&&(e[r]={})}}var t=cc(l,"axes.clr");it(t)&&(t=t[0]),o.forEach(e)},m.getDataByColumnIndex=function(e){var a=null,r=!1;return t.seriesdata.some(function(t){return t.data.some(function(t){return t.some(function(t){return it(t)?(r=it(t[e]),r&&(a=t[e]),r):void 0})})}),a},m.findDataType=function(e){return"number"==typeof e?e>31536e6?Wo:Xo:_o},m.processMetaData(),m},function(){function e(e,t,a){this.data=e,this.dataset=t,this.chartObj=a,this.values=[],this.minmaxY=[],this.groupedDataBySplitAxes=[],this.groupedDataByCombo=ao(),this.stackeddata=[],this.stackedChart=null,this.allChartTypes=null,this.hasNegativeValue=[],this.baseline=[],this.xRange=null,this.yRange=[],this.domainCorrections={plotHeight:null,byDatalabels:{},forBubbles:{}},this.rangeCorrections={datalabels:{}},this.xaxisData=e.chart.axes.xaxis,this.yaxesData=e.chart.axes.yaxis,this.qualitativeRanges=null,this.groupedByStack=ao(),this.ganttSeries_count=0,this.categoriesStore=null,this.plotBorder=null,this.globalChartType=null,this.hierarchical=a.preProcessor.hierarchical,this.processedseriesData=a.seriesdata,this.initialize()}var t=e.prototype;t.getSeriesData=function(){var e=this,t=this.chartObj;if(it(e.hierarchical)&&e.hierarchical.categories){var a=e.hierarchical.getSeries();return t.seriesdata=a,a}return t.seriesdata},t.getMinMaxZ=function(){return io(to(this.categoriesStore.z))},t.isBarEnabled=function(t){var a=e.helpers,r=a.getChartType(t.type||this.globalChartType,Xo);return!t.disabled&&lr(r)},t.getAxisRotated=function(){var e=this.data.chart.axes;return e&&e.rotated===!0},t.containsNegativeData=function(e){return this.hasNegativeValue[e]},t.updateSeriesdatabyCategories=function(t,a,r,n,i){var l=this.dataset,o=e.helpers,s=o.isCatNull(l,"x"),c=o.isCatNull(l,"y",n),d=d3.set();return t=t.filter(function(e){var t=!0,o=l.getX(e);if(a&&(t=t&&!s(o)&&a.indexOf(o)>-1),r){var u=l.getY(e,n);t=t&&!c(u)&&r.indexOf(u)>-1}return a&&i&&t&&!e.disabled&&(d.has(o)?t=!1:d.add(o)),t})},t.getPlotBorder=function(){var e=this,t=e.data,a=e.plotBorder,r=t.chart.plot.border,n=0;return r.show===!0&&(a={},a.top=a.right=a.bottom=a.left=n),a},t.overBubbles=function(e,t,a){var r=this,n=r.domainCorrections,i=r.xaxisData,l=r.yaxesData,o=r.chartObj,s=t+(it(a)?a:""),c=o.plotarea.height,d=r.chartObj;if(it(n.forBubbles[s])&&n.plotHeight===c)return n.forBubbles[s];n.plotHeight=c;var u="x"===t,h=d.axes[t].orient,f=0,g=d.plotarea["left"===h?"height":"width"],p=[f,g],m=u?i:l[a],v=Ul().domain(e).range(p),y=r.updateMinMaxForBubble(p,v,t,a);return f=it(m.minRange)?f:v.invert(y[0]),g=it(m.maxRange)?g:v.invert(y[1]),n.forBubbles[s]=[e[0]-f,g-e[1]],n.forBubbles[s]},t.setGroupDataComboKey=function(e,t,a){var r=this,n=r.data,i=r.groupedByStack,l=r.groupedDataByCombo,o=0;
if(e&&lr(t)){if(n.seriesdata.stackGroup&&(o=Ja(a.si,n.seriesdata.stackGroup)),i.has(o)){var s=i.get(o);i.set(o,s.concat([a]))}else i.set(o,[a]);i.get(o).stackLabelIndex=a.si}var c=it(o)?t+"_"+o:t;if(l.has(c)){var d=l.get(c);l.set(c,d.concat([a]))}else l.set(c,[a])},t.setExtremes=function(e,t,r,n,i,l){var o=this,s=o.dataset,c=o.categoriesStore.z;if(((r===Xo||r===Wo)&&!t||i)&&!e.disabled&&a(e)){var d=to(e);if(i){var u=io(d,function(e){return s.getZ(e)});c.push(u)}if(r===Xo||r===Wo){var h;if(n==Ei.charttype.arearange||n==Ei.charttype.gantt){var f=to(d.map(function(e){return s.getY(e,l)}));h=io(f)}else h=io(d,function(e){return s.getY(e,l)});o.seriesExtermes[l].push(h)}}},t.initialize=function(t){var r,n=this,i=n.domainCorrections,l=(n.xaxisData,n.yaxesData),o=n.allChartTypes,s=n.data,c=n.chartObj,d=n.globalChartType=s.seriesdata&&s.seriesdata.type,u=s.metadata.axes.y.length,h=s.metadata,f=h.axes,g=s.chart.plot.plotoptions,p=n.isstacked(),m=n.groupedDataBySplitAxes=[],v=n.groupedByStack=ao(),y=n.dataset,x=n.categoriesStore={},b=n.processedseriesData,w=e.helpers;n.hierarchical&&!n.hierarchical.groupByTime&&it(t)&&n.hierarchical.update(),n.xRange=null,n.actual_yRange=n.actual_yRange||[],n.yRange=[],n.qualitativeRanges=null,n.groupedDataByCombo=ao(),i.plotHeight=null,i.forBubbles={},y.seriesTypes=[],n.isBubbleEnabled=!1,n.noofBarEnabledSeries=0,n.noofAreaEnabledSeries=0,n.noofGanttEnabledSeries=0,n.totalnoofdatas=0,n.lastCategoryValue=0,n.isCombinationalChart=ro(),n.isAxisCategory=!1,n.isNonAxisMultiSeriesCategory=!1,n.isContinousChart=!0,n.isPolarAxisCategory=!1,n.hasLevelMarker=!1,n.isStackedPercentChart=!1,n.isPercentChart=!1,x.x=[],x.z=[[0]],x.subseries=[],y.hasNullFormatter={},r=this.plotBorder={},r.left=r.top=r.right=r.bottom=0,n.seriesExtermes=[];for(var C=c.axes.y.groups,k=0;u>k;k++)x["y"+k]=[],n.seriesExtermes[k]=[],it(l[k])?null:l[k]={},C[k]=C[k]||{},C[k].disabled=!0;if(a(b)){var O=f.x?y.getColumn("x"):null,A=O?O.datatype:null,S=it(f.z),P=w.groupByDataIndices(h);o=n.allChartTypes=o||w.getAllChartTypes(s);var T=function(e){return-1!==o.indexOf(e)};n.isDiscrete=Ei.chartcategory.discrete.some(T),n.isHierarchy=Ei.chartcategory.hierarchy.some(T),n.hasZaxis=it(y.zidx)&&Ei.chartcategory.zaxis.some(T);var E=s.metadata.axes.x,L=s.metadata.columns[E].datatype;n.needXCategoriesSorting=!1;var z;b.forEach(function(e,r){var i=e.disabled,l=e.data,s=w.is3D(l),c=w.getChartType(e.type||d,Xo),u=(w.getChartType(e.type||d,"string"),w.getParsedYAxisOrder(e.yaxiscolumnorder)),h=(x["y"+u],y.getDataType("y",u));if(y.seriesTypes.push(c),n.isCombinationalChart.add(c),n.isBubbleEnabled=n.isBubbleEnabled||!i&&sr(c),n.isWaterfallEnabled=n.isWaterfallEnabled||!i&&cr(c),n.pieWithAxis=n.pieWithAxis||!i&&c==Ei.charttype.bubblepie,n.noofBarEnabledSeries+=lr(c)&&!i?1:0,n.noofAreaEnabledSeries+=c!=Ei.charttype.area&&c!=Ei.charttype.stkdarea||i?0:1,n.noofGanttEnabledSeries=n.ganttSeries_count+=c!==Ei.charttype.gantt||i?0:1,n.isContinousChart=n.isContinousChart&&(c==Ei.charttype.line||ir(c)||dr(c)),n.hasLevelMarker=n.hasLevelMarker||c==Ei.charttype.bullet||c==Ei.charttype.dial,n.isAxisCategory=n.isAxisCategory||Ei.chartcategory.axis.indexOf(c)>=0,n.isNonAxisMultiSeriesCategory=n.isNonAxisMultiSeriesCategory||Ei.chartcategory.nonaxismultiseries.indexOf(c)>=0,n.isPolarAxisCategory=n.isPolarAxisCategory||c==Ei.charttype.web,"addorremoveseries"!==t&&!s&&a(l)&&(l=n.convertTo3DArray(e,P,c)),!i&&a(l)){x["y"+u].enabled=!0,C[u].disabled=!1,z=c===Ei.charttype.waterfall&&null==z;var f={si:r,d:l};m[u]=m[u]?m[u].concat([f]):[f],n.setGroupDataComboKey(p,c,f);var g=y.getDataType("x",null,o),v=(y.getDataType("y",u,o),y.getColumn("y",u));it(y.hasNullFormatter.x)||(y.hasNullFormatter.x=!(g===_o?!$(O[A],"nullformatting"):!0)),it(y.hasNullFormatter["y"+u])||(y.hasNullFormatter["y"+u]=!(h===_o?!$(v[v.datatype],"nullformatting"):!0)),n.storeCategories(l,p,P,c,g,h,u,z),n.setExtremes(l,p,h,c,S,u),n.totalDataCount(l)}});var D=cc(c.userdata,"chart.axes.xaxis.categories");if(n.isAxisCategory&&L!==_o&&n.needXCategoriesSorting&&(!it(D)||it(D)&&0===D.length)&&x.x.sort(oo),n.xymultiRenderer=n.isAxisCategory,n.isCombinationalChart=n.isCombinationalChart.values().length>1,n.groupedByStack=v,n.isPercentChart=n.noofBarEnabledSeries&&!n.hasLevelMarker&&!n.noofGanttEnabledSeries&&$(g,"bar","showAs")&&g.bar.showAs,p){var R=y.seriesTypes;n.isStackedPercentChart=n.noofBarEnabledSeries&&!n.hasLevelMarker&&!n.isWaterfallEnabled&&g.bar.stacked.showAs===id||n.noofAreaEnabledSeries&&g.area.stacked.showAs===id||R.indexOf(Ei.charttype.web)>-1&&g.web.stacked.showAs===id||R.indexOf(Ei.charttype.line)>-1&&g.line.stacked.showAs===id}n.pieWithAxis&&(n.bubblepieData=n.processBubblePieData())}},t.getThresholdValues=function(e){var t=[];return it(e.threshold)&&kt(e.threshold,function(e){e.show===!0&&e.values.length&&(t=t.concat(e.values))}),t},t.getDomain=function(e,t){return this.hierarchical&&(!this.hierarchical.groupByDiscreteTime||!t)||this.isWaterfallEnabled?d3.range(e.length):e},t.updateMinMaxForBubble=function(t,a,r,n){var i=this,l=i.processedseriesData,o=i.groupedDataBySplitAxes,s=i.dataset,c=i.chartObj,d=e.helpers,u=t[0],h=t[1],f="x"==r,g=(f?l:o[n])||[];return g.forEach(function(e){var t=f?e.data:e.d,r=(f?e:l[e.si]).disabled,i=d.getParsedYAxisOrder((f?e:l[e.si]).yaxiscolumnorder);if(!r){var o=d.isCatNull(s,"x"),g=d.isCatNull(s,"y",i);t.forEach(function(e){e.forEach(function(e){var t=f?s.getX(e):s.getY(e,n),r=s.getZ(e)||c.zscale.domain()[0];if(e&&!e.isDummy&&!o(s.getX(e))&&!g(s.getY(e,i))){var l=c.zscale(r),d=a(t)+(null!=a.bandwidth?a.bandwidth()/2:0),p=d+l/2,m=d-l/2;p>h&&(h=p),u>m&&(u=m)}})})}}),[u,h]},e.helpers={isCatNull:function(e,t,a){var r=e.hasNullFormatter&&!e.hasNullFormatter[t+(it(a)?a:"")];return function(e){return!it(e)&&r}},is3D:function(e){return a(e)&&a(e[0])&&a(e[0][0])},getParsedYAxisOrder:function(e){return a(e)?e[0]:e||0},getChartType:function(e,t,a,r){if(null!=e||null!=a){var n,i,l=r&&r.seriesdata.chartdata;return it(a)&&(e=dc((l[a]||l[0]).type,r.seriesdata.type)),isNaN(+e)?(n=e.toLowerCase(),i=Ei.charttype[n]):(i=+e,n=Ei.charttypenames.get(i)),"string"===t?n:t===Xo?i:{name:n,value:i}}},getAllChartTypes:function(e,t){var a=this,r=e.seriesdata&&e.seriesdata.type;return dc(cc(e,"seriesdata.chartdata"),[]).map(function(e){var n=a.getChartType(dc(e.type,r),dc(t,Xo));return t||"object"!==t?n:{}})},filterDataToViewPort:function(e,t,a,r){return e.filter(function(e){var n=r(e);return n>=t&&a>=n?e:void 0})},priorityBasedValue:function(e,t){var a=null,r=e.length,n=0;for(t=dc(t,0);r>n&&!it(a);)a=null!=e[n]?e[n]:null,n++;return dc(a,t)},groupByDataIndices:function(e){var t=e.columns,a=e.axes.groupby||[];return a.map(function(e){return t[e].dataindex})}},Ei.DataProcessor=e}(window,Ei),function(e){"use strict";function t(e){this.chart=e,this.data=e.systemConf,this.initialize()}t.prototype.initialize=function(){var e=this,t=e.chart,a=e.data,r=a.metadata.axes.x,n=a.metadata.columns[r].datatype,i=Ei.DataProcessor.helpers,l=Ei.chartcategory.discrete.some(function(e){return-1!==t.chartTypes.indexOf(e)}),o=i.getChartType(null,null,0,t.systemConf),s=o.value,c=o.name,d=lr(s)||ir(s)||or(s)||dr(s)||"line"===c;this.isHierarchyLayout()&&d&&(e.hierarchical=new Ei.HierarchicalOrdinalDataAdapter(this.chart),e.chart.seriesdata=this.hierarchical.getSeries()),e.processTimeData(),Ei.requireXDataSorting&&(n===Xo||n===Wo&&!l)&&e.sortData(r,n)},t.prototype.isHierarchyLayout=function(){function e(e){return g.hasInnerSeries(e)}var t=this,a=t.chart,r=a.systemConf.seriesdata.chartdata;return r.some(e)},t.prototype.processTimeData=function(){var e,r,n,i,l=this,o=l.chart,s=o.seriesdata;e=t.helpers.time.getDataInfo(l.data),r=e.indices,n=e.formatConf,i=n.some(function(e){return it(e)&&it(e.inputformat)}),r&&r.length&&i&&s.forEach(function(r){var n=r.data,i=Ei.DataProcessor.helpers.is3D(n);a(n)&&n.forEach(function(r){i&&a(r)&&r.forEach(function(a){t.helpers.time.applyFormats(a,e)}),i||t.helpers.time.applyFormats(r,e)})})},t.prototype.sortData=function(e){var r=this,n=r.chart,i=r.data,l=n.seriesdata;return l.forEach(function(r){var n=r.data,l=i.metadata.columns[e].dataindex;Ei.DataProcessor.helpers.is3D(n)?a(n)&&n.forEach(function(e){t.helpers.linear.sort(e,l)}):t.helpers.linear.sort(n,l)}),i},t.helpers={time:{},ordinal:{},numeric:{},linear:{}},t.helpers.time={getDataInfo:function(t,a){var r,n,i,l=t.metadata.axes.x,o=to([l,to(t.metadata.axes.y)]),s=/timestamp/i,c=[],d=[];return o.map(function(o){i=dc(t.metadata.columns[o],{}),r=dc(i.time,{}),"time"!==i.datatype||o===l||a||(n=r.inputformat,d.push(s.test(n)&&"function"!==n&&"function"!=typeof e[n]?null:r),c.push(t.metadata.columns[o].dataindex))}),{indices:c,formatConf:d}},applyFormats:function(e,t){var r=t.indices,n=t.formatConf;return r.map(function(t,r){it(e[t])&&(e[t]=a(e[t])?e[t].map(function(e){return Mr(e,null,n[r],!0).getTime()}):Mr(e[t],null,n[r],!0).getTime())}),e}},t.helpers.linear={sort:function(e,t){return e.sort(function(e,a){return e=e[t],a=a[t],a>e?-1:e>a?1:e>=a?0:0/0})}},Ei.PreProcessor=t}(window),Ei.DataProcessor.prototype.getCategories=function(e,t){var a,r=this,n=r.chartObj,i=n.dataObject.hierarchical,l=r.categoriesStore;return $(n.systemConf,"chart.zoom."+e+".categories")?n.systemConf.chart.zoom[e].categories:("x"===e?(a=it(i)?i.groupByTime?t>0?i.categoriesList[t-1]:i.groupByDiscreteTime?dc(r.xaxisData.categories,l.x.sort(d3.ascending)):i.leafCategories:t>0?i.categoriesList[t-1]:i.leafCategories:r.xaxisData.categories,t=""):a=r.yaxesData[t].categories,it(a)&&0!==a.length||(a=l[e+t]),"y"!==e||l["y"+t].enabled||(a=["NoData","NoData"]),a)},Ei.DataProcessor.prototype.getMinMaxX=function(e){var t,a=this,r=a.xaxisData,n=a.processedseriesData,i=a.chartObj,l=a.dataset,o=r.minRange,s=r.maxRange,c=l.getDataType("x"),d=a.xRange;if(e=dc(e,.05),$(i.systemConf,"chart.zoom.x"))return xRange=i.systemConf.chart.zoom.x,[xRange.minRange,xRange.maxRange];if(!it(d)){t=n.map(function(e){return e.data.map(function(e){return io(e,function(e){return l.getX(e)})})});var u=dc(cc(i.userdata,"chart.axes.xaxis"),{});d=a.xRange=io(to(to(t)).concat(a.getThresholdValues(u)))}!a.isBubbleEnabled||c===Wo||it(o)||it(s)||(t=a.overBubbles(d,"x"),d=[d[0]-t[0],d[1]+t[1]]);var h,f,g=0;return c!==Wo&&0!==e&&(g=a.getCorrectionOverDataLabels(d,"x")),h=d[1]-d[0],0===h&&(h=1),f=h*e+g,[dc(o,d[0]-f,0),dc(s,d[1]+f,0)]},Ei.DataProcessor.prototype.getMinMaxY=function(e,t,a){var r,n=this,i=n.allChartTypes,l=n.yaxesData,o=n.hasNegativeValue,s=n.baseline,c=n.yRange,d=n.actual_yRange,u=n.chartObj,h=n.dataset,f=n.isstacked()||n.isPercentChart,g=dc(l[e],{}),p=h.getDataType("y",e),y=n.ganttSeries_count,x=g.minRange,b=g.maxRange,w=0,C=c[e],k=u.getAxesCount("y")>1,O=n.noofBarEnabledSeries,e=dc(e,0);if(s[e]=cc(g,"baseline.show")===!0?g.baseline.value:null,k)var A=n.groupedDataBySplitAxes[e],S=A?A.map(function(e){return i[e.si]}):[],P=function(e){return lr(e)?!0:void 0},O=S.some(P);if($(u.systemConf,"chart.zoom.y")){var T=u.systemConf.chart.zoom.y,E=T.minRange,L=T.maxRange,z=s[e];return o[e]=it(z)&&!f&&z>=E&&L>=z?z:0>E?0:null,[E,L]}if(t=dc(t,u.datalabels.hasFixedPosition?1e-8:.05),!it(c[e])){n.isWaterfallEnabled?(c[e]=an(n,e),r=c[e]):f?(c[e]=v(s[e],n),r=c[e][e]):(c[e]=m(e,n),r=c[e]);var D=dc(cc(u.userdata,"chart.axes.yaxis["+e+"]"),{});it(r)&&(r=io(r.concat(n.getThresholdValues(D))));var R;(n.hasLevelMarker||O&&!y)&&(R=n.overLevelMarker(r)),f?(d[e]=d[e]||[])[e]=c[e][e]=dc(R,r):d[e]=c[e]=dc(R,r),C=c[e]}if(!it(C)||f&&!it(C[e]))return["NoData","NoData"];var j=f?C[e]:C;o[e]=p===Wo?null:it(s[e])&&!f?s[e]:g.minRange<0||j[0]<0?0:null;var M=(n.noofBarEnabledSeries||n.noofAreaEnabledSeries)&&p==Xo,I=M&&(null!=o[e]?o[e]>0:!0);M&&j[1]-j[0]===0&&(j=io(to([j,[0]]))),!n.isBubbleEnabled||p===Wo||it(g.minRange)||it(g.maxRange)||(j[0]=I?0:j[0],r=n.overBubbles(j,"y",e),j=[j[0]-r[0],j[1]+r[1]]);var H=j[1]-j[0];0===H&&(H=1),n.isStackedPercentChart||n.isPercentChart||n.hasLevelMarker||n.isWaterfallEnabled||(w=H*t),it(x)||(x=I?0:j[0]-w),it(b)||(b=j[1]+w);var B=0;if("time"!==p&&0!==t&&!a){var F=u.datalabels.hasFixedPosition&&it(g.maxRange)&&g.maxRange<=j[1];B=F?0:this.getCorrectionOverDataLabels([x,b],"y",e)}if(I||u.datalabels.hasFixedPosition||(x=x-B||0),b=b+B||0,n.isWaterfallEnabled){var V=nn([x,b],"y",e,u,B);x=V[0],b=V[1]}return[x,b]},Ei.DataProcessor.prototype.isstacked=function(e){var t=this.data,a=t.chart.plot.plotoptions,r=this.stackedChart,n=Ei.DataProcessor.helpers;if(it(e)){var i=n.getChartType(e,Xo);return e=n.getChartType(e,"string"),a=a[e],i===Ei.charttype.stkdarea||i===Ei.charttype.stkdbar||i===Ei.charttype.bullet||"bullet"===e||("bar"===e||"area"===e||"web"===e||"line"===e||"waterfall"===e)&&cc(a,"stacked.enabled")===!0}if(!it(r)){var l=this.allChartTypes||n.getAllChartTypes(t),o=l[0];this.stackedChart=r=-1!==l.indexOf(Ei.charttype.stkdarea)||-1!==l.indexOf(Ei.charttype.stkdbar)||-1!==l.indexOf(Ei.charttype.bullet)||-1!==l.indexOf(Ei.charttype.bar)&&cc(a,"bar.stacked.enabled")===!0||-1!==l.indexOf(Ei.charttype.area)&&cc(a,"area.stacked.enabled")===!0||o===Ei.charttype.web&&cc(a,"web.stacked.enabled")===!0||o===Ei.charttype.line&&cc(a,"line.stacked.enabled")===!0||o===Ei.charttype.waterfall&&cc(a,"waterfall.stacked.enabled")===!0}return r},Ei.DataProcessor.prototype.getXYvalue=function(e,t,a,r,n,i,l,o,s){var c=this,d=this.yaxesData,u=this.dataset;if(c.isPolarAxisCategory){var h=d[n].reversed&&!t?r.domain().length-1:0,f=a(u.getX(i)),g=t?r(i.y+i.y0):r(u.getY(i,n))+(null!=r.bandwidth?r.bandwidth()/2:0);g=gl(g,r.range()[h]);var p=Jt(g,f);return"x"===l?p[0]:p[1]}switch(l){case"x":return e?t?r(i.y+i.y0):r(u.getY(i,n,s))+(null!=r.bandwidth?r.bandwidth()/2:0):a(u.getX(i))+(null!=a.bandwidth?a.bandwidth()/2:0);case"y":return e?a(u.getX(i))+(null!=a.bandwidth?a.bandwidth()/2:0):t?r(i.y+i.y0):r(u.getY(i,n,s))+(null!=r.bandwidth?r.bandwidth()/2:0);case"z":return o(u.getZ(i)||o.domain()[0])}},Ei.DataProcessor.prototype.getTransRectValue=function(e,a,r,n,i,l,o){var s=this.dataset,c=Ei.DataProcessor.helpers,d=c.priorityBasedValue,u=i&&i.yscale,h=i&&i.addRangeBand(u),f=i&&"waterfall"==i.charttype,g=i&&i.stacked||f,p=i&&s.getY(a,i.yaxiscolumnorder)instanceof Array,m=i&&(u.bandwidth?u.ordinalRange[0]+h:u.range()[0]),v=i&&u.range()[1];switch(this.dataset.yAccessor=this.isPercentChart?function(e){return e.y}:this.dataset.getY,e){case"x":if(i.axisrotated){o=p?0:null;var y=this.dataset.yAccessor(a,i.yaxiscolumnorder,o);return u.bandwidth?u.origRange[0]:u(g?pl(a.y0,a.y+a.y0):null!=o?y:null!=i.hasNegValue?y<i.hasNegValue?y:i.hasNegValue:u.domain()[0])}var x=s.getX(a);return(i.stacked?i.bandwidth1(x)+i.bandwidth2(i.stackGroupIndex):i.bandwidth1(x)+i.bandwidth2(i.barDatasetIndex+r))+i.padding;case"y":if(i.axisrotated){var x=s.getX(a);return(i.stacked?i.bandwidth1(x)+i.bandwidth2(i.stackGroupIndex):i.bandwidth1(x)+i.bandwidth2(i.barDatasetIndex+r))+i.padding}o=null!=o?o:p?1:null;var y=this.dataset.yAccessor(a,i.yaxiscolumnorder,o);return g?u(gl(a.y0,a.y+a.y0))+h:u(null==u.bandwidth?gl(i.hasNegValue||0,y):y)+h;case"width":if(i.axisrotated){var b=null==i.hasNegValue?p?u(this.dataset.yAccessor(a,i.yaxiscolumnorder,0)):m:u(i.hasNegValue);o=p?1:null;var y=u(this.dataset.yAccessor(a,i.yaxiscolumnorder,o));return u.bandwidth?y+h:g?ml(u(a.y+a.y0)-u(a.y0))+h:(ml(v-b-(v-y))||0)+h}return i.barWidth;case"height":if(i.axisrotated)return i.barWidth;var b=null!=i.hasNegValue?u(i.hasNegValue):p&&!g?u(this.dataset.yAccessor(a,i.yaxiscolumnorder,0)):m;o=p?1:null;var y=u(this.dataset.yAccessor(a,i.yaxiscolumnorder,o))+h;return u.bandwidth?ml(u.origRange[0]-y):g?ml(b-u(a.y+a.y0)-(b-u(a.y0)))+h:ml(b-y);case"radius":var w={},C=null!=l?l.toString().split("/"):null,k=null!=C&&null!=C[0]?C[0].split(" "):[],O=null!=C&&null!=C[1]?C[1].split(" "):k;return w.tlx=t(d([k[0]])),w.tly=t(d([O[0],k[0]])),w.trx=t(d([k[1],k[0]])),w.trY=t(d([O[1],O[0],k[1],k[0]])),w.brx=t(d([k[2],k[0]])),w.bry=t(d([O[2],O[0],k[2],k[0]])),w.blx=t(d([k[3],k[1],k[0]])),w.bly=t(d([O[3],O[1],k[3],k[0]])),w}},Ei.DataProcessor.prototype.getCorrectionOverDataLabels=function(e,t,a){var r=this,n=r.chartObj,i=r.xaxisData,l=r.yaxesData,o=r.domainCorrections,s=r.rangeCorrections.datalabels,c=r.processedseriesData,d=r.groupedDataBySplitAxes,u="x"==t,h=t+(it(a)?a:""),f=u?i:l[a],g=f.minRange,p=f.maxRange,m=n.plotarea.height;if(!(r.isStackedPercentChart||r.isPercentChart||r.isBubbleEnabled&&!r.pieWithAxis||!r.isAxisCategory&&!r.isNonAxisMultiSeriesCategory||null!=g&&null!=p||!Ei.labelRenderer||null!=o.byDatalabels[h]&&m==o.plotHeight)){o.plotHeight=m;var v=n.axes[t].orient,y=n.plotarea["left"==v?"height":"width"],x=e[1]-e[0],b=u?c:d[a],w=0;null!=b&&(J(s[h])&&(s[h]=hd(t,b,n)),w=s[h]),o.byDatalabels[h]=x/(y-w)*w}return o.byDatalabels[h]||0},Ei.DataProcessor.prototype.extendOuterpadding=function(e,t,a,r,n,i,l){var o=this.processedseriesData,s=this.groupedDataBySplitAxes,c=this.rangeCorrections.datalabels,d=this.chartObj,u=0;if(b(d)||this.isBubbleEnabled){t[0]>t[1]&&(t=[t[1],t[0]]);var h=Gl().domain(e).range(t).paddingInner(r).paddingOuter(n),f=t;if(this.isBubbleEnabled){var g=this.updateMinMaxForBubble(t,h,i,l),p=.5*gl(t[0]-g[0],g[1]-t[1]);f=[g[0]-p,g[1]+p]}else if(Ei.labelRenderer){var m="x"==i?o:s[l],v=h(h.domain()[0])-h.range()[0],y=i+(it(l)?l:"");J(c[y])&&(c[y]=hd(i,m,d));var p=c[y];p=gl(0,p-v),f=[t[0]-p,t[1]+p]}u=gl(f[1]-t[1],-f[0])}return u},Ei.DataProcessor.prototype.convertTo3DArray=function(e,t,a){var r=e.data;if(t.length>0&&(a===Ei.charttype.bar||a===Ei.charttype.stkdbar)){var n=C(e,t),i=n.distintGroupbyCat,l=n.allGroupbyCat,o=[];e.data.forEach(function(e,t){var a=i.indexOf(l[t]);o[a]?o[a].push(e):(o[a]=[],o[a].push(e))}),r=e.data=o}else it(r)&&(!r.length||it(r[0])&&r[0].length)&&(e.data=[],e.data.push(r),r=e.data);return r},Ei.DataProcessor.prototype.findXCategories=function(e){var t=this,a=t.categoriesStore,r=t.processedseriesData,n=t.dataset,i=a.x;return r.forEach(function(t){var a=t.disabled&&!e,r=t.data;a||null==r||r.constructor!=Array||r.map(function(e){return null!=e&&e.constructor==Array?e.map(function(e){var t=n.getX(e);null!=t&&-1==i.indexOf(t)?i.push(t):null}):void 0})}),i},Ei.DataProcessor.prototype.storeCategories=function(e,t,r,n,i,l,o,s){var c=this,d=c.dataset,u=c.categoriesStore,h=u.x,f=u["y"+o],g=Ei.DataProcessor.helpers,p=g.isCatNull(d,"x"),m=g.isCatNull(d,"y",o);t?e.map(function(t){return!e.disabled&&a(t)?t.map(function(e){var a=d.getActualX(e),n=r.length>0?d.getGroupByValues(e,r):null;a>c.lastCategoryValue&&!c.needXCategoriesSorting?c.lastCategoryValue=a:c.needXCategoriesSorting||-1!=h.indexOf(a)||(c.needXCategoriesSorting=!0),p(a)||-1!=h.indexOf(a)&&!s?null:h.push(a),null!=n&&(t.groupByVal=n,e.groupByVal=n,-1==u.subseries.indexOf(n)?u.subseries.push(n):null)}):void 0}):(i===_o||l===_o)&&e.map(function(t){return!e.disabled&&a(t)?t.map(function(e){var t=d.getActualX(e),a=d.getY(e,o);i!==_o||p(t)||(s||-1===h.indexOf(t)?h.push(t):null),l===_o&&(n===Ei.charttype.arearange||n===Ei.charttype.gantt?(it(a)&&-1===f.indexOf(a[0])?f.push(a[0]):null,it(a)&&-1===f.indexOf(a[1])?f.push(a[1]):null):m(a)||-1!==f.indexOf(a)?null:f.push(a))}):void 0})},Ei.DataProcessor.prototype.overLevelMarker=function(e){var t,r,n=this,i=Ei.DataProcessor.helpers,l=n.qualitativeRanges,o=n.processedseriesData,s=i.getChartType(n.processedseriesData[0].type||n.globalChartType,"string"),c=n.data.chart.plot.plotoptions[s],d=c.levelMarker,u=c.targetMarker;return it(l)||(l=n.qualitativeRanges=[],o.forEach(function(e){var n=e.plotoptions||{};d=oc(d,n.levelMarker),u=oc(u,n.targetMarker),t=d.dataindex,r=u.dataindex,(d.enabled||u.enabled)&&(t||r?e.data.forEach(function(e){e.forEach(function(e){u.enabled&&it(e[r])&&l.push(e[r]),d.enabled&&it(e[t])&&(a(e[t])?l=l.concat(e[t]):l.push(e[t]))})}):d.enabled&&it(d.values)&&(l=l.concat(d.values)))})),isNaN(l[1]-l[0])&&!this.hasLevelMarker?e:d3.extent(d3.merge([l,e,[0]]))},Ei.DataProcessor.prototype.totalDataCount=function(e){var t=this,r=0;return e.map(function(n){if(!e.disabled&&a(n)){var i=t.isAxisCategory||t.isPolarAxisCategory||t.isNonAxisMultiSeriesCategory?n.length:n.reduce(function(e,t){return e+(t.disabled?0:1)},0);r+=1!==i||null!==n[0]&&n[0].length?i:0}}),this.totalnoofdatas+=r,r},Ei.DataProcessor.prototype.processBubblePieData=function(e){function t(e,t){var a=o.seriesdata[t],r=Ei.DataProcessor.helpers.getParsedYAxisOrder(a.yaxiscolumnorder),n=a.disabled||!gr(o.chartTypes[t].value),i=s.getX(e),l=s.getY(e,r);return h.x&&(n=n||-1===h.x.indexOf(i)),h.y[r]&&(n=n||-1===h.y[r].indexOf(l)),n}function a(){d.forEach(function(e){e.forEach(function(e){l.forEach(function(t,a){e[a]||(e[a]=r(e,a))})})})}function r(e,t){var a=Ei.DataProcessor.helpers.getParsedYAxisOrder(o.seriesdata[t].yaxiscolumnorder),r=o.dataset,n=[];return n[r.xidx]=e.x,n[r.yidx(a)]=e.y,n[r.zidx]=e.z,n[c]=null,n.dummy=!0,n}function n(e,t){var a=[];return a.x=s.getX(e),a.y=s.getY(e,t),a.z=s.getZ(e),a.reference=e,a}e=e||Ei.charttype.bubblepie;var i=this,l=i.processedseriesData,o=i.chartObj,s=i.dataset,c=rt(i.data.chart.plot.plotoptions[Ei.charttypenames.get(e)].dataindex,3),d=[],u=[],h={x:Dl,y:[]},f=cc(o.userdata,"chart.axes.xaxis.categories"),g=s.getDataType("x")==_o&&f&&f.length;return g&&(h.x=f),l.forEach(function(e,a){var r=Ei.DataProcessor.helpers.getParsedYAxisOrder(e.yaxiscolumnorder),i=cc(o.userdata,"chart.axes.yaxis["+r+"].categories"),l=s.getDataType("y",r)==_o&&i&&i.length;l&&(h.y[r]=i),e.data.forEach(function(e,i){e.forEach(function(e){var l=t(e,a);if(u[i]=u[i]||[],d[i]=d[i]||[],!l){var s=Xc.getKey(e,a,o),c=u[i].indexOf(s);-1===c&&(c=u[i].length,d[i][c]=n(e,r)),d[i][c][a]=e,u[i].push(s)}e.disabled=e.dummy=l}),d[i]=d[i]||[]})}),a(),d},Ei.hierarchymodel={},Ei.hierarchymodel.get=function(e){function r(e){return e.map(function(e){var t;if(e.data&&e.data[0]&&e.data[0].constructor===Array){t=e.data;var a=e.leafColors;a&&t.forEach(function(e,t){e.color=a[t%a.length]})}else e.data?(c.hasHierarchyData=!0,t=r(e.data)):t=e;for(var n in e)e.hasOwnProperty(n)&&"data"!==n&&(t[n]=e[n]);return t})}function n(e){e.forEach(function(t,r){if(t.level=null!=e.level?e.level+"_"+r:r+"",a(t[0]))n(t);else{var o=+t.level.split("_")[0],d=i.seriesdata.chartdata[o],u=s.getParsedYAxisOrder(d.yaxiscolumnorder);if(!d.disabled){var h=io([t],function(e){return l.getY(e,u)});c.seriesExtermes[0].push(h),c.totalnoofdatas++}}})}var i=e.systemConf,l=e.dataset,o=e.seriesdata,s=Ei.DataProcessor.helpers,c={data:i};return c.getTransRectValue=function(e,a,r,n,i,l){var o=s.priorityBasedValue;switch(e){case"radius":var c={},d=null!=l?l.toString().split("/"):null,u=null!=d&&null!=d[0]?d[0].split(" "):[],h=null!=d&&null!=d[1]?d[1].split(" "):u;return c.tlx=t(o([u[0]])),c.tly=t(o([h[0],u[0]])),c.trx=t(o([u[1],u[0]])),c.trY=t(o([h[1],h[0],u[1],u[0]])),c.brx=t(o([u[2],u[0]])),c.bry=t(o([h[2],h[0],u[2],u[0]])),c.blx=t(o([u[3],u[1],u[0]])),c.bly=t(o([h[3],h[1],u[3],u[0]])),c}},c.getAxisRotated=function(){var e=c.data.chart.axes;return e&&e.rotated===!0},c.containsNegativeData=function(){return!1},c.isstacked=function(){return!1},c.getPlotBorder=function(){var t=i.chart.plot.border,a=t.show===!0?nt(t,"size",0,10,e.plotarea.width,e.plotarea.height):0;return a={left:a,top:a,right:a,bottom:a}},c.initialize=function(t){globalChartType=i.seriesdata&&i.seriesdata.type,l.seriesTypes=[],c.totalnoofdatas=0,c.isNonAxisMultiSeriesCategory=!0,c.isHierarchy=!0,c.seriesExtermes=[[]],null!=o&&a(o)&&("addorremoveseries"!=t&&(e.seriesdata=o=r(o)),n(o),o.forEach(function(e){var t=s.getChartType(e.type||globalChartType,Xo);l.seriesTypes.push(t)}))},c.initialize(),c},Ei.defaultTheme=function(e){var t={canvas:{fontFamily:qs.globalProp.fontL1Family,fontColor:qs.globalProp.fontL1Color,fontSize:e.fontL1Size.l3,fontWeight:qs.globalProp.fontL1Weight,fontStyle:qs.globalProp.fontL1Style,title:{show:!0,text:"Title comes here",hAlign:"left",vAlign:"top",marginTop:10,marginRight:0,marginBottom:0,marginLeft:10,target:"newtab",fontSize:e.fontL1Size.l1},subtitle:{show:!0,text:"Description comes here",hAlign:"left",vAlign:"top",marginTop:0,marginRight:0,marginBottom:0,marginLeft:10,target:"newtab",fontSize:e.fontL1Size.l2},background:{alpha:1,color:"#FFFFFF"},border:{show:!0,size:1,style:"solid",radius:1,color:"#cccccc"},shadow:{show:!0,x:1,y:1,color:"rgba(0,0,0,0.1)",blur:2,inset:!1},intelligence:{dimension:{title:100,subtitle:120,xaxis:70,xaxislabel:80,yaxis:70,yaxislabel:80,legend:140,credits:150,marker:50},dataCount:{marker:300,animation:300,datalabels:300}}},legend:{enabled:!0,colorPallete:{type:"multicolor",options:{multicolor:"countries",monochrome:{baseColor:"red",count:5,colorGamma:[.3,.9]}}},hAlign:"right",vAlign:"center",fontSize:e.fontL1Size.l5,textPadding:5,itemMargin:3,marginTop:10,marginRight:10,marginBottom:10,marginLeft:10,colorBox:{shape:"square",strokeWidth:2},colorBand:{},title:{show:!1,text:"Legend",fontSize:e.fontL1Size.l4},background:{color:"transparent",alpha:0},border:{show:!0,size:1,style:"solid",radius:0,color:"transparent"},itemDisabledStyle:{color:"#d1d1d1",strikeout:!1},shadow:{show:!1,color:"rgba(0,0,0,0.3)",x:2,y:2,blur:3,inset:!1},filter:{enabled:!0},highlightEffect:{selectedSeries:null,unselectedSeries:"none"},expandable:{fontSize:e.fontL1Size.l5}},chart:{marginTop:10,marginRight:10,marginBottom:10,marginLeft:10,fontSize:e.fontL2Size.l3,zoom:{type:"none"},effects:{choice:"auto",options:{dropShadow:{dx:"5",dy:"5",blur:"3",color:"rgba(0,0,0,0.6)"},freeHand:{scale:7}}},plot:{renderer:{mode:"svg",image:{source:"auto",addDimensionInSource:!1,exportUrl:""}},background:{alpha:1,color:"transparent",gradients:{show:!1,type:"radial"}},border:{show:!1,size:1,style:"solid",radius:0,color:"#ececec"},animation:{enabled:qs.globalProp.animation.enabled,easingType:qs.globalProp.animation.easingType,duration:qs.globalProp.animation.duration},datalabels:{show:qs.globalProp.datalabels.enabled,handleOverlapping:!0,fontSize:e.datalabels.fontSize.l5,boundBox:{strokeColor:qs.fontColor,fillColor:"white"}},events:{cursor:null,click:qs.globalProp.events.click,mousemove:qs.globalProp.events.mouseMove,mouseout:qs.globalProp.events.mouseOut,doubleclick:qs.globalProp.events.doubleClick,contextmenu:null,init:null,onload:null},plotoptions:{}},axes:{xaxis:{show:!0,label:{show:!0,text:"Xaxis",fontSize:e.fontL2Size.l4,marginTop:5,marginRight:5,marginBottom:5,marginLeft:5},grid:{show:!0,color:"transparent",strokeWidth:null},ticklabel:{textOverflow:"ellipsis",fontSize:e.fontL2Size.l5},tickmark:{strokeWidth:null,color:"#ececec",size:3},axisline:{show:!0,color:"#ececec",strokeWidth:null,style:"solid"},baseline:{show:!1,value:10,color:"black"},threshold:{line:{show:!1,values:[],label:{text:["Description comes here"],fontSize:e.fontL2Size.l5},marker:{enabled:!0,hoveroptions:{innerStrokeOpacity:1,outerFillColor:"transparent",outerStrokeWidth:2}}},coloroverlay:{show:!1,values:[],overlayRange:"below"},range:{show:!1,values:[],label:{text:["Description comes here"],fontSize:e.fontL2Size.l5}}}},yaxis:[{show:!0,label:{show:!0,text:"Yaxis",fontSize:e.fontL2Size.l4,marginTop:5,marginRight:5,marginBottom:5,marginLeft:5},grid:{show:!0,color:"#ececec"},ticklabel:{textOverflow:"ellipsis",fontSize:e.fontL2Size.l5},tickmark:{color:"#ececec",size:3},subtickmark:{color:"#ececec",size:5,count:0},axisline:{show:!0,color:"#ececec",strokeWidth:null,style:"solid"},baseline:{show:!1,value:0,color:"grey",strokeWidth:null},threshold:{line:{show:!1,values:[],label:{text:["Description comes here"],fontSize:e.fontL2Size.l5},marker:{enabled:!0,hoveroptions:{innerStrokeOpacity:1,outerFillColor:"transparent",outerStrokeWidth:2}}},coloroverlay:{show:!1,values:[],overlayRange:"below"},range:{show:!1,values:[],label:{text:["Description comes here"],fontSize:e.fontL2Size.l5}}}}]}},tooltip:{enabled:!0,fontSize:e.fontL1Size.l5,opacity:.8,zindex:2e3,view:"normal",crosshair:{type:"none",color:"grey"},pointerEvents:"none"},noDataHandler:{text:"No Data",fontSize:e.fontL1Size.l1},loader:{type:"none",fontSize:e.fontL1Size.l3}};return t},Ei.getDefaultOptions=function(e,t,a){var r;switch(e){case"zoom":r={type:"none",resetButton:{fillColor:"grey",label:{text:"Reset Zoom",marginTop:5,marginRight:5,marginBottom:5,marginLeft:5,fontSize:a.fontL2Size.l5},border:{show:!0,size:1,radius:6,color:"#cccccc"},shadow:{show:!1,dx:1,dy:1,color:"#cccccc",blur:1}},selectionArea:{fillColor:"grey",fillOpacity:.4}};break;case"scroll":r={enabled:!0,categoryThickness:null,visibleCategories:null,height:10,slider:{fillOpacity:.3,strokeOpacity:.3,strokeColor:"black"}};break;case"legend":r={};break;case"credits":r={enabled:!1,imageWidth:150,imageHeight:50,hAlign:"right",vAlign:"bottom",text:"Zoho Reports",target:"newtab",marginTop:0,marginRight:10,marginBottom:10,marginLeft:0,fontSize:a.fontL1Size.l4};break;case"notes":r={enabled:!1,chartValues:[],plotValues:[],blockValues:[],type:"stickyNote",options:{stickyNote:{headWidth:15,headHeight:15,bodyWidth:100,bodyHeight:100,fontSize:a.fontL1Size.l5,color:["#F0F8FF","#FFE4C4","#DCDCDC","#ADFF2F","#90EE90","#87CEFA","#FFC0CB","#B0E0E6","#D2B48C","#D8BFD8","#EE82EE","#F5DEB3"],mode:"close",border:"1px solid grey"},customNote:{fontSize:a.fontL1Size.l5}}};break;case"bar":r={outerPadding:.04,fillOpacity:.9,maxBandWidth:200,multiColoring:!1,border:{show:!1,size:null,style:"solid",radius:0,color:null},stacked:{enabled:!1,showAs:"values"},levelMarker:{enabled:!1,color:["#d8d8d8"],fillOpacity:.9},datalabels:{showAs:"y",stackLabels:{show:!1,showAs:"y"}},animation:{type:"verticalAll"},gradients:{options:{linear:{y2:50}}}};break;case"line":r={mode:"linear",strokeWidth:2,outerPadding:.02,stacked:{enabled:!1,showAs:"values"},marker:{enabled:!0,innerStrokeWidth:2,outerFillColor:"transparent",outerStrokeColor:"transparent"},hoveroptions:{innerStrokeWidth:2,outerFillOpacity:.5,outerStrokeOpacity:.1},datalabels:{showAs:"y"},animation:{type:"strokeTween",marquee:{enabled:!1,duration:300},blink:{enabled:!1,type:"twinkle",duration:400}},gradients:{options:{linear:{x2:10,spreadMethod:"reflect"}}}};break;case"area":r={strokeOpacity:.5,outerPadding:.02,fillOpacity:.4,mode:"linear",stacked:{enabled:!1,showAs:"values"},marker:{enabled:!1,outerFillColor:"transparent",outerStrokeOpacity:.5,size:1},hoveroptions:{innerStrokeWidth:2,outerFillOpacity:.5,outerStrokeOpacity:.1},datalabels:{showAs:"y"},gradients:{options:{linear:{x2:50}}},animation:{type:"vertPathTweenAll",marquee:{enabled:!1,duration:300},blink:{enabled:!1,type:"twinkle",duration:400}}};break;case"arearange":r={strokeOpacity:.5,outerPadding:.02,fillOpacity:.4,mode:"linear",stacked:{enabled:!1,showAs:"values"},marker:{enabled:!1,outerFillColor:"transparent",outerStrokeOpacity:.5,size:1},hoveroptions:{innerStrokeWidth:2,outerFillOpacity:.5,outerStrokeOpacity:.1},datalabels:{showAs:"y"},gradients:{options:{linear:{x2:50}}},animation:{type:"vertPathTweenAll",marquee:{enabled:!1,duration:300},blink:{enabled:!1,type:"twinkle",duration:400}}};break;case"scatter":r={outerPadding:.02,multiColoring:!1,marker:{size:1,innerFillColor:"white",innerStrokeColor:"white",innerStrokeWidth:0,innerStrokeOpacity:1,outerFillColor:"white",outerStrokeOpacity:1,outerStrokeWidth:2},hoveroptions:{innerStrokeOpacity:1,outerFillColor:"white",outerStrokeWidth:2},datalabels:{showAs:"y"},animation:{type:"allseries"},gradients:{options:{linear:{y2:100,gradientUnits:"userSpaceOnUse",colorGamma:[2,0]},radial:{radius:90,colorGamma:[2,0]}}}};break;case"bubblepie":case"pie":r={startAngle:0,endAngle:2*Sl,innerRadius:0,outerPadding:10,datalabels:{type:"circular",padding:5,line:{strokeColor:"grey",strokeWidth:.3},innerLabel:{show:!1,showAs:"percent"}},animation:{type:"fanAll"},gradients:{options:{linear:{x2:15,spreadMethod:"repeat",gradientUnits:"userSpaceOnUse"},radial:{radius:90}}},models:{count:50}},"bubblepie"==e?(r.strokeColor="transparent",r.outerPadding=.02,r.datalabels.showAs="percent",r.hoveroptions={innerFillColor:"transparent",innerStrokeColor:"transparent",outerFillColor:"transparent",outerStrokeWidth:3}):(r.strokeColor="white",r.sliceOutHeight=5,r.maxRadius=250,r.datalabels.showAs="x");break;case"funnel":r={weighted:"height",split:!1,canOverlap:!0,threeDimension:!0,outerPadding:"2%",stemHeight:"20%",stemWidth:"20%",coneWidth:"100%",strokeColor:"transparent",emptyFunnel:{show:!1,color:"#FAFAFA"},datalabels:{showAs:"x",type:"strokeddoubleside",padding:30,line:{strokeColor:"grey",strokeWidth:.3},innerLabel:{show:!1,showAs:"percent"}},gradients:{options:{linear:{x2:50,spreadMethod:"reflect",colorGamma:[.6,0]}}},animation:{type:"vertical"}};
break;case"web":r={fillOpacity:.5,strokeWidth:2,mode:"linearClosed",outerPadding:10,stacked:{enabled:!1,showAs:"values"},marker:{enabled:!0,innerStrokeOpacity:1,outerFillColor:"white"},hoveroptions:{innerStrokeWidth:2,innerStrokeOpacity:1,outerFillColor:"white"},datalabels:{showAs:"y"},animation:{type:"strokeTween",marquee:{enabled:!1,duration:300},blink:{enabled:!1,type:"twinkle",duration:400}},gradients:{options:{linear:{x2:15,spreadMethod:"repeat",gradientUnits:"userSpaceOnUse"},radial:{radius:90,x:0,y:0}}}};break;case"pyramid":r={threeDimension:!0,strokeColor:"black",strokeWidth:null,strokeOpacity:.5,fillOpacity:.8,gradients:{options:{linear:{x2:50,spreadMethod:"reflect",colorGamma:[.8,0]}}},datalabels:{showAs:"y",type:"singleside",padding:10,relativeX:!0,line:{strokeColor:"grey",strokeWidth:.3},innerLabel:{show:!1,showAs:"percent"}},animation:{type:"vertical"}};break;case"sunburst":r={strokeColor:"white",innerRadius:30,outerPadding:20,animation:{type:"fan"},datalabels:{showAs:"y",type:"circular",padding:10,line:{strokeColor:"grey",strokeWidth:.3},innerLabel:{show:!1,showAs:"splitpercent",parentLabel:{}}}};break;case"dial":r={startAngle:-Sl/2,endAngle:Sl/2,innerRadius:"65%",maxRadius:500,outerPadding:20,padding:0,strokeColor:"rgba(0,0,0,0.1)",animation:{type:"fanAll"},needle:{show:!0,type:"round",strokeColor:"black",fillColor:"grey",width:15,padding:15},minmaxlabels:{show:!0,fontSize:a.datalabels.fontSize.l5},datalabels:{show:!0,showAs:"y",padding:2},levelMarker:{enabled:!0,strokeColor:"rgba(0,0,0,0.1)",innerPadding:0,outerPadding:0,colorGamma:[.3,.9]},targetMarker:{outerStrokeWidth:3,symbol:"line",innerFillOpacity:0,innerStrokeOpacity:0,outerFillColor:"grey",outerStrokeColor:"#000"},gradients:{options:{linear:{x2:2,y2:2,spreadMethod:"repeat",gradientUnits:"userSpaceOnUse"},radial:{radius:16.5,spreadMethod:"reflect"}}},events:{enabled:!1}};break;case"bubble":r={outerPadding:.02,multiColoring:!1,marker:{innerFillOpacity:0,innerStrokeWidth:0,innerStrokeOpacity:0,outerFillOpacity:.4,outerStrokeOpacity:1},hoveroptions:{innerFillColor:"transparent",innerStrokeColor:"transparent",innerStrokeOpacity:1,innerStrokeWidth:0,outerFillOpacity:.3,outerStrokeOpacity:.5},datalabels:{showAs:"y"},animation:{type:"sizing"},gradients:{options:{linear:{y2:100,gradientUnits:"userSpaceOnUse",colorGamma:[1.5,0]},radial:{radius:90,colorGamma:[1.5,0]}}}};break;case"packedbubble":r={fillOpacity:.2,outerPadding:5,animation:{type:"sizing"},datalabels:{showAs:"y"}};break;case"bullet":r={strictBandWidth:!0,outerPadding:1e-8,levelMarker:{enabled:!0,dataindex:2,color:[],colorGamma:[.3,.9],fillOpacity:.9,maxBandWidth:200},targetMarker:{enabled:!0,dataindex:3,symbol:"line",innerFillColor:"transparent",innerStrokeColor:"transparent",innerStrokeWidth:0,innerStrokeOpacity:0,outerFillColor:"rgba(0, 0, 0, 0.6)",outerStrokeOpacity:1,outerStrokeWidth:5,outerStrokeColor:"rgba(0, 0, 0, 0.6)",label:{fontSize:a.datalabels.fontSize.l5}},animation:{type:"verticalAll"},datalabels:{textOverlap:"none",showAs:"y",stackLabels:{show:!1,showAs:"y"}},gradients:{options:{linear:{y2:50}}}};break;case"gantt":r={outerPadding:.04,padding:0,interPadding:.05,maxBandWidth:200,levelMarker:{enabled:!1,dataindex:2,fillOpacity:.3,bandWidth:4},hoveroptions:{enabled:!1,start:{innerStrokeOpacity:1,outerFillColor:"white",outerStrokeWidth:2},end:{innerStrokeOpacity:1,outerFillColor:"white",outerStrokeWidth:2}},marker:{enabled:!1,start:{size:1,innerStrokeWidth:0,outerStrokeWidth:2},end:{size:1,innerStrokeWidth:0,outerStrokeWidth:2}},border:{show:!1,size:null,style:"solid",radius:0,color:null},stacked:{enabled:!1,showAs:"values"},animation:{type:"verticalAll"},datalabels:{showAs:"y"},gradients:{options:{linear:{y2:50}}},dependency:{enabled:!1,targetIndex:0,link:{type:"ES",strokeWidth:2,strokeColor:"#111111",errorStyle:"red",padding:20},marker:{enabled:!0,padding:10,size:1.5,innerFillColor:"transparent",innerStrokeWidth:0,innerStrokeOpacity:0,outerStrokeOpacity:0,outerStrokeColor:"red",outerFillColor:"blue"}}};break;case"treemap":r={outerPadding:5,strokeColor:"rgba(255,255,255,0.7)",animation:{type:"fadeOneByOne"},datalabels:{showAs:"y",vAlign:"bottom",hAlign:"left"},gradients:{options:{linear:{y2:100,x2:100,colorGamma:[.5,0]},radial:{radius:100}}},parent:{strokeOpacity:0,datalabels:{position:"inset",vAlign:"center",hAlign:"center",showAs:"y",show:!1},events:{}}};break;case"heatmap":r={strokeColor:"white",animation:{},datalabels:{showAs:"y"},gradients:{options:{linear:{y2:100},radial:{radius:100}}}};break;case"dotgrid":r={fillOpacity:.2,outerPadding:.2,animation:{type:"grid"},datalabels:{showAs:"x"}};break;case"waterfall":r={outerPadding:.04,fillOpacity:.9,maxBandWidth:200,multiColoring:!1,border:{show:!1,size:null,style:"solid",radius:0,color:null},stacked:{enabled:!1,showAs:"values"},connector:{},comparisonLine:{},cascadeCategories:{dataindex:2},risingCategories:{},fallingCategories:{},datalabels:{showAs:"y",stackLabels:{show:!1,showAs:"y"}},animation:{type:"verticalAll"},gradients:{options:{linear:{y2:50}}}};break;case"wordcloud":r={strokeColor:"transparent",animation:{type:"fadeOneByOne"},datalabels:{showAs:"x"},gradients:{options:{linear:{x2:100,y2:100,colorGamma:[0,1.5]},radial:{radius:100,colorGamma:[1,0]}}}};break;case"metadata":r={axes:{x:[0],y:[[1]],tooltip:[0,1]},columns:[{dataindex:0,columnname:"",datatype:"numeric"},{dataindex:1,columnname:"",datatype:"numeric"}]}}return r},Ei.setDefaultOptions=function(e,t,a,r,n){n||(r=Ei.getDefaultOptions(e,t,a));var i=null==t[e]?t[e]={}:t[e];return oc(r,i,!0,!0),t[e]=r,r};var $s={solid:"",shortdash:"1.5,1.5",shortdot:"0.1,1.5",dashed:"2.5,2.5",longdash:"5,5",dotted:"0.1,2.5",shortdashdotdot:"1.5,2,0.1,2,0.1,2",dashdot:"2.5,2.5,0.1,2.5",longdashdot:"5,5,0.1,5",longdashdotdot:"5,2.5,0.1,2.5,0.1,2.5"},Js=function(){};Js.get=function(e,t,a,r){r=r||{};var n=r.offset,i=(r.dimension,r.returnSVGimage),l=r.base64,o=r.chartObj,s="svgPattern"==r.moduleType?tc:null;if(e=e||s,(null!=t||""!=t)&&e[t]){var c="zp"+W(a,t);if(null!=c){if(null!=Ei[c]){var d=Ei[c];return i?d:d.id||d}var d=e[t](a,c,n,i,l,o);return d?(Ei[c]=d,i?d:d.id||d):void 0}}},Ei.effects=Js,Ei.patternutil=function(){};var ec={};Ei.addPattern=function(e,t,a,r,n,i,l,o,s){ec[e]={type:t||"diagonal-line-right",size:a||5,strokeWidth:r||1,bgClr:i,stroke:n,fillOpacity:l||1,strokeOpacity:o||1,translate:s}},Ei.getPattern=function(e){return{type:ec[e].type,size:ec[e].size,strokeWidth:ec[e].strokeWidth,bgClr:ec[e].bgClr,stroke:ec[e].stroke,fillOpacity:ec[e].fillOpacity,strokeOpacity:ec[e].strokeOpacity,translate:ec[e].translate}};var tc=function(){};tc.imageFill=function(e,t){var a=e.width,r=e.height,n=qs.patternSVG;return n.select("defs").append("pattern").attrs({patternUnits:"userSpaceOnUse",id:t,width:a,height:r,x:e.x||0,y:e.y||0}).append("image").attrs({"xlink:href":e.name,x:0,y:0,width:a,height:r}),t},tc.svgPatternFill=function(e,t,a,r,n,i){var l;if(l=null!=e.ele?R(e.ele,e,t,i):j(e,t,i),r){var o="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='"+l.w+"' height='"+l.h+"'>"+(new XMLSerializer).serializeToString(l.node.node())+"<path d='"+F("square")(pl(l.w,l.h))+"' transform='translate("+l.w/2+","+l.h/2+")' style='fill: url(#"+l.id+")'></path> </svg>";return{url:Ks.FIREFOX||n?"data:image/svg+xml;base64,"+Qs(o):"data:image/svg+xml;utf8,"+o,width:l.w,height:l.h,id:l.id}}return l};var ac=function(){};ac.get=function(e,t,a,r,n,i){var l=e.type;if(l&&l!==El){var o=n?n.plot.renderer.mode:"svg",s=e.options[l]||e.options,c=sc(s);switch(c.color=null!=t?t:c.color,c.dimension=null!=a?a:c.dimension,c.defsLocation=n?n.defsLocation:"",c.id=n.id,o){case"canvas":return c.pointOpacity=i||1,canvasGradient.create(n.context,l,c,r);default:return Js.get(ac,l,c,{offset:r})}}},ac.svgGradientFill=function(e,t,a,r,n,i){return e&&e.type?ac[e.type](e,t,a,r,n,i):null},ac.radial=function(e,t){var r=qs.patternSVG,n=e.color,i=e.dimension,l=e.spreadMethod,o=a(i)?it(i[2])?i[2]:i[0]:i.r,s=o/100*(+e.x||0),c=o/100*(+e.y||0),d="repeat"!==l&&"reflect"!==l||!Ks.IS_IOS&&!Ks.SAFARI?o/100*+e.radius:o,u=r.select("defs").append("radialGradient").attrs({id:t,gradientUnits:e.gradientUnits||"userSpaceOnUse",spreadMethod:l});return u.attrs("objectBoundingBox"==e.gradientUnits?{cx:(+e.x||0)+"%",cy:(+e.y||0)+"%",r:(+e.radius||0)+"%"}:{cx:s+"px",cy:c+"px",r:d+"px"}),I(u,e,n,"radial"),t},ac.linear=function(e,t,r){var n,i,l,o,s=qs.patternSVG,c=e.color,d=e.dimension,u=e.spreadMethod,h=+e.x1||0,f=+e.x2||0,g=+e.y1||0,p=+e.y2||0,m="repeat"!==u&&"reflect"!==u||!Ks.IS_IOS&&!Ks.SAFARI?100:gl(ml(f-h),ml(p-g));a(d)?(n=0,i=d[0],l=0,o=d[1]):(n=d.x1||0,i=d.x2||0,l=d.y1||0,o=d.y2||0),/(pie|dial|bubblepie)/.test(r)&&(n=-i,l=-o);var v=Ul().domain([0,100]).range([n,i]),y=Ul().domain([0,100]).range([l,o]);h=100*h/m,f=100*f/m,g=100*g/m,p=100*p/m;var x=s.select("defs").append("linearGradient").attrs({id:t,gradientUnits:e.gradientUnits,spreadMethod:u});return x.attrs("userSpaceOnUse"==e.gradientUnits?{x1:v(h)+"px",x2:v(f)+"px",y1:y(g)+"px",y2:y(p)+"px"}:{x1:h+"%",x2:f+"%",y1:g+"%",y2:p+"%"}),I(x,e,c,"linear"),t},ac.thresholdLinear=function(e,t,a){var r=qs.patternSVG,n=r.select("defs").append("linearGradient").attrs({id:t,gradientUnits:"userSpaceOnUse",x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),i=zt(n,"stop",a,".","class","stop");return i.attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),t};var rc=function(){};rc.chalk=function(e,t){var a=qs.patternSVG,r=a.select("defs").append("filter").attrs({id:t,x:-.3,y:-.5,height:2,width:1.6,"color-interpolation-filters":"sRGB"});return r.append("feTurbulence").attrs({baseFrequency:.32065,seed:115,result:"result1",numOctaves:1,type:"turbulence"}),r.append("feOffset").attrs({result:"result2",dx:-2,dy:-2}),r.append("feDisplacementMap").attrs({scale:5,yChannelSelector:"G",in2:"result1",xChannelSelector:"R","in":"SourceGraphic"}),t},rc.dropShadow=function(e,t){var a=qs.patternSVG,r=a.select("defs").append("filter").attrs({x:e.x,y:e.y,width:e.width,height:e.height,id:t,filterUnits:e.filterUnits});if(r.append("feGaussianBlur").attrs({"in":e.source||"SourceAlpha",stdDeviation:e.blur}),"SourceGraphic"!==e.source){r.append("feOffset").attrs({dx:e.dx,dy:e.dy,result:"offsetblur"});var n=e.color,i=null,l=n&&n.match(nl);l&&5===l.length&&(n=oa(n),i=l[4]);var o=r.append("feFlood");o.attrs({"flood-color":n,"flood-opacity":i}),r.append("feComposite").attrs({in2:"offsetblur",operator:"in"});var s=r.append("feMerge");s.append("feMergeNode"),s.append("feMergeNode").attr("in","SourceGraphic")}return t},rc.colorMatrix=function(e,t){{var a=qs.patternSVG,r=a.select("defs").append("filter").attr("id",t);r.append("feColorMatrix").attrs({"in":"SourceGraphic",type:e.type,values:e.values})}return t},rc.freeHand=function(e,t){{var a=qs.patternSVG,r=(null==e.scale?7:e.scale,a.select("defs").append("filter").attr("id",t));r.append("feTurbulence").attrs({type:"fractalNoise",baseFrequency:.015,numOctaves:2,result:"turbulence_3","data-filterId":3}),r.append("feDisplacementMap").attrs({xChannelSelector:"R",yChannelSelector:"G","in":"SourceGraphic",in2:"turbulence_3",scale:e.scale})}return t};var nc=function(){};nc.tenbytenGrid=function(e,t){{var a=qs.patternSVG,r=a.select("defs").append("mask").attrs({id:t,maskUnits:"userSpaceOnUse",width:e.width,height:e.height,x:e.x,y:e.y});r.append("polygon").attr("points",B(e.x,e.y,e.type,e.percent,e.size,e.width)).styles({fill:e.fillColor})}return t};var ic=function(){};ic.polygon=function(e,t,a,r,n,i){var l=Ks.SAFARI?i.svg:qs.patternSVG;return l.select("defs").append("clipPath").attr("id",t).append("path").attr("d",e.d),t},ic.rect=function(e,t,a,r,n,i){var l=Ks.SAFARI?i.svg:qs.patternSVG;return l.select("defs").append("clipPath").attr("id",t).append("rect").attrs({x:e.x,y:e.y,width:e.width,height:e.height}),t};var lc={getDimension:function(e,t){if(e.dataObject.isPolarAxisCategory){var a=e.plotarea_approx.radius;return{r:a,x1:-a,x2:a,y1:-a,y2:a}}if(e.isAxisCategory){var r=e.rendererConf[t].params,n=e.systemConf.chart.axes,i=n.xaxis.reversed,l=n.yaxis[r.yaxiscolumnorder].reversed,o=r.xscale.range(),s=r.yscale.range();return r.axisrotated?{x1:s[+!l],x2:s[+!!l],y1:o[+!i],y2:o[+!!i]}:{x1:o[+!!i],x2:o[+!i],y1:s[+!!l],y2:s[+!l]}}}};Ei.utils=function(){},Ei.utils.getActualTextBounds=function(e,t,a){var t=t,r=e,n=a*(2*Math.PI/360),i={};return i.width=Math.abs(r*Math.sin(n))+Math.abs(t*Math.cos(n)),i.height=Math.abs(r*Math.cos(n))+Math.abs(t*Math.sin(n)),i};var oc=Ei.utils.mergeJSON=function(e,t,a,r){e=e||{},t=t||{};var n=null!=r&&1==r?e:sc(e);for(var i in t)t.hasOwnProperty(i)&&(void 0!=n[i]?null==t[i]||t[i].constructor!=Object&&t[i].constructor!=Array?1==a&&"object"==typeof n&&(n[i]=t[i]):n[i]=oc(n[i],t[i],a,r):n[i]=t[i]);return n};Ei.utils.getValueOfPlotOptions=function(e,t){return function(a){return null!=e&&null!=e[a]?e[a]:null!=t&&null!=t[a]?t[a]:null}},Ei.utils.getVal=function(e,t){return"function"==typeof e?e.apply(null,t):e};var sc=Ei.utils.simpleClone=function(e){var t,r=e;if(e&&"object"==typeof e){r=a(e)?[]:{};for(t in e)r[t]=sc(e[t])}return r},cc=Ei.utils.getPropVal=function(e,t){return $(e,t,!0)};Ei.utils.elementIsVisible=xt;var dc=function(){var e,t,a=arguments,r=a.length;for(e=0;r>e;e++)if(t=a[e],it(t))return t;return a[r-1]};d3.selection.prototype.isD3Selection=!0,Ei.utils.getStyle=Pt;var uc=function(e){return e},hc={};hc.getProcessedColorRange=function(e,t,a,r){var n=a.stops,i=a.ranges,l=[],o=r.dataset.getDataType("clr")===_o;if(!o&&n&&n.length){var s=0;t.forEach(function(t){var a=n.indexOf(t);-1===a&&(a=s),l.push(e[a%e.length]),s=a})}else if(i&&i.length){i=Da(r,!0);for(var c=0,d=function(e,a){return(1===e.length?o?e[0]===t[c]:e[0]===t[c+1]:e[0]===t[c]&&e[1]===t[c+1])?(h=a,!0):void 0},u=t.length;u>c;o?c++:c+=2){var h=-1;i.some(d),l.push(-1===h||i[h].disabled?null:e[h%e.length])}}else l=e;return l},hc.getColorDomain=function(e){var t=e.systemConf.legend.colorBand,a=t.stops,r=t.ranges,n=hc.getMinMax(e),i=dc(t.minRange,n[0])||0,l=dc(t.maxRange,n[1])||0,o=e.dataset.getDataType("clr")===_o;if(!o&&a&&a.length){var s=q(a);s.sort(oo);var c=s.filter(function(e){var a=!0;return it(t.minRange)&&(a=a&&e>=t.minRange),it(t.maxRange)&&(a=a&&e<=t.maxRange),a});return(i<c[0]||!c.length)&&c.splice(0,0,i),l>c[c.length-1]&&c.splice(c.length,0,l),c}if(r&&r.length){var d=Da(e),u=[];if(o)u=d;else{if(1===d[0].length){var h=i;d=d.map(function(e){var t=[h,e[0]];return h=t[1],t})}u=d,u.splice(0,0,[-1/0,-Pl]),u.splice(u.length,0,[Pl,1/0])}var f=to(u);return f}return[i,l]},hc.getMinMax=function(e){var t=hc.getAllColorData(e);return io(t)},hc.getCategories=function(e){var t=hc.getAllColorData(e);return t.filter(function(e,a){return a===t.indexOf(e)})},hc.getAllColorData=function(e){var t=e.seriesdata,a=[];return t.forEach(function(t){if(!t.disabled){var r=t.data||t;hc.pushColorData(e,r,a)}}),a},hc.pushColorData=function(e,t,r){if(t&&a(t)&&a(t[0]))t.forEach(function(t){hc.pushColorData(e,t,r)});else{var n=e.dataset.getClr(t);r.push(n)}},hc.isQuantileColorScale=function(e){return e.axes.clr?"quantile"===e.axes.clr.scaleType:it(e.dataset.clridx)&&!e.dataObject.isPolarAxisCategory},hc.getItemIndex=function(e,t,a,r){var n=a&&e.dataset.getClr(a);return t?t(n):r},hc.getIndexScale=function(e){var t,a=hc.isQuantileColorScale(e),r=e.systemConf.legend.colorBand.ranges;if(a&&r&&r.length){var n,i=e.axes.clr.scale,l=i.domain(),o=e.patternPallete,s=e.imagePallete;s&&s.length?n=s:o&&o.length&&(n=o),n&&(t=i.copy(),t.range(hc.getProcessedColorRange(Co(n.length),l,e.systemConf.legend.colorBand,e)))}return t},Ei.scale.constructor=function(e,t,a,r){function n(){var t=e.dataObject,n=t.hierarchical,i=0,l=e.brush?e.brush.extent:null,o=e.axes.x;if(e.axes.x.scale=a(e,e.dataObject,e.plotarea,e.axes.x.orient,0,e.dataset,"x",l),e.axes.x.eventscale=null==r?e.axes.x.scale:r(e,e.dataObject,e.plotarea,e.axes.x.orient,null,e.dataset,"x"),it(n)){e.axes.x.rangeScale=e.axes.x.scale.copy(),e.axes.x.rangeScale.outerPaddingPx=e.axes.x.scale.outerPaddingPx,n.groupByDiscreteTime&&e.axes.x.rangeScale.domain(t.getDomain(t.getCategories("x"))),i=n.finalDepth,n.setRanges(e.axes.x.rangeScale);for(var s=0;i>s;s++)o.levels[s]||(o.levels[s]={}),o.levels[s].scale=a(e,t,e.plotarea,e.axes.x.orient,s+1,e.dataset,"x",l,null)}return[{scale:e.axes.x.scale}].concat(o.levels)}function i(){for(var t=e.axes.y.count,n=e.axes.y,i=0;t>i;i++)n.groups[i]||(n.groups[i]={}),n.groups[i].scale=a(e,e.dataObject,e.plotarea,e.axes.y.orient,i,e.dataset,"y"),n.groups[i].eventscale=null==r?n.groups[i].scale:r(e,e.dataObject,e.plotarea,e.axes.y.orient,i,e.dataset,"y");return e.axes.y.groups}var l,o=Ei.scale.getScale,s=Ei.scale.getEventScale;switch(a=dc(a,o),r=dc(r,s),t){case"left":l=e.axes.rotated?n():i();break;case"bottom":l=e.axes.rotated?i():n()}return l},Ei.scale.getScale=function(e,t,a,r,n,i,l,o,s){function c(){var n=y.reversed;if(O)return n?[rt(k.endAngle,2*Sl),rt(k.startAngle,0)]:[rt(k.startAngle,0),rt(k.endAngle,2*Sl)];if("clr"===l)return e.imagePallete||e.seriesColor;if("z"===l){if(A){var i=1;return[aa(k.minSize,i,aa("25%",i)),aa(k.maxSize,i,aa("100%",i))]}var o;t.isCombinationalChart?e.chartTypes.some(function(e){var t=e.name;return"bubble"===t||"bubblepie"===t?(o=t,!0):void 0}):o=C;var s=m.chart.plot.plotoptions[o]||{},c=pl(a.width,a.height),i=rt(s.size,1);return[aa(s.minSize,c,aa("2.5%",c))*i,aa(s.maxSize,c,aa("25%",c))*i]}var d=t.getPlotBorder();return n?"bottom"===r||"top"==r?[Wn(e,"width",a)-d.right,d.left]:[d.top,Wn(e,"height",a)-d.bottom]:"bottom"===r||"top"==r?[d.left,Wn(e,"width",a)-d.right]:[Wn(e,"height",a)-d.bottom,d.top]}function d(){return O||A||"x"!=l?0:rt(k.padding,t.noofBarEnabledSeries?.2:.9)}function u(){return O||S||A?0:"y"===l?rt(y.outerPadding,e.datalabels.hasFixedPosition?1e-8:.05):null!=s?s:rt(k.outerPadding,.02)}function h(){return"x"===l?m.chart.axes.xaxis:"clr"===l?m.legend.colorBand:m.chart.axes.yaxis[n||0]}function f(e,a,r){var i=0,o=0,s=0,c=e[0]<e[1],d=c?0:1,u=c?1:0;o=t.extendOuterpadding(p,e,m,E,r,l,n),i+=o;var h=ml(e[1]-e[0]);return s=h*a,i+=s,e[d]=e[d]+i,e[u]=e[u]-i,{range:e,outerPaddingPx:i}}var g,p,m=e.systemConf,v=i.getDataType(l,n),y=h(),x=t.hierarchical,b=it(y.minRange),w=it(y.maxRange),C=e.chartTypes[0].name,k=m.chart.plot.plotoptions[C],O="dial"===C||"web"===C&&"x"===l,A="heatmap"===C,S="clr"===l&&hc.isQuantileColorScale(e),P=$(m,"chart.zoom."+l,!0),T=c(),E=d(),s=u();switch(v){case"numeric":o?p=o:"x"===l?p=t.getMinMaxX(0):"y"===l?p=t.getMinMaxY(n,s):"z"===l?p=t.getMinMaxZ():(p=hc.getColorDomain(e),T=hc.getProcessedColorRange(T,p,y,e));var L=p[0],z=p[1];if("NoData"==p[0]&&"NoData"==p[1]&&(p=[0,0]),!P&&(o||"x"==l)){var D=p[1]-p[0],R=0==D?e.plotarea.width/2:D*s;p[0]=b?p[0]:p[0]-R,p[1]=w?p[1]:p[1]+R}var j="clr"===l&&y.ranges&&y.ranges.length?hc.quantileScale:Ul;g=j().domain(p).range(T);var M=[g(L),g(z)];g.actualRange=M,g.origRange=T;break;case"ordinal":if(o)p=o;else if("clr"===l)p=hc.getColorDomain(e),T=hc.getProcessedColorRange(T,p,y,e);else{var I=t.getCategories(l,n);p=t.getDomain(I,!0)}var H,B=0,F=[T[0],T[1]];if(E=1===p.length?0:E,s){B=Ei.scale.getOuterPadding(T,p.length,E,s);var V=f(T,s,B);T=V.range,H=V.outerPaddingPx}var j="clr"===l?ql:Gl;g=j().domain(p),"clr"===l?g.range(T):g.range(T).paddingInner(E).paddingOuter(0),Ia(g),g.origRange=F,g.outerPaddingPx=H||0;break;case"time":var N=i.getColumn(l,n),Y=N[N.datatype],_=Y&&Y.subfunction,W=dc(Y&&Y.useUTC,!1);p=o?o:"x"===l?t.getMinMaxX(0):t.getMinMaxY(n,0);var L,z,X=new Date(p[0]),U=new Date(p[1]);if(it(_)||(_=Ur(U-X).subFunction),!P){if(!m.chart.axes[l+"axis"].disableBaseValue){var G=new fc(Y);G.useUTC=W,G.getBaseValue(X,_,!1),G.getBaseValue(U,_,!0)}if(L=X,z=U,t.isBubbleEnabled){var Z=t.overBubbles([X.getTime(),U.getTime()],l,"y"==l?n:null);X=new Date(X.getTime()-Z[0]),U=new Date(U.getTime()+Z[1])}var D=U.getTime()-X.getTime(),Q=0==D?e.plotarea.width/2:D*s,q=0==s?0:t.getCorrectionOverDataLabels([X.getTime(),U.getTime()],"x");X=new Date(b?p[0]:X.getTime()-Q-q),U=new Date(w?p[1]:U.getTime()+Q+q),p=[X,U]}g=Zl().domain(p).range(T);var M=[g(L),g(z)];g.actualRange=M,g.origRange=T;break;case"ordinalNonLinear":var I=t.getCategories(l,n);p=t.getDomain(I);var F=[T[0],T[1]],K=x.rangeList?x.rangeList[n-1]:null;g=Ei.nonLinearOrdinalScale().domain(p).range(T).rangeBands(K),g.origRange=F}return g.outerPadding=s,g},Ei.scale.getEventScale=function(e,t,a,r,n,i,l){var o,s=i.getDataType(l,n);switch(s){default:o=Ei.scale.getScale(e,t,a,r,n,i,l)}return o},Ei.scale.invert=function(e,t,a,r,n,i){var l;switch(e){case"numeric":case"time":var o="y"==n?r?t.x:t.y:r?t.y:t.x;l=a.invert(o);break;case"ordinal":var s=Ia(a),c=a.bandwidth(),d=s.length>1?ml(s[1]-s[0]):0,u=ml(d-c);s=s.map(function(e){return e-u/2}),l=Ra(t,s,n,r,i)}return l},Ei.scale.ordinalSubInvert=function(e,t,a,r,n,i,l){var o=a.bandwidth(),s=a.range(),c=r.ordinalRange,d=a.domain(),u=s[1]-s[0],h=u-d.length*o,f=d.map(function(e,a){return c[t]+a*(o+h)}),g=Ra(e,f,i,n,l);return g},Ei.scale.barBandwidth=function(e){var t=e.systemConf,a=e.dataObject,r=a.isstacked()?a.groupedByStack.keys().length||1:$l(e.seriesdata.map(function(e){return a.isBarEnabled(e)?e.data.length:void 0})),n=e.chartTypes[0],i=n.name,l=n.value==Ei.charttype.bullet,o=(hr(n.value),t.chart.plot.border),s=o.show===!0?o.size:0,c="gantt"==i||"bullet"==i||"bar"==i||"waterfall"==i?t.chart.plot.plotoptions[i].padding||.2:.2,d=1==r?0:"bar"==i||"gantt"==i||"waterfall"==i?t.chart.plot.plotoptions[i].interPadding||0:0,u=t.chart.plot.plotoptions[i].outerPadding;u=null!=u&&""!==u?u:.02;var h,f,g=e.axes.x.scale.domain().length,p=e.axes.rotated?[Wn(e,"height",e.plotarea)-s,s]:[s,Wn(e,"width",e.plotarea)-s];u=Ei.scale.getOuterPadding(p,g,c,u),u+=a.extendOuterpadding(Co(g),p,t,c,u,"x"),e.barscale1=h=e.axes.x.scale,e.barscale2=f=Gl().domain(Co(r)).range([0,h.bandwidth()]).paddingInner(d);var m=a.noofBarEnabledSeries&&!l?t.chart.plot.plotoptions[i].maxBandWidth||h.bandwidth():200;if(!l&&f.bandwidth()>m){var v=(h.bandwidth()-r*m)/2;f.range([v,h.bandwidth()-v]).paddingInner(d)}return[h,f]},Ei.scale.getOuterPadding=function(e,t,a,r){var n=ml(e[1]-e[0]),i=r*n,l=(n-2*i)/(t-a+0);return i/l},Ei.scale.getOrdinalOuterPadding=function(e,t,a,r){var n=ml(e[1]-e[0]),i=r*n;return i/2},Ei.scale.getContinuousRangeBand=function(e,t,a){var r=e(t[0]),n=a&&t[a]?e(t[a]):r,i=e(a&&t[a+1]?t[a+1]:t[1]),l=i-n,o=e.range(),s=0>l?-1:1;return{outerPaddingInPixel:s*pl(ml(r-o[0]),ml(l/2)),rangeBand:l/2}},Ei.scale.getDiscreteRangeBand=function(e){var t=e.bandwidth(),a=e.outerPaddingPx+t/2,r=e.domain().length>1?e.ordinalRange[1]-e.ordinalRange[0]-t:0,n=t/2+r/2;return{outerPaddingInPixel:pl(a,n),rangeBand:t/2+r/2}},Ei.scale.getRangeBand=function(e,t,a){var r;return r=e.bandwidth?Ei.scale.getDiscreteRangeBand(e):Ei.scale.getContinuousRangeBand(e,t,a)},Ei.nonLinearOrdinalScale=function(){function e(e){return t?t.get(e):null}var t,a,r,n,i;return e.domain=function(t){return arguments.length?(a=t,e):a},e.rangeBand=function(){return 0},e.rangeBands=function(a){if(!arguments.length)return r;if(null==a)return e;i=a,r=new ao,t=new ao;var n=-1,l=a.length;for(temp=0;++n<l;)t.set(n,a[n][0]),r.set(n,a[n][1]-a[n][0]);return e},e.discreteWidth=function(e){return r?r.get(e):null},e.range=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return Ei.nonLinearOrdinalScale().domain(a).rangeBands(i).range(n)},e},hc.quantileScale=function(){function e(e){var t;return r.forEach(function(a,r){e>=a[0]&&e<=a[1]&&(t=r)}),it(t)?a[t]:null}var t=[],a=[],r=[];return e.domain=function(a){if(arguments.length){t=a;for(var n=0;n<t.length;n+=2)r.push([t[n],t[n+1]]);return e}return t},e.range=function(t){return arguments.length?(a=t,e):a},e.copy=function(){return hc.quantileScale().domain(t).range(a)},e},Ei.axis.render=function(e,t,r,n){function i(){var t=w.chart.axes.animation||{},a=t.enabled;if(!it(a)){var r=e.isAxisCategory||e.isNonAxisMultiSeriesCategory?e.seriesdata:e.seriesdata.slice(0,1);a=r.some(function(t,a){var r=e.chartTypes[a].name;return Xt(w.chart.plot.plotoptions[r],t.plotoptions,e,r).enabled})}return a?dc(t.duration,600):0}function l(t,a,r,n,i){var l=w.chart.plot.border,o=e.container.selectAll("g.plotareaBorder-property"),s=null;if(it(l)&&l.show===!0){var c=o.selectAll("path.plotBorderPath"),d=nt(l,"size",0,10,e.plotarea.width,e.plotarea.height);d=null==d||""===d?2:d;var u=e.dataObject.getTransRectValue("radius",null,null,null,null,l.radius),h=Mt(.5,.5,e.plotarea.width,e.plotarea.height,u,!1,!1);c.styles({"stroke-width":d,stroke:l.color,"stroke-dasharray":O(l.style,d),fill:El,"pointer-events":El}).attrs({d:h}),o.selectAll("line").style("stroke",Ll)}else{var f=a.axisline,g=0==f.show||null==f.color?Ll:f.color,p=rt(f.strokeWidth,1),m=f.style||"solid",v=zt(o,"line",[1],".","class",t);if(0==i||0==a.show||"hidden"==r.style("visibility"))return void v.style("stroke",Ll);var y,x,b,C;"bottom"==t?(y=0,x=e.plotarea.width,b=e.plotarea.height+.5,C=e.plotarea.height+.5):"left"==t?(y=.5,x=.5,b=0,C=e.plotarea.height):"right"==t?(y=e.plotarea.width+.5,x=e.plotarea.width+.5,b=0,C=e.plotarea.height):"top"==t&&(y=0,x=e.plotarea.width,b=.5,C=.5),v.styles({"stroke-width":p,stroke:g,"shape-rendering":"crispedges","stroke-dasharray":O(m,p)}).attrs({x1:y,x2:x,y1:b,y2:C}),s={size:p,clr:g},o.node()["border-"+t]=s}r.selectAll("path.domain").style("stroke",Ll)}function o(t,a,r){var n=t.orient,i=e.axes.rotated;return n=null==n?"x"==a?i?"left":"bottom":i?"bottom":0==r?"left":"right":n}function s(t,a){var r=[];switch(t){case"left":r=e.axes.rotated?d("x",a):d("y",a);break;case"bottom":r=e.axes.rotated?d("y",a):d("x",a)}return r}function c(t,a,r,n){var i="left"==a?e.axes.rotated?"x":"y":e.axes.rotated?"y":"x",l=La(e,i,r).component,o=h(l,i,t,a,r,n);return o}function d(t,a){var n=La(e,t,a),i="x"==t?w.chart.axes.xaxis:w.chart.axes.yaxis[a]||w.chart.axes.yaxis[0],l=n.component;return l?l:(n.component="x"==t?i.show&&Kt(e,"xaxis",r)?Ei.axis.get():null:i.show?Ei.axis.get():null,l)}function u(e,t,a,r){var n=[];return n=f(e,a,t,r)}function h(a,n,i,l,s){var c="x"==n?w.chart.axes.xaxis:w.chart.axes.yaxis[s],l=o(c,n,s),d="bottom"==l||"top"==l?r:t,u=c.show===!0&&Kt(e,n+"axis",d),h="bottom"==l?c.ticklabel.marginTop:"top"==l?c.ticklabel.marginBottom:"left"==l?c.ticklabel.marginRight:c.ticklabel.marginLeft;if(h=dc(h,5),"y"!==n||u&&!e.axes.y.groups[s].disabled||T++,a){var f="y"===n&&e.axes.y.groups[s].disabled;a.plotBorderDrawn=!u||f?a.plotBorderDrawn:!k[l],k[l]=!0}if(u){var g=(e.axes.y.groups,La(e,n,s).ticks),p=g.preCalcAxisLen,m=(g.preCalcApproxAxisLength(D),g.preCalcAxisLen-p),y=g.tickValueObj,b="x"==n?n+"-axis-"+s:n+"-axis-"+s,O=zt(A.selectAll("g."+n+"-axis"),"g",u?[c]:[],".","class",b);if(ml(m)>1&&(x(l,m),D=e.plotarea),null!=a){var S="y"==n?P.axes.y[s].length>1:!1,L=g&&g.isHierarchy()&&e.dataObject.hierarchical.groupByTime,z=e.dataset.getColumnIdx(n,L?0:s),R=P.columns[z].datatype;R=g&&g.isHierarchialLevelType()&&e.dataObject.hierarchical.categoryTree?_o:R;var j=P.columns[z][R];j=S&&"y"==n?Sa(s,e):j;var M=j&&(j.axisformat||j.format),I=rt(c.tickmark.size,6),H=(C.isStackedPercentChart||C.isPercentChart)&&"y"==n?Ir:zr,B=L?s:null,F=!(g&&g.isHierarchy())&&j&&M&&M.specifier&&M.specifier.constructor==Array||"wrapOnSpace"==y.mode||"wrapAll"==y.mode;a.orient(l).scale(i).tickPadding(h).tickSize(I).tickSizeOuter(0).majorTicks(s===("y"===n?T:E)?v(l,n):null).plotarea(e.plotarea).systemconf(e.systemConf).tickRotation(y.rotation).preCalcTickLen(g.preCalcTickLen).chartObj(e).columnIndices(S&&"y"==n?P.axes.y[s]:[z]).isMultiLineTick(F);var V=null!=j?j.axisformat||j.format:null;if(V&&"auto"==V.specifier&&!i.bandwidth)a.tickValues(g.getTicksforAxisComp()).tickFormat(function(e){var t=i;d3.select(this).text(t.tickFormat()(e))});else{a.tickValues(g.getTicksforAxisComp());var N=g.getActualTicklabel(),Y=g.tickValueObj.maxTickSize.horizontal,_=g.tickValueObj.maxTickSize.vertical,W=Ei.utils.getVal(at([c.ticklabel,e.systemConf.chart,e.systemConf.canvas,qs],"fontSize")),X="wrapOnSpace"==g.tickValueObj.mode||"wrapAll"==g.tickValueObj.mode,U=a.isMultiLineTick(),G=it(c.ticklabel.showAs),Z=[null,l,e,y.rotation,c.ticklabel.textOverflow,a.scale(),O,a,"ticklabel",c.ticklabel,s,!0],Q=Ha.apply(null,Z),q=function(t,a){var r=N(a),n=H(j,r,R,e,"axis",null,null,B);d3.select(this).text(n),U?(X&&(n=Za(n,g.tickValueObj.mode,Y,_,W)),Nt(d3.select(this),n,{orient:l})):G&&it(g.tickValueObj.customTicks[a])&&(this.innerHTML="",Nt(d3.select(this),g.tickValueObj.customTicks[a],null,!0)),Q(this,a)};a.tickFormat(q)}a.hideAxisLabel=!Kt(e,n+"axislabel",d)}}return a}function f(a,n,i){var s="x"==n?w.chart.axes.xaxis:w.chart.axes.yaxis[i],c=(s.ticklabel,o(s,n,i)),d="bottom"==c||"top"==c?r:t,u=s.show===!0&&Kt(e,n+"axis",d),h="x"==n?n+"-axis-"+i:n+"-axis-"+i,f=zt(A.selectAll("g."+n+"-axis"),"g",u?[s]:[],".","class",h),m=La(e,n,i);if(f.style("display","y"===n&&e.axes.y.groups[i].disabled?El:null),"x"===n&&u?g(s,i,a,!0):p(s,i,a,null,!0),u){{m.ticks.tickValueObj}e.plotarea=a.plotarea(),f.transition().duration(S).call(a,n,i),"y"==n&&1==a.plotBorderDrawn?l(c,s,f,a,u):"x"==n&&0==i&&l(c,s,f,a,u)}else 1==a.plotBorderDrawn&&l(c,s,f,a,u);"y"==n&&$(w.chart,"scroll")&&w.chart.scroll.enabled&&e.brush.initialize(e.plotarea)}function g(t,a,r,n){var i={left:0,top:0,right:0,bottom:0},l=e.axes.x.count;if(0==a){for(var o=0;l>o;o++){var s=La(e,"x",o),c=s.component,d=r.orient(),u=n?m(t.label,t.ticklabel,c.preCalcTickLen(),e,"x",o,d):c.tickLabelWidth(),h=A.selectAll(".x-axis-"+o),f="right"==d?e.plotarea.left+e.plotarea.width+i.right:e.plotarea.left-i.left,g=e.axes.rotated||"top"==d?e.plotarea.top-i.top:e.plotarea.top+e.plotarea.height+i[d];i[d]+=u,h.attr("transform","translate("+f+","+g+")")}var h=A.selectAll("g.x-axis-0")}}function p(a,n,i,o,s){var c=w.chart.axes.yaxis,d=e.axes.y.groups.length,u=A.selectAll(".y-axis-0"),h=c[0].orient||(e.axes.rotated?"bottom":c[0].orient||"left");if(o||0==n){for(var f={left:0,top:0,right:0,bottom:0},g=0;d>g;g++){var p=c[g],v=p.orient;v=v||(e.axes.rotated?"bottom":null!=p.orient?p.orient:0==g?"left":"right");var y="bottom"==v||"top"==v?r:t,x=p.show===!0&&Kt(e,"yaxis",y);if(x){var b=e.axes.y.groups[g].component,C=A.selectAll(".y-axis-"+g),k=s?m(p.label,p.ticklabel,b.preCalcTickLen(),e,"y",g,v):b.tickLabelWidth(),O="bottom"==v||"top"==v?e.plotarea.left:"left"===v?e.plotarea.left-f[v]:e.plotarea.left+e.plotarea.width+f[v],S="bottom"==v?e.plotarea.height+e.plotarea.top:e.plotarea.top;f[v]+=e.axes.y.groups[g].disabled?0:k,C.attr("transform","translate("+O+","+S+")"),b&&1==b.plotBorderDrawn&&l(v,p,C,i)}}e.axes.rotated?null:u.selectAll("line.majorTicks").attr("x2","right"==h?-e.plotarea.width:e.plotarea.width)}}function m(e,t,a,r,n,i,l){var o={top:0,right:0,bottom:5,left:0},s=0,c=0,d=La(r,n,i),u=d.component,h=d.ticks;c="clr"===n?0:d.axisLabel.getBBox().height;var f=u.hideAxisLabel||e.show===!1||!it(e.text)||""===e.text||h.isHierarchy()&&i<r.dataObject.hierarchical.finalDepth;f?o.top=o.bottom=o.left=o.right=0:(o.top=dc(e.marginTop,5),o.bottom=dc(e.marginBottom,5),o.left=dc(e.marginLeft,5),o.right=dc(e.marginRight,5));var g=dc(t.marginRight,5),p=dc(t.marginLeft,5),m=dc(t.marginBottom,5),v=dc(t.marginTop,5);switch(l){case"top":s=null!=a?a.height+v+o.bottom:0,s=s+c+o.top;break;case"bottom":s=null!=a?a.height+m+o.top:0,s=s+c+o.bottom;break;case"left":s=null!=a?a.width+p+o.right:0,s=s+c+o.left;break;case"right":s=null!=a?a.width+g+o.left:0,s=s+c+o.right}return u.tickLabelWidth(s),s}function v(t,a){var r,n,i,l;if(r=n=i=l=0,"bottom"==t?l=-e.plotarea.height:"top"==t?l=e.plotarea.height:"left"==t?i=e.plotarea.width:"right"==t&&(i=-e.plotarea.width),"x"===a&&e.datalabels.hasFixedPosition){var o=e.axes.y.groups.map(function(e){return e.disabled}).indexOf(!1),s=w.chart.axes.yaxis[o].reversed,c=y(o);"bottom"==t?s?n-=c:l+=c:"top"==t?s?l-=c:n+=c:"left"==t?s?r+=c:i-=c:"right"==t&&(s?i+=c:r-=c)}return{x1:r,y1:n,x2:i,y2:l}}function y(t){var a,r=Ei.scale.getScale(e,e.dataObject,e.plotarea,e.axes.y.orient,t,e.dataset,"y"),n=r.origRange,i=e.dataset.getDataType("y",t);if(i===_o){var l=r.domain();a=r(l[l.length-1])+r.bandwidth()/2}else{var l=e.dataObject.getMinMaxY(t,0,e.datalabels.hasFixedPosition);a=r(l[1])}return pl(ml(a-n[0]),ml(a-n[1]))
}function x(t,a){var r=e.plotarea;"left"===t?(r.left+=a,r.width-=a):"right"===t?r.width-=a:"bottom"===t?(r.height-=a,r.bottom+=a):(r.height-=a,r.top+=a)}function b(t,a,r,n,i,l){k={left:!1,right:!1,top:!1,bottom:!1},e.container.selectAll("g.plotareaBorder-property").selectAll("line").style("stroke",Ll);var o=a.orient(),s=(a.scale(),a.majorTicks(),t.node().getBBox().width);s+="left"==o?r.label.marginLeft:r.label.marginRight,s=a.tickLabelWidth(),("hidden"!==t.style("visibility")||"remove"!==l)&&(e.plotarea.width="add"==l?e.plotarea.width-s:e.plotarea.width+s,e.plotarea.left="left"==o?"add"==l?e.plotarea.left+s:e.plotarea.left-s:e.plotarea.left);var c=0,d="add"==l?"visible":"hidden";t.style("visibility",d),"add"==l&&t.style("display",null);for(var u=0;u<e.axes.y.groups.length;u++){var h=A.selectAll("g.y-axis-"+u),f=e.axes.y.groups[u].component,g=f.orient(),m=f.majorTicks(),y=w.chart.axes.yaxis[u]||w.chart.axes.yaxis[0];h.node()&&("hidden"!=h.style("visibility")&&0==c?(m=v(g),f.majorTicks(m),h.transition().duration(0).call(f,i,u,!0),c++):null!=m&&c>0&&(f.majorTicks(null),h.transition().duration(0).call(f,i,u,!0)),"visible"!=h.style("visibility")||k[g]?(f.plotBorderDrawn=!1,"visible"==h.style("visibility")?h.selectAll("path.domain").style("stroke",y.axisline.color):h.selectAll("path.domain").style("stroke",Ll)):(k[g]=!0,f.plotBorderDrawn=!0))}p(r,n,a,!0)}var w=e.systemConf,C=e.dataObject,k={left:!1,right:!1,top:!1,bottom:!1},A=e.svg.selectAll("g.xychart"),S=i(),P=e.systemConf.metadata,T=0,E=0,L=Ei.DataProcessor.helpers,z=L.getParsedYAxisOrder;e.axes.animationDuration=S,e.zscale=e.dataObject.hasZaxis?Ei.scale.getScale(e,C,e.plotarea,e.axes.x.orient,null,e.dataset,"z"):null,e.datalabels.hasFixedPosition=Gn(e);var D={left:e.plotarea.left,top:e.plotarea.top,width:e.plotarea.width,height:e.plotarea.height};Ei.axis.constructTickObj(e,t,r,"left",D,n),Ei.axis.constructTickObj(e,t,r,"bottom",D,n),e.zscale=e.dataObject.hasZaxis?Ei.scale.getScale(e,C,e.plotarea,e.axes.x.orient,null,e.dataset,"z"):null,yc.updatePlotareaByBandWidth(e,D);for(var R=Ei.scale.constructor(e,"left"),j=e.axes.rotated?"x":"y",M=0;M<R.length;M++){var I=s("left",M);I=c(R[M].scale,"left",M,n)}for(var M=0;M<R.length;M++){var I=La(e,j,M);null!=I.component&&u(I.component,M,j,n)}for(var H=Ei.scale.constructor(e,"bottom"),B=e.axes.rotated?"y":"x",M=0;M<H.length;M++){var I=s("bottom",M);I=c(H[M].scale,"bottom",M,n)}for(var M=0;M<H.length;M++){var I=La(e,B,M);null!=I.component&&u(I.component,M,B,n)}e.dataset.getDataType("x")==_o&&Ei.scale.barBandwidth(e),e.updateZscale=function(){e.dataObject.hasZaxis?e.zscale.domain(C.getMinMaxZ()):null},e.updateScale=function(n,i,s,c){var d,u="y"==i?z(null==n||a(n)?n:n.yaxiscolumnorder):0,c="x"==i&&it(c)?c:u,h=A.selectAll("g."+i+"-axis-"+c),f=La(e,i,c),m=f.ticks,v="x"==i?w.chart.axes.xaxis:w.chart.axes.yaxis[u],y=v.ticklabel,k=f.component?f.component.orient():o(v,i,u),O="bottom"==k||"top"==k?r:t,T=v.show===!0&&Kt(e,i+"axis",O),E=e.dataset.getColumnIdx(i,u),L=P.columns[E].datatype,L=m&&m.isHierarchialLevelType()&&e.dataObject.hierarchical.categoryTree?_o:L,D=P.columns[E][L],R=m&&m.isHierarchy()&&e.dataObject.hierarchical.groupByTime,j=R?c:null;if(s){d=s;var M=Ei.scale.getScale(e,C,e.plotarea,k,u,e.dataset,i,d);f.eventscale=f.scale=M}else{var I=e.chartTypes[0].name,H=w.chart.plot.plotoptions[I].outerPadding;d=L==_o?C.getCategories(i,c):"x"==i?e.dataObject.getMinMaxX(rt(H,.2)):e.dataObject.getMinMaxY(u);var M=Ei.scale.getScale(e,C,e.plotarea,k,c,e.dataset,i);f.eventscale=f.scale=M}if("y"!=i||h.empty()||"NoData"!=d[0]||"NoData"!=d[1])if("y"!=i||h.empty()||"hidden"!=h.style("visibility")||h.style("display")===El){if(C.isBubbleEnabled&&"y"==i&&(f.eventscale=f.scale=Ei.scale.getScale(e,C,e.plotarea,k,u,e.dataset,"y")),T){f.component.scale(f.scale),D=P.axes.y[u].length>1&&"y"==i?Sa(u,e):D;var B=(C.isStackedPercentChart||C.isPercentChart)&&"y"==i?Ir:zr,F=null!=D?D.axisformat||D.format:null,m=f.ticks,V="bottom"==k||"top"==k?m.tickValueObj.longTickSize.height:m.tickValueObj.longTickSize.width,N=m.getTickValues(e.plotarea.width,e.plotarea.height,s,!1,null,f.Ticks,e.plotarea);m.tickValueObj=N;var Y="bottom"==k||"top"==k?m.tickValueObj.longTickSize.height:m.tickValueObj.longTickSize.width,_=m.preCalcTickLen,W=V>Y?Y-V:Y>V?Y-V:0;"bottom"==k||"top"==k?_.height=_.height+W:_.width=_.width+W;var X=m.getTicksforAxisComp();f.component.tickValues(X).tickRotation(N.rotation);var U=m.getActualTicklabel(),G=m.tickValueObj.maxTickSize.horizontal,Z=m.tickValueObj.maxTickSize.vertical,Q=Ei.utils.getVal(at([v.ticklabel,e.systemConf.chart,e.systemConf.canvas,qs],"fontSize")),q="wrapOnSpace"==m.tickValueObj.mode||"wrapAll"==m.tickValueObj.mode,K=f.component.isMultiLineTick(),$=it(v.ticklabel.showAs),J=[null,k,e,N.rotation,v.ticklabel.textOverflow,f.scale,A,f.component,"ticklabel",v.ticklabel,c,!0],et=Ha.apply(null,J),tt=function(t,a){var r=U(a),n=B(D,r,L,e,"axis",null,null,j);d3.select(this).text(n),K?(q&&(n=Za(n,m.tickValueObj.mode,G,Z,Q)),Nt(d3.select(this),n,{orient:k})):$&&it(m.tickValueObj.customTicks[a])&&(this.innerHTML="",Nt(d3.select(this),m.tickValueObj.customTicks[a],null,!0)),et(this,a)};f.component.tickFormat(F&&"auto"==F.specifier?function(e){d3.select(this).text(f.scale.tickFormat()(e))}:tt),f.component.isMultiLineTick()||it(y.showAs)?h.call(f.component,i,c):h.transition().duration(S).call(f.component,i,c);var nt=!h.empty()&&h.style("display")===El&&"y"===i;if(nt&&b(h,f.component,v,u,"y","add"),W&&0!=W){nt||x(k,W);var lt="x"==i?"y":"x";e.updateScale(n,lt),e.drawPlotareaClippath(),e.updatePlotareaProp()}"y"===i?(h.styles({display:null,visibility:"visible"}),p(v,u,f.component,!0)):g(v,c,f.component);var ot=e.plotarea.width;e.axes.rotated||"y"!=i?null:A.selectAll(".y-axis-"+u).selectAll("line.majorTicks").attr("x2","right"!=k?ot:-ot),1==f.component.plotBorderDrawn&&l(k,v,h,f.component)}}else T&&b(h,f.component,v,u,"y","add");else T&&b(h,f.component,v,u,"y","remove")}},Ei.axis.get=function(){function e(a,n,i){return a.each(function(a){var l=Hl(this);g=a.label,h=a.ticklabel,f=a.tickmark,p=a.grid;var m=La(v,n,i),k=m.ticks,O=k.tickValueObj;R=dc(R,0);var A=0>R?360-ml(R):R;A=A>360?ml(A)-360:A,d&&l.selectAll("g.axisgroup").selectAll("*").remove();var D=zt(l,"g",[a],".","class","axisgroup");if(c&&o.ticks(c[0],c[1]),v.isAxisCategory&&"clr"!==n){var j=Ba(v,O,x,n,i);D.attr("clip-path","url("+v.defsLocation+"#"+j+")")}C=v.axes.animationDuration;var M={tickValues:S,tickFormat:P,tickSizeInner:T,tickSizeOuter:E,gridSize:z,tickPadding:L,orient:x,rotation:A,scale:s,chart:v,axis:m};"clr"===n||it(h.showAs)||w?D.call(Aa,M,a):D.transition().duration(C).call(Aa,M,a);var I=D.selectAll(".tick"),H=null==S?s.ticks?s.ticks.apply(s,[I.nodes().length]):s.domain():S,B=D.selectAll(".tick").data(H,s),F=B.select("line.majorTicks"),V=m.axisLabel,N=D.selectAll("text.ticklabel").data(H,s);k.isHierarchialLevelType()&&r(B,n,i);Ya(x,A,N,o,f.size);if("clr"!==n){var Y={data:b.map(function(e){return oc(v.systemConf.metadata.columns[e],{columnindex:e},!0)})};Fa(v,N,h,Y,n,i)}if(k.isHierarchialLevelType()||"between"!=f.align||t(s,B,"minorTicks"),"clr"!==n){g.tooltip===!0&&Bt(V.element),V.transformLabel(y,u,x);var _="left"==x?270:"right"==x?90:0;Ha(V.element,x,v,_,"ellipsis",s,D,e,"axislabel")}if(z&&p.show&&(s.bandwidth&&"between"==f.align&&t(s,B,"majorTicks"),"clr"!==n)){var W=s.range(),X=null==e.tickValues()?null:s(e.tickValues()[0])+(s.bandwidth?s.bandwidth()/2:0),U=v.systemConf.chart.plot.border,G=U===!0?U.color:a.axisline.color;it(X)&&"transparent"!==p.color&&"transparent"!==G&&W[0]===X&&Hl(F.nodes()[0]).style("stroke","transparent")}var Z=a.baseline;if(null!=Z){var Q=zt(D,"line",Z.show===!0&&s.domain()[0]<=Z.value&&Z.value<s.domain()[1]?[1]:[],".","class","zeroBase");Q.attrs({x1:"left"==x||"right"==x?0:s(Z.value),y1:"left"==x||"right"==x?s(Z.value):-u.height,x2:"left"==x||"right"==x?u.width:s(Z.value),y2:"left"==x||"right"==x?s(Z.value):0}).styles({fill:El,stroke:Z.color,"shape-rendering":"crispedges","stroke-width":Z.strokeWidth})}}),e}function t(e,t,r){var n,o,s,c,d=t.nodes(),u=d3.select(t.node()),h=d3.select(d[d.length-1]),g=t.selectAll("line."+r+":not(#minorTicksAlign)"),m=h.selectAll("line."+r),v=zt(u,"line",[1],"#","id",r+"Align"),y=a(e);if("minorTicks"==r?(s="bottom"==x||"top"==x?0:-f.size,c="bottom"==x?f.size:"top"==x?-f.size:0,i(f,v)):(n=z.x1,o=z.y1,s=z.x2,c=z.y2,l(p,v)),e.bandwidth)g.attr("transform","translate("+y.mid+")"),m.attr("transform","translate("+y.end+")"),v.attr("transform","translate("+y.start+")").attrs({x1:n,y1:o,x2:s,y2:c});else{var b=0;g.attr("transform",function(){var t=a(e,b++);return"translate("+t.mid+")"}),m.attr("transform","translate("+y.end+")"),v.attr("transform","translate("+y.start+")").attrs({x1:n,y1:o,x2:s,y2:c})}}function a(t,a){var r,n,i,l,o;if(t.bandwidth){var s=t.bandwidth(),c=(t.range(),t.ordinalRange),d=t.outerPaddingPx+s/2,u=t.domain().length>1?c[1]-c[0]-s:0;l=s/2+u/2,o=pl(d,l)}else{var h=v.dataObject.hierarchical?v.dataObject.hierarchical.leafCategories:e.tickValues(),f=Ei.scale.getContinuousRangeBand(t,h,a),s=f.rangeBand;l=s,o=f.outerPaddingInPixel}return"bottom"===x||"top"==x?(r=-(o-.5)+",0",n=l+.5+",0",i=o+.5+",0"):(r="0,"+-o,n="0,"+l,i="0,"+o),{start:r,mid:n,end:i}}function r(e,t,a){var r=La(v,t,a),l=r.component,o=e.selectAll("line.minorTicks"),s=n(t,a);r.ticks.tickValueObj.tickMarkSize=s+l.tickSize();var c=a,d="left"==x||"right"==x?"x1":"y1",u="left"==x||"top"==x?s:-s,h="left"==x?"y1":"x1";if(c===v.dataObject.hierarchical.finalDepth){var g=("bottom"==x?f.size:0,e.nodes());e.selectAll("line#minorTicksAlign").remove();var p=d3.select(g[g.length-1]),m=zt(p,"line",[1],"#","id","minorTicksAlign"),y=v.axes.x.levels[c-1].scale,b=y.domain().length,w="top"==x||"bottom"==x?y.discreteWidth(b-1)+",0":"0,"+y.discreteWidth(b-1),C="left"==x||"right"==x?"x2":"y2",k="left"==x||"top"==x?-f.size:f.size;m.attr("transform","translate("+w+")").attr(d,u).attr(C,k),i(f,m)}o.attr(h,null),o.attr(d,u)}function n(e,t){for(var a=0;t>0;){var r=La(v,e,t-1),n=r.component;a+=n.tickLabelWidth(),t--}return a}function i(e,t){t.styles({fill:"none","shape-rendering":"crispedges","stroke-width":e.strokeWidth,stroke:e.color})}function l(e,t){var a=dc(e.strokeWidth,1),r=O(e.style,a),n=A(e.lineCap,p.style);t.styles({fill:"none","shape-rendering":"crispedges","stroke-width":a,stroke:p.color,"stroke-dasharray":r,"stroke-linecap":n})}var o,s,c,d,u,h,f,g,p,m,v,y,x,b,w,C,k=[],S=null,P=null,T=6,E=6,L=3,z=null,D=null,R=0;return e.axis=o,e.scale=function(t){return arguments.length?(s=t,o?o.scale(s):(o=Nl(x,s),o.scale(s)),e):s},e.systemconf=function(t){return arguments.length?(m=t,e):m},e.orient=function(t){return arguments.length?(it(x)&&x!=t&&(d=!0,v.container.selectAll("g.plotareaBorder-property").selectAll("*").remove(),o=null),x=t,e):x},e.tickArguments=function(t){return arguments.length?(k=null==t?[]:Array.prototype.slice.call(t),e):k.slice()},e.tickValues=function(t){return arguments.length?(S=null==t?null:Array.prototype.slice.call(t),e):S&&S.slice()},e.tickFormat=function(t){return arguments.length?(P=t,e):P},e.tickSize=function(t){return arguments.length?(T=E=+t,e):T},e.tickSizeInner=function(t){return arguments.length?(T=+t,e):T},e.tickSizeOuter=function(t){return arguments.length?(E=+t,e):E},e.tickPadding=function(t){return arguments.length?(L=+t,e):L},e.ticks=function(){return arguments.length?(c=arguments,e):c},e.majorTicks=function(t){return arguments.length?(z=t,e):z},e.plotarea=function(t){return arguments.length?(u=t,e):u},e.tickLabelWidth=function(t){return arguments.length?(D=t,e):D},e.tickRotation=function(t){return arguments.length?(R=t,e):R},e.preCalcTickLen=function(t){return arguments.length?(y=t,e):y},e.chartObj=function(t){return arguments.length?(v=t,e):v},e.columnIndices=function(t){return arguments.length?(b=t,e):b},e.isMultiLineTick=function(t){return arguments.length?(w=t,e):w},e};var fc=function(e){e=dc(e,{}),this.startWeekDay=it(e.startWeekDay)?e.startWeekDay:1,this.startMonth=it(e.startMonth)?e.startMonth:0};fc.MILLISEC=0,fc.SECOND=1,fc.MINUTE=2,fc.HOUR=3,fc.DATE=4,fc.MONTH=5,fc.SECOND_TYPE="ABSSECOND",fc.MINUTE_TYPE="ABSMINUTE",fc.HOUR_TYPE="ABSHOUR",fc.DAY_TYPE="ABSDAY",fc.DATETIME_TYPE="DATETIME",fc.DATE_TYPE="DATE",fc.ABSWEEK_TYPE="ABSWEEK",fc.ABSMONTH_TYPE="ABSMONTH",fc.ABSQUARTER_TYPE="ABSQUARTER",fc.ABSYEAR_TYPE="YEAR",fc.D3_WEEKDAY_FNS=[ko,Oo,Ao,So,Po,To,Eo],fc.DAY_MILLIS=864e5,fc.prototype.setZero=function(e,t){for(var a=0,r=0;t>=r;r++)switch(r){case fc.MILLISEC:a+=this.getMilliseconds(e),this.setMilliseconds(e,0);break;case fc.SECOND:a+=this.getSeconds(e),this.setSeconds(e,0);break;case fc.MINUTE:a+=this.getMinutes(e),this.setMinutes(e,0);break;case fc.HOUR:a+=this.getHours(e),this.setHours(e,0);break;case fc.DATE:a+=this.getDate(e)-1,this.setDate(e,1);break;case fc.MONTH:a+=this.getMonth(e),this.setMonth(e,this.startMonth);break;default:throw"unknown type 333: "+t}return a},fc.prototype.getBaseValue=function(e,t,a){switch(t){case fc.SECOND_TYPE:case fc.DATETIME_TYPE:var r=this.setZero(e,fc.MILLISEC);a&&r>0&&this.setSeconds(e,this.getSeconds(e)+1);break;case fc.MINUTE_TYPE:var r=this.setZero(e,fc.SECOND);a&&r>0&&this.setMinutes(e,this.getMinutes(e)+1);break;case fc.HOUR_TYPE:var r=this.setZero(e,fc.MINUTE);a&&r>0&&this.setHours(e,this.getHours(e)+1);break;case fc.DAY_TYPE:case fc.DATE_TYPE:var r=this.setZero(e,fc.HOUR);a&&r>0&&this.setDate(e,this.getDate(e)+1);break;case fc.ABSWEEK_TYPE:var r=this.setZero(e,fc.SECOND),n=this.startWeekDay;a?(r>0&&this.setDate(e,this.getDate(e)+1),n<this.getDay(e)?this.setDate(e,this.getDate(e)+(7-this.getDay(e)+n)):this.setDate(e,this.getDate(e)+(n-this.getDay(e)))):n>this.getDay(e)?this.setDate(e,this.getDate(e)-(7-n+this.getDay(e))):this.setDate(e,this.getDate(e)-(this.getDay(e)-n));break;case fc.ABSQUARTER_TYPE:case fc.ABSMONTH_TYPE:var r=this.setZero(e,fc.DATE);a&&r>0&&this.setMonth(e,this.getMonth(e)+1);break;case fc.ABSYEAR_TYPE:var r=this.setZero(e,fc.MONTH);a&&r>this.startMonth&&this.setFullYear(e,this.getFullYear(e)+1);break;default:throw"unknow type 222: "+t}},fc.prototype.getTicksList=function(e,t,a,r){for(var n=new Array,i=t.getTime(),l=e.getTime(),o=new Date(l);i>=l;){switch(n.push(o),o=new Date(l),r){case fc.SECOND_TYPE:case fc.DATETIME_TYPE:o.setTime(o.getTime()+1e3*hl(a));break;case fc.MINUTE_TYPE:o.setTime(o.getTime()+6e4*a);break;case fc.HOUR_TYPE:o.setTime(o.getTime()+36e5*a);break;case fc.DAY_TYPE:case fc.DATE_TYPE:o.setTime(o.getTime()+a*fc.DAY_MILLIS);break;case fc.ABSWEEK_TYPE:this.setDate(o,this.getDate(o)+a);break;case fc.ABSMONTH_TYPE:case fc.ABSQUARTER_TYPE:this.setMonth(o,this.getMonth(o)+a);break;case fc.ABSYEAR_TYPE:this.setFullYear(o,this.getFullYear(o)+a)}l=o.getTime()}return n},fc.prototype.range=function(e,t,a,r,n){function i(e,t){return null!=t&&t>=e?t:e}switch(e=new Date(e.getTime()),t=new Date(t.getTime()),this.getBaseValue(e,r,!1),this.getBaseValue(t,r,!0),r){case fc.SECOND_TYPE:case fc.DATETIME_TYPE:var l=1,o=fl((t.getTime()-e.getTime())/1e3),s=fl(o/a)||l;return s=i(s,n),{TYPE:Lo,INTERVAL:s,TICKS:this.getTicksList(e,t,s,r)};case fc.MINUTE_TYPE:var l=1,s=fl((t.getTime()-e.getTime())/(6e4*a))||l;return s=i(s,n),{TYPE:zo,INTERVAL:s,TICKS:this.getTicksList(e,t,s,r)};case fc.HOUR_TYPE:var l=1,s=fl((t.getTime()-e.getTime())/(36e5*a))||l;return s=i(s,n),{TYPE:zo,INTERVAL:s,TICKS:this.getTicksList(e,t,s,r)};case fc.DAY_TYPE:case fc.DATE_TYPE:var l=1,s=fl((t.getTime()-e.getTime())/(a*fc.DAY_MILLIS))||l;return s=i(s,n),{TYPE:Do,INTERVAL:s,TICKS:this.getTicksList(e,t,s,r)};case fc.ABSWEEK_TYPE:var l=1,c=fl((t.getTime()-e.getTime())/(a*fc.DAY_MILLIS*7));c=i(c,n);var s=7*fl(c)||l;return{TYPE:Ro,INTERVAL:s,TICKS:this.getTicksList(e,t,s,r)};case fc.ABSMONTH_TYPE:var l=1,s=fl(this.getMonthsDiff(e,t)/a)||l;return s=i(s,n),{TYPE:jo,INTERVAL:s,TICKS:this.getTicksList(e,t,s,r)};case fc.ABSQUARTER_TYPE:var l=1,d=this.getMonthsDiff(e,t)/a||l,u=fl(d/3);u=i(u,n);var s=3*u;return{TYPE:jo,INTERVAL:s,TICKS:this.getTicksList(e,t,s,r)};case fc.ABSYEAR_TYPE:var l=1,s=fl((t.getFullYear()-e.getFullYear())/a)||l;return s=i(s,n),{TYPE:Mo,INTERVAL:s,TICKS:this.getTicksList(e,t,s,r)};default:throw"UNKNOWN TYPE 111: "+r}},fc.MAX_DATE=new Date(2008,8,29,23,23,23,999),fc.prototype.getMaxDate=function(e,t){return zr(e,fc.MAX_DATE,Wo,null,"axis",null,null,t)},fc.prototype.getMonthsDiff=function(e,t){return 12*(this.getFullYear(t)-this.getFullYear(e))+(this.getMonth(t)-this.getMonth(e))},fc.prototype.getYearsDiff=function(e,t){return 12*(this.getFullYear(t)-this.getFullYear(e))+(this.getMonth(t)-this.getMonth(e))},fc.prototype.getFullYear=function(e){return null!=this.useUTC&&this.useUTC?e.getUTCFullYear():e.getFullYear()},fc.prototype.getMonth=function(e){return null!=this.useUTC&&this.useUTC?e.getUTCMonth():e.getMonth()},fc.prototype.getDay=function(e){return null!=this.useUTC&&this.useUTC?e.getUTCDay():e.getDay()},fc.prototype.getDate=function(e){return null!=this.useUTC&&this.useUTC?e.getUTCDate():e.getDate()},fc.prototype.getHours=function(e){return null!=this.useUTC&&this.useUTC?e.getUTCHours():e.getHours()},fc.prototype.getMinutes=function(e){return null!=this.useUTC&&this.useUTC?e.getUTCMinutes():e.getMinutes()},fc.prototype.getSeconds=function(e){return null!=this.useUTC&&this.useUTC?e.getUTCSeconds():e.getSeconds()},fc.prototype.getMilliseconds=function(e){return null!=this.useUTC&&this.useUTC?e.getUTCMilliseconds():e.getMilliseconds()},fc.prototype.setFullYear=function(e,t){return null!=this.useUTC&&this.useUTC?e.setUTCFullYear(t):e.setFullYear(t)},fc.prototype.setMonth=function(e,t){return null!=this.useUTC&&this.useUTC?e.setUTCMonth(t):e.setMonth(t)},fc.prototype.setDate=function(e,t){return null!=this.useUTC&&this.useUTC?e.setUTCDate(t):e.setDate(t)},fc.prototype.setHours=function(e,t){return null!=this.useUTC&&this.useUTC?e.setUTCHours(t):e.setHours(t)},fc.prototype.setMinutes=function(e,t){return null!=this.useUTC&&this.useUTC?e.setUTCMinutes(t):e.setMinutes(t)},fc.prototype.setSeconds=function(e,t){return null!=this.useUTC&&this.useUTC?e.setUTCSeconds(t):e.setSeconds(t)},fc.prototype.setMilliseconds=function(e,t){return null!=this.useUTC&&this.useUTC?e.setUTCMilliseconds(t):e.setMilliseconds(t)},function(e){"use strict";function t(e){return{top:dc(e.marginTop,5),right:dc(e.marginRight,5),bottom:dc(e.marginBottom,5),left:dc(e.marginLeft,5)}}function r(e){var t=e.alignMode,a=e.alignMode&&-1!=e.alignMode.indexOf("rotate"),r=it(e.rotation),n=0;if(a){var i=/\(([^)]+)\)/.exec(t);n=i?parseInt(i[1]):"auto"}else r&&!it(e.alignMode)?(n="auto"==e.rotation?e.rotation:parseInt(e.rotation),t="rotate",a=!0):it(e.alignMode)||(t="rotate(0)",a=!0);return{alignmentMode:t,isRotateMode:a,rotation:n}}function n(e,t,a,r){var n=e.length;t=ul(t),a=a||fl(n/ml(t));for(var i=0,l=[],o=r?[]:null,s=r?[]:null,c=r?it(e[0].index):!1;n>i;)r?c?(l.push(e[i].value),o.push(e[i].index),s.push(e[i])):(l.push(e[i]),o.push(i)):l.push(e[i]),i+=a;return r?{nodes:s,ticks:l,indices:o}:l}function i(e,t,r,n,i,l){var o=[],s=[],c=[],d={data:[r]};return r.columnindex=dc(r.columnindex,i),e.forEach(function(e,r){var i=tt(t.showAs,e,t,d,n,r,l),u=[],h=[];if(a(i)?(o.push(u),s.push(h)):(u=o,h=s),c.push(i),it(i)){var f=document.createElement("div");f.innerHTML=i;var g=et(f.querySelectorAll("tspan")),p=f.querySelectorAll("image,img");g.length?g.forEach(function(e){u.push(e.textContent.trim()),h.push({fontSize:e.style.fontSize&&parseFloat(e.style.fontSize),fontFamily:e.style.fontFamily,fontStyle:e.style.fontStyle,fontWeight:e.style.fontWeight})}):u.push(f.textContent),p.length&&et(f.querySelectorAll("image,img")).forEach(function(e){u.push({width:+e.getAttribute("width"),height:+e.getAttribute("height")}),h.push({})})}}),{tickValues:o,styles:s,userRawTicks:c}}function l(e,t,a,r,n,i,l){sl.save(),sl.font=a+"px "+r;var o,s,c,d=0,u=null,h=null;n=dc(n,[]),it(t)||(t=[]);var f=function(e,f){var g=Ga(e,a,r,n[f]),p=g.width;i&&(p=g.width*g.height),l&&!s&&(s=-1!=e.indexOf(" ")),p>d&&(d=p,u=e,h=t[f],o=n[f],c=f)};return e.forEach(f),sl.restore(),{actualVal:h,formattedVal:u,style:o,index:c,hasWhiteSpace:s}}function o(e,t,a){return"rotate("+e+" "+(t||0)+" "+(a||0)+")"}function s(e,t,a,r,n,i){var l=0;return l="height"===e?Math.abs(n+a.top+a.bottom):r>0?h(r,t.width,n,i).tickSpacing+a.left+a.right:t.width+a.left+a.right}function c(e,t){return t[Pa(e)]}function d(e,t,a){var r=dc(a.size,6),n=c(e,t),i={x:0,y:0};switch(e){case"left":i.x=-(n+r);break;case"top":i.y=-(n+r);break;case"right":i.x=n+r;break;default:i.y=n+r}return i}function u(){var e={};return e.x=e.y=e.width=e.height=0,e}function h(e,t,a,r){var n=e*(2*Sl/360),i=(90-e)*(2*Sl/360);if("bottom"===r||"top"===r)return{tickSpacing:ml(a/bl(n))+5,baseLen:0};var l=ml(bl(i)*a),o=ml(xl(i)*a*Cl(n));return{tickSpacing:l+o+5,baseLen:ml(xl(i)*t)}}function f(e,t,a,r,n,i){var l=a.dataObject,o=t.minmaxlabels||{};if(o.show===!0){var s=Ei.scale.getScale(a,l,a.plotarea,i,n,a.dataset,r),c=s.domain();rt(o.excludeIntervals,!0)?e=c:(c[0]!==e[0]&&e.splice(0,0,c[0]),c[1]!==e[e.length-1]&&e.push(c[1]))}return e}function g(e,t,a,r){var n=[1,2,5,10],i=n.length,l=e+t/2;l=+l.toFixed(12);for(var o,s,c=0;i>c;c++){var d,u=a/n[c];d=e%u?e-e%u+u:e;var h=ml(l-d);(o>h||null==o)&&(o=h,s=d)}if(null==s||e>s){var f=hl(wl(r)/Ol);0>f&&(s=+e.toFixed(ml(pl(0,f)))),s=e}return s=s>e?s:e}function p(e,t){for(var a,r,n=null,i=t,l=[1,1.2,1.5,1.75,2,2.2,2.5,3,3.5,4,4.5,5,6,7,8,9,10],o=0;o<l.length;o++)r=l[o]*t,a=ml(e-r),n=null==n?a:n,n>a&&e>=r&&(n=a,i=r);return i}function m(e,t){var a=y(e);return it(t)&&(a=gl(t,a)),fl(e[0]/a)*a}function v(e){return fl(y(e))}function y(e,t){var a=it(t)?t:10,r=e[1]-e[0],n=vl(10,hl(wl(r/a)/Ol)),i=a/r*n;return.15>=i?n*=10:.35>=i?n*=5:.75>=i&&(n*=2),n}var x=e.axis,b=function(e,t,a,r){this.axis=e,this.config=e.label,this.axisRect=t.bound,this.parentNode=r.isD3Selection?r:d3.select(r),this.orient=a,this.systemConfig=t.systemConf,this.order=t.axisOrder,this.plotRect=t.plotRect,this.show=!t.hide,this.show?this.add():this.element=zt(this.parentNode,"text",[],".","class","axislabel")};b.prototype={add:function(){var e=this;e.element=zt(e.parentNode,"text",[1],".","class","axislabel"),e.text=e.config.text,e.element.text(e.text),e.rect=null,e.transformLabel()},remove:function(){var e=this;e.rect=null,e.element=zt(e.parentNode,"text",[],".","class","axislabel")},setStyles:function(){var e=this,t=e.systemConfig;Ht(e.element,[e.config,t.chart,t.canvas,qs])},getBBox:function(){var e=this;if(!it(e.rect)){if(!e.element.isD3Selection||e.element.empty())return u();e.rect=e.element.node().getBBox()}return e.rect},transformLabel:function(e,a,r){function n(e,t,a,r,n){r=dc(r,0),n=dc(n,0),i.element.attrs({x:t,y:a,transform:o(e,r,n),"text-anchor":u})}var i=this;if(i.show!==!0)return i.remove();if(i.element.empty()&&i.show===!0||i.text!==i.config.text)return i.add();i.setStyles();var l,s,c={top:0,right:90,bottom:0,left:270},d=i.systemConfig,u="middle",h=dc(r,i.orient),f=c[h],g=dc(e,this.axisRect),p=dc(a,this.plotRect),m=i.axis.ticklabel,v=i.config,y=t(m),x=t(v),b=parseFloat(Ei.utils.getVal(at([i.config,d.chart,d.canvas,qs],"fontSize")));switch(i.fontSize!==b?i.rect=null:i.fontSize=b,i.element.attr("dy","-0.25em"),h){case"top":l=p.width/2,s=g.height+y.top+x.bottom,n(f,l,-s);break;case"right":l=p.height/2,s=g.width+y.right+x.left,n(f,l,-s);break;case"bottom":l=p.width/2,s=g.height+y.bottom+x.top,i.element.attr("dy","0.91em"),n(f,l,s);break;case"left":l=g.width+y.left+x.right,s=p.height/2,n(f,-l,s,-l,s)}}};var w=function(e,t,a,r,n){this.type=e,this.config=t.ticklabel,this.axis=t,this.plotRect=a,this.helpers=r,this.tickCount=n,this.maxSize=function(){return _a(this.config,this.plotRect)},this.cache={}};w.prototype={getScale:function(){var e=this,t=e.helpers.chart,a=e.helpers;return Ei.scale.getScale(t,t.dataObject,e.plotRect,a.orient,a.axisOrder,t.dataset,e.type,e.extent)},getTicks:function(e,o,c){function u(e){if("auto"==mt){var t=b(ca,0);if(t.maxTickCount<e){var a=$==_o?w(ca):b(ca,45,!0);if(a.maxTickCount<e){var r=b(ca,45,!0);return r.maxTickCount<e&&R.hasWhiteSpace?C(ca):r}return a}return t}return vt?b(ca):"zigzag"==mt?w(ca):"wrapOnSpace"==mt?C():"wrapAll"==mt?k():void 0}function x(e,t,a){var r,n,i,l,o=0,s=Wn(H.chart,xt,I.plotRect);if("x"===a&&(o=s*At*2),r=s-o,i=!!e,l=t||ca,i){if("height"===xt&&(90===e||270===e))return r/(l.width+ml(ut.top)+ml(ut.bottom));var c=e%90,d="height"===xt?c>0:c>0||90===e||270===e;if(d){var u=h(e,l.width,l.height,H.orient);return r/(u.tickSpacing+ml(ut.left)+ml(ut.right))}}return n="height"===xt?l.height+ml(ut.top)+ml(ut.bottom):l.width+ml(ut.left)+ml(ut.right),r/n}function b(e,t,a){var r,n=it(t)?t:kt;return"auto"===n?(kt=0,r=x(kt,e,_),!sa&&G>r?"width"===xt?(kt=H.chart.axes.x.count>1&&"x"==_&&0==q?90:45,r=x(kt,e,null),a=!0):a=!0:a=!1):(r=x(n,e,_),kt=n),{mode:"rotate",rotation:kt,maxTickCount:r,recalculate:a}}function w(e){var t=x(0,e,_);return{mode:"zigzag",rotation:0,maxTickCount:2*t}}function C(){if("auto"==mt){z=z.map(function(e){return e.split(" ")});var e=l(z,Q,ft,gt,Lt.styles);it(Pt)||(Pt=e.formattedVal);var t=Ga(Pt,ft,gt,e.style,!0)}var a=x(kt,t,_);return{mode:"wrapOnSpace",maxTickCount:a,rotation:kt}}function k(){var e=x(kt,ca,_);return{mode:"wrapAll",maxTickCount:e,rotation:kt}}var O,A,S,P,T,E,L,z,D,R,j,M,I=this,H=dc(c,I.helpers),B=H.chart,F=B.systemConf,V=B.dataObject,N=I.plotRect=dc(e,I.plotRect),Y=I.axis,_=I.type,W=Y.interval,X=Y.tickCount,U=Y.interval,G=dc(o,0),Z=c.extent,Q=Z,q=H.axisOrder,K=H.axisRotated,$=B.dataset.getDataType(_,q),et=B.systemConf.metadata,tt=B.dataset.getColumnIdx(_,q),rt=et.columns[tt],nt=et.columns[tt].datatype,lt="y"==_?et.axes.y[q].length>1:!1,ot=et.columns[tt],st=dc(lt&&"y"==_?Sa(q,B):ot[nt],{}),ct=st.subfunction,dt="y"===_&&(B.dataObject.isStackedPercentChart||B.dataObject.isPercentChart)?Ir:zr,ut=t(I.config),ht=d(H.orient,ut,I.axis.tickmark),ft=parseFloat(Ei.utils.getVal(at([I.config,F.chart,F.canvas,qs],"fontSize"))),gt=Ei.utils.getVal(at([I.config,F.chart,F.canvas,qs],"fontFamily")),pt=r(I.config),mt=pt.alignmentMode,vt=pt.isRotateMode,yt=pt.rotation,xt=Ta(_,K)?"height":"width",wt=za(B,this.type,q,yt),Ct=B.axes.x.count>1&&"x"==_&&q>0,kt=Ct?0:yt,Ot=B.chartTypes[0].name,At=B.systemConf.chart.plot.plotoptions[Ot].outerPadding||0,St=B.systemConf.chart.plot.plotoptions[Ot].padding||.2,Pt=null,Tt=Wn(H.chart,xt,N),Et="x"===_?Tt*At*2:0,Lt={},zt=c.maxTickSize||this.maxSize(),Dt=a(st.groupby)&&st.groupby.length>0||"AUTO"===st.groupby&&"YEAR"!==ct,Rt=Dt?q:null;switch(Dt&&"AUTO"===st.groupby&&(st.AUTO_GROUP_ORDER=Ei.HierarchicalTimeDataAdapter.getAutoGroupOrder(ct).reverse()),wt||(0>kt?kt=360-ml(kt):kt>360&&(kt=ml(kt)%360)),$){case"numeric":A=it(Z)?Z:"x"===_?V.getMinMaxX():V.getMinMaxY(H.axisOrder,cl,B.datalabels.hasFixedPosition);var jt;if("y"===_&&B.datalabels.hasFixedPosition){var Mt=V.rangeCorrections.datalabels,It=_+H.axisOrder;J(Mt[It])&&(Mt[It]=hd(_,V.groupedDataBySplitAxes[H.axisOrder],B)),jt=Mt[It]}else jt=0;"height"===xt?(D=N.height-jt,G=G||ul(D/40),O=[D,0]):(D=N.width-jt,G=G||ul(D/100),O=[0,D]),it(X)&&(U=(A[1]-A[0])/X);var Ht,Bt,Ft,Vt,Nt;if(Nt=it(W)&&(A[1]-A[0])/W<D,S=Ul().domain(A).range(O),Nt){if(Ht=hl((A[1]-A[0])/U)){if(Bt=y(A,Ht),Ft=fl(A[0]/Bt)*Bt,Ft-A[0]>U){var Yt=vl(10,hl(wl(U)/Ol)),_t=hl((Ft-A[0])/Yt);Ft-=_t*Yt}}else{var Wt=A[1]-A[0],Yt=vl(10,hl(wl(Wt)/Ol));Ft=A[0]-A[0]%Yt+Yt}Q=Co(Ft,A[1],U)}else if(+X>0)if(1===X)Bt=y(A,1),Ft=Math.ceil(A[0]/Bt)*Bt,Q=[Ft];else{var Ft,Vt,Xt,Ut=X-1,Wt=A[1]-A[0],Bt=Wt/Ut,Gt=hl(wl(Bt)/Ol),Zt=vl(10,Gt);Zt*=Math.floor(Bt/Zt),Zt=+Zt.toFixed(12);var Qt=p(U,Zt,Ut);Ft=A[0],Vt=A[1],Xt=Wt-Qt*Ut;var qt=vl(10,hl(wl(Xt)/Ol)+1);Ft=g(Ft,Xt,qt,Qt),Ft=+Ft.toFixed(12),Vt=Ft+Qt*X,Vt=+Vt.toFixed(12),Q=Co(Ft,Vt,Qt)}else Q="integer"===ct?Co(m(A,1),A[1],v(A)):S.ticks(G);Q=f(Q,I.config,B,_,H.axisOrder,H.orient),G=Q.length;break;case"ordinalNonLinear":case"ordinal":var Kt,$t=ft,Jt=V.hierarchical;if(T=it(Jt)&&Jt.categoryTree&&"x"==_&&0==q||V.isWaterfallEnabled,L=T&&("auto"==H.chart.systemConf.chart.width||"auto"==H.chart.systemConf.chart.height),it(Q)||(Q=V.getCategories(_,H.axisOrder).slice(0)),T&&it(Jt)&&(Q=V.hierarchical.leafNodes),nt===Wo&&!it(ct)){var ea=Ur(Q[Q.length-1]-Q[0]);ct=st.subfunction=ea.subFunction}G=Q.length,j={},j.width=j.height=ft,M=s(xt,j,ut,kt,ft,H.orient),Kt=ul((Tt-Et)/M),G>Kt&&"width"===xt&&(kt||I.config.rotation>0)&&(M=h(45,ft,$t,H.orient).tickSpacing+ut.left+ut.right),"x"==_&&q>0||L||(G>X?Q=n(Q,X,null,T):it(U)?Q=n(Q,G,U,T):G>Kt&&(Q=n(Q,Kt,null,T))),T&&(P=Q.nodes||Q,E=Q.indices,Q=Q.ticks||V.getCategories(_,H.axisOrder).slice(0)),G=Q.length;break;case"time":var ta=Wa(st);if(!ta){var aa,ra,na;if(A=it(Z)?Z:"x"===_?V.getMinMaxX(0):V.getMinMaxY(H.axisOrder,0),aa=new Date(A[0]),ra=new Date(A[1]),it(ot[nt])||(ot[nt]=st),!it(ct)||"AUTO"===ct){var ea=Ur(ra-aa);ct=st.subfunction=ea.subFunction}na=new fc(st),na.useUTC=st.useUTC===!0,Pt=na.getMaxDate(st,Rt),Pt=Za(Pt,mt,zt.horizontal,zt.vertical,ft),j=Ga(Pt,ft,gt),M=s(xt,j,ut,kt,ft,H.orient),G=(Tt-Et)/M;var ia=na.range(aa,ra,fl(G),ct,U,B);Q=f(ia.TICKS,I.config,B,_,H.axisOrder,H.orient),G=ia.TICKS.length;break}var la=Ei.scale.getScale(B,V,N,H.orient,H.axisOrder,B.dataset,_,null);Q=la.ticks(),z=Q.map(function(e){return la.tickFormat()(e)}),G=Q.length}if("ordinalNonLinear"===$){var z=ta?z:bt(Q,dt,st,B,nt,"axis",Rt,mt,zt,ft);it(I.config.showAs)&&(Lt=i(Q,I.config,rt,B,tt,q),z=Lt.tickValues,Lt.length=z.length);var R=l(z,Q,ft,gt,Lt.styles);return{rawTickValues:Q,formatterTickValues:z,longestTickValue:R,scale:I.getScale(),longestTickDimension:Ga(R.formattedVal,ft,gt),margin:ut,tickMargin:ht,rotation:kt,customTickInfo:Lt,mode:mt,maxTickSize:zt}}S=I.getScale();var oa=S.actualRange,sa=oa&&oa[0]===oa[1];sa&&(Q=[S.invert(oa[0])]),z=ta?z:bt(Q,dt,st,B,nt,"axis",Rt,mt,zt,ft),it(I.config.showAs)&&(Lt=i(Q,I.config,rt,B,tt,q),z=Lt.tickValues,Lt.length=z.length),R=l(z,Q,ft,gt,Lt.styles),it(Pt)||(Pt=R.formattedVal);var ca=Ga(Pt,ft,gt,R.style,!0),da=_a(I.config,B.chartarea);ca.width=pl(ca.width,da.horizontal),ca.height=pl(ca.height,da.vertical),L&&I.recalculatePlotSize(H.chart,Tt,ca,xt,G,ut,St,At);var ua=u(G),ha=ua.mode,fa=ua.maxTickCount;if(kt=ua.rotation,!sa&&(G>fa||ua.recalculate))if($===Wo)if(ta){var la=Ei.scale.getScale(B,V,N,H.orient,H.axisOrder,B.dataset,_,null);Q=la.ticks(fa),G>fa&&(kt=45),z=Q.map(function(e){return la.tickFormat()(e)}),R=l(z,Q,ft,gt,Lt.styles)}else ia=na.range(aa,ra,fa,ct,U,B),Q=f(ia.TICKS,I.config,B,_,H.axisOrder,H.orient),z=bt(Q,dt,st,B,nt,"axis",Rt,mt,zt,ft);else G>fa&&(T?(Q=n(P||Q,fa,null,T),E=Q.indices,Q=Q.ticks):(Q=n(Q,fa),I.config.showAs&&(Lt.styles=n(Lt.styles,fa),Lt.userRawTicks=n(Lt.userRawTicks,fa))),z=n(z,fa),R=l(z,Q,ft,gt,Lt.styles));nt===Wo&&Dt&&(Dt&&!it(V.hierarchical)?V.hierarchical=new Ei.HierarchicalTimeDataAdapter(B,Q,st.groupby,$!==Wo,rt):Dt&&V.hierarchical.update(Q)),(it(Lt.styles)||st&&st.format&&st.format.breakSpace)&&(R=l(z,Q,ft,gt,Lt.styles,!0));var ga=Ga(Pt,ft,gt,R.style);return{rawTickValues:Q,formatterTickValues:z,longestTickValue:R,scale:S,longestTickDimension:ga,margin:ut,tickMargin:ht,rotation:kt,mode:ha,tickValueIndices:E,customTickInfo:Lt,maxTickSize:zt}},recalculatePlotSize:function(e,t,a,r,n,i,l,o){var s,c,d;"height"===r?(s=a[r]+i.top+i.bottom,c=s*n,t=[c,0]):(s=a[r]+i.left+i.right,c=s*n,t=[0,c]),d=Ma(t,n,l,o,s),c+=d,e.systemConf.chart[r]=c}},x.Ticks=w,x.AxisLabel=b}(Ei),Ei.axis.Ticks.prototype.ticklabelFitModels=function(e,t){var a={},r=e.length;return a.zigzag={},a.rotate={},a.type=r>t?t>2*r?"zigzag":"rotate":"default",a},Ei.axis.ticks=function(e,t,a,r,n,i){"use strict";function l(){return o()&&r>0}function o(){return"x"==a&&e.axes.x.count>1}function s(t,a,i,l,o,s,u,f){var p,m=a,v=b===Wo&&Wa(W),y=o.formatterTickValues;g=o.rawTickValues;var x,w,C=o.longestTickValue,O=o.maxTickSize,A=o.tickValueIndices,E=o.scale;it(o.customTickInfo)&&o.customTickInfo.length&&(x=o.customTickInfo.styles,w=o.customTickInfo.userRawTicks);var L=(c(n),wt(y)),z=function(e,t){var a,r;return it(x)&&(a=x[t]),r=Ga(e,S,P,a),u?r.width*r.height:"left"==n||"right"==n?r.width:r.width*r.height};if(!s){i.append("line").attr("class","domain").attrs({x1:0,y1:0,x2:"bottom"==n||"top"==n?t.width:1e-4,y2:"bottom"==n||"top"==n?1e-4:t.height}).style("stroke","black");
var D=k.textOverflow==El?"":k.textOverflow,R=!1,j=-1,M=C.actualVal,I=C.formattedVal;u&&(I=d(o.longestTickValue,null,o)),Nt(a,I,null,u),h(a,f,o);var H=(E(M)||0)+(null==E.bandwidth?0:E.bandwidth()/2);H="bottom"==n||"top"==n?H+",0":"0,"+H,l.attr("transform","translate("+H+")"),Ha(a,n,{svg:e.svg,canvasarea:e.canvasarea,plotarea:t,chartarea:e.chartarea,legendarea:e.legendarea,actChartObj:e},T,D,E,i,null,"ticklabel",k,r);var B,F,V;for(F=B=u?I:_t(a);"ordinalNonLinear"!=b&&!R&&j<g.length;){j+=1;var H=(E(M)||0)+(null==E.bandwidth?0:E.bandwidth()/2);H="bottom"==n||"top"==n?H+",0":"0,"+H,l.attr("transform","translate("+H+")"),Ha(a,n,{svg:e.svg,canvasarea:e.canvasarea,plotarea:t,chartarea:e.chartarea,legendarea:e.legendarea,actChartObj:e},T,D,E,i,null,"ticklabel",k,r),B=_t(a),z(B,j)>z(F,j)&&(I=B,u&&(I=d(null,j,o)),F=I),Nt(a,F,null,u);var N=!g.length||j===g.length-1||1===g.length;V=N?null:v?L[j]:L[j]||"";var Y=N?!1:z(B,j)<z(V,j);Y?(M=L[j],B=V,I=V,u&&(I=d(null,j,o)),Nt(a,I,null,u)):R=!0}}var _=m.node().getBoundingClientRect(),X=i.node().getBoundingClientRect();return p={ticks:g,rotation:T,longTickSize:_,longtick:C,axisgroup:X,customTicks:w,mode:o.mode,maxTickSize:O},A&&(p.tickValueIndices=A),p}function c(e){switch(e){case"left":return j;case"right":return M;case"bottom":return H;case"top":return I}}function d(e,t,a){return a.customTickInfo.userRawTicks[it(t)?t:e.index]}function u(e,t,a,r,n,i){var l=zt(e,"text",[1],".","class","dummyText");return l.attrs({x:a.x||0,y:a.y||0,dy:a.dy||0}).attr("transform","rotate("+r+" "+a.x+" "+a.y+")"),n?t=d(i.longestTickValue,null,i):l.text(t),Nt(l,t,null,n),Ht(l,[k,m.chart,m.canvas,qs]),l}function h(e,t,a){e.attrs({dy:"zigzag"==a.mode?t.dy1||t.dy:t.dy,transform:"rotate("+t.rotate[0]+" "+t.rotate[1]+" "+t.rotate[2]+")"}).styles({"text-anchor":t.textAnchor})}var f={};Ei.axis.ticks.maxTickSizeRatio_Vert="50%",Ei.axis.ticks.maxTickSizeRatio_Hori="50%";var g,p=e.dataObject,m=e.systemConf,v=e.svg,y=e.canvasarea["bottom"==n||"top"==n?"height":"width"],x={top:5,right:5,bottom:5,left:5};f.isHierarchy=o,f.isHierarchialLevelType=l;var n,b=e.dataset.getDataType(a,r),w=p.getAxisRotated(),C=t.label||{},k=t.ticklabel||{},O=t.tickmark,A={},S=parseFloat(Ei.utils.getVal(at([k,m.chart,m.canvas,qs],"fontSize"))),P=Ei.utils.getVal(at([k,m.chart,m.canvas,qs],"fontFamily")),T=null!=k&&null!=k.rotation&&"auto"!=k.rotation?k.rotation:0;o()&&(T=0),T=null==T||""==T?0:parseFloat(T),T=0>T?360-ml(T):T,T=T>360?ml(T)%360:T;var E,L,z,D,R=C.show===!1||!it(C.text)||""===C.text||!Kt(e,a+"axislabel",y)||o()&&r<e.axes.x.count-1;R?E=L=z=D=0:(D=dc(C.marginTop,5),z=dc(C.marginBottom,5),L=dc(C.marginLeft,5),E=dc(C.marginRight,5));var j=dc(k.marginRight,5),M=dc(k.marginLeft,5),I=dc(k.marginBottom,5),H=dc(k.marginTop,5),B="0.71em",F=e.systemConf.metadata,V=e.dataset.getColumnIdx(a,r),N=F.columns[V].datatype,Y=F.columns[V][N],_="y"==a?F.axes.y[r].length>1:!1,W=Y;W=_&&"y"==a?Sa(r,e):Y,this.preCalcAxisLen=0;var X=dc(O.size,6);return f.preCalcApproxAxisLength=function(i){var l="x"==a&&0==r&&e.brush?e.brush.extent:null,o=La(e,a,r),s={axisRotated:w,axisOrder:r,chart:e,orient:n};o.Ticks||(o.Ticks=new Ei.axis.Ticks(a,t,i,s)),this.tickValueObj=f.getTickValues(i.width,i.height,l,!0,null,o.Ticks,i);var c="x"==a?a+"-axis-"+r:a+"-axis-"+r,d=e.svg.selectAll("g."+a+"-axis"),u=zt(d,"g",[t],".","class",c),h=zt(u,"g",[t],".","class","axisgroup");h.selectAll("line.majorTicks").style("display","");var g=this.tickValueObj.axisgroup,p=g.width,v=g.height,y=k.maxWidth,b=k.maxHeight;"left"!==n&&"right"!==n||!it(k.width)?it(k.height)&&(v=aa(gc(k.height,b)||Ei.axis.ticks.maxTickSizeRatio_Vert,i.height)):p=aa(gc(k.width,y)||Ei.axis.ticks.maxTickSizeRatio_Hori,i.width),g=this.preCalcTickLen={x:g.left,y:g.top,width:p,height:v};var C="x"===a&&!w,O=!C,S={systemConf:m,bound:g,horizontal:C,vertical:O,axisOrder:r,plotRect:i,hide:R},P=0;if(o.axisLabel?(o.axisLabel.show=!R,o.axisLabel.transformLabel(g,i,n)):o.axisLabel=new Ei.axis.AxisLabel(t,S,n,u),R)this.preCalcAxisLen="bottom"===n||"top"==n?g.height+I:g.width+M;else switch(P=o.axisLabel.getBBox().height,A.textAnchor="middle",n){case"left":A.y=g.height/2,A.x=-(g.width+M+x.right),A.db="",this.preCalcAxisLen=g.width+M+E+P+L;break;case"right":A.x=g.height/2,A.y=-(g.width+M+x.right),this.preCalcAxisLen=g.width+L+j+P+E;break;case"bottom":A.x=g.width/2,A.y=g.height+I+x.top,A.dy=B,this.preCalcAxisLen=g.height+I+z+P+D;break;case"top":A.x=g.width/2,A.y=g.height+H+x.bottom,A.dy=B,this.preCalcAxisLen=g.height+H+D+P+z}return this.preCalcAxisLen},f.getTickValues=function(t,l,o,d,h,f,g){var p={},m={axisRotated:w,axisOrder:r,chart:e,orient:n,extent:o,maxTickSize:this.tickValueObj?this.tickValueObj.maxTickSize:null},y=f.getTicks(i,h,m),x=it(k.showAs);T=isNaN(y.rotation)?T:y.rotation;var C=y.tickMargin,O=c(n),A=Ya(n,T,null,null,X,O);C.dy=A.dy,b=e.dataset.getDataType(a,r);var S=dc(g,i),P=v.append("g").attr("class","dummy"),E="right"===n?S.left+S.width:S.left,L="bottom"===n?S.top+S.height:S.top;P.attr("transform","translate("+E+","+L+")");var z=P.append("g").attr("class","tick"),D=u(z,y.longestTickValue.formattedVal,C,T,x,y);return D.call(function(e){p=s(S,e,P,z,y,it(h),x,A)}),P.remove(),p},f.getActualTicklabel=function(){var t,a=this.tickValueObj,r=a.ticks;return t=this.isHierarchy()&&!this.isHierarchialLevelType()&&a.tickValueIndices?function(e){var t=a.tickValueIndices.indexOf(e);return-1!=t?r[t]:null}:e.dataObject.isWaterfallEnabled&&a.tickValueIndices?function(e){return r[e]}:function(e){return r[e]}},f.getTicksforAxisComp=function(){var t=e.dataset.getDataType(a,r);return o(e,a)&&e.dataObject.hierarchical.categoryTree&&(t==_o||"ordinalNonLinear"==t)||l()&&e.dataObject.hierarchical.groupByTime?null:e.dataObject.isWaterfallEnabled&&"x"==a?this.tickValueObj.tickValueIndices||null:this.tickValueObj.ticks},f},Ei.axis.constructTickObj=function(e,t,a,r,n,i){var l,o,s=e.systemConf;l="left"==r&&e.axes.rotated||"bottom"==r&&!e.axes.rotated?"x":"y";for(var c=e.axes[l].count,d=0;c>d;d++){var u=s.chart.axes.yaxis;if(d>0&&"y"==l){o=i?u[d]:oc(u[d],u[0],!1);var h=null!=u[d]&&""!==u[d]?u[d]:{};o.interval=h.interval,o.tickCount=h.tickCount,o.minRange=h.minRange,o.maxRange=h.maxRange,o.categories=h.categories,u[d]=o}o="x"==l?s.chart.axes.xaxis:u[d],r=o.orient||("x"==l?e.axes.rotated?"left":"bottom":e.axes.rotated?"bottom":0==d?"left":"right");var f="bottom"==r||"top"==r?a:t,g=o.show===!0&&Kt(e,l+"axis",f);if(g){var p=La(e,l,d);"y"!=l||p||(p={}),"x"!=l||p||(p=d>0?{}:p);var m=Ei.axis.ticks(e,o,l,d,r,n);p.ticks=m;var v=m.preCalcApproxAxisLength(n);if("y"!==l||!e.axes.y.groups[d].disabled){var y=e.plotarea;"left"==r?(n.left+=v,n.width=n.width-v,y.left=n.left,y.width=n.width):"right"==r?(n.width=n.width-v,y.width=n.width):"bottom"==r?(y.height=y.height-v,y.bottom+=v,n.height=y.height,n.bottom+=y.bottom):"top"==r&&(y.height=y.height-v,y.top+=v,n.height=y.height,n.top+=y.top)}}else{var x="y"===l?e.axes.y.groups[d]:e.axes.x;x.axisLabel=x.Ticks=null}}"y"==l&&$(s.chart,"scroll")&&s.chart.scroll.enabled&&(e.svg.call(e.brush),e.brush.initialize(n))};var gc=function(e,t){return it(e)&&it(e)?e>t?t:e:e||t},pc=Ei.utils.fontUtils={getTextWidth:function(e,t,a,r,n){r=r||"normal",n=n||"normal",sl.save(),sl.font=r+" "+n+" "+(t||12)+"px "+(a||qs.fontFamily);var i=sl.measureText(e).width;return sl.restore(),i},getTextHeight:function(e,t,a,r,n,i){return i?t:24>t?t+3:~~(1.195*t)}};Qa.applyDefaultStyles=function(e,t,a){var r,n,i=e.svg.select(".seriesholder"),l=e.staticPaneSVG.select("g.labelholder"),o=e.chartTypes[0],s=l.selectAll('text[level^="'+t+'"],path[level^="'+t+'"]'),c=l.selectAll('text:not([level^="'+t+'"]), path:not([level^="'+t+'"])');if("bar"===o.name)r=i.selectAll('path[level^="'+t+'"]'),n=i.selectAll('path:not([level^="'+t+'"])');else{if("scatter"!==o.name&&"bubble"!==o.name)return;r=i.selectAll('g.scatter[level^="'+t+'"]'),n=i.selectAll('g.scatter:not([level^="'+t+'"])')}a===!0?(r.style("opacity",1),n.style("opacity",.1),s.style("opacity",1),c.style("opacity",.1)):(r.style("opacity",1),n.style("opacity",1),s.style("opacity",1),c.style("opacity",1))},Qa.setState=function(e,t){var a=function(e){e.active=t};e.forEach(a)},Qa.updateTickEventHandler=function(e,t){var a=e.cache.hierarchical,r=!t;if(it(a)&&it(a.data)){var n,i=e.dataObject.hierarchical;if(a.data){var l=a.data.filter(function(e){return!e.seriesDisabled});if(t&&(a.query=l.length?Qa.getQuery(l[0],a.depth):"-1"),r){n=l[0];var o=n.level.split("_").slice(0,a.depth+1).map(Number),s=i.getCategoriesByLevelIndices(o),c=g.getAllChildren(s);a.query=Qa.getQuery(n,a.depth),a.data=c,Qa.setState(c,!0)}}}},Qa.getQuery=function(e,t){var a=e.level.split("_").slice(0,t+1).map(Number);return a.slice(0,t+1).join("_")+"_"},Ei.axis.polar=function(){function e(e){e.each(function(e){var a,u,h,f,g,p=Hl(this),m=i.systemConf,v=e.axisline,y=e.tickmark,x=e.subtickmark||{},b=e.grid,w=e.ticklabel,C=w.events;null!=C&&(a=C.mousemove,u=C.mouseout,h=C.click,f=C.doubleclick,g=C.cursor);var k=e.tickOrient,S=v.show?rt(v.strokeWidth,1):0,P=rt(b.strokeWidth,1),T=rt(w.marginLeft,5),E=rt(y.size,3),L=rt(x.size,2),z=+x.count||0,D=c||(n.ticks?n.ticks():n.domain()),R=t(n,D,z),j=n.range(),M=zt(p,"g",[1],".","class","subticksGroup");M.style("stroke",x.color);var I=zt(M,LINE_ELEMENT,R),H=zt(p,"g",[1],".","class","ticksGroup"),B=zt(H,"g",D,".","class","tick"),F=zt(p,Zo,v.show?[1]:[],".","class","domain");F.attr("d",function(){var e=go().innerRadius(l-1).outerRadius(l).startAngle(j[0]).endAngle(j[1])(1);return"M"+e.split(/L|M/gi)[1]}).styles({stroke:v.color,fill:El,"stroke-width":S,"stroke-dasharray":O(v.style,S),"stroke-linecap":A(v.lineCap,v.style),"pointer-events":El}),zt(B,LINE_ELEMENT,[1],".","class","tickmark"),zt(B,LINE_ELEMENT,[1],".","class","grid"),zt(B,Uo,[1]);var V=B.select(Uo),N=B.select(LINE_ELEMENT+".tickmark"),Y=B.select(LINE_ELEMENT+".grid");V.style("cursor",g||zl).text(function(e){return s(e)}),Ht(V,[w,m.chart,m.canvas,qs]),d={data:o.map(function(e){return oc(i.systemConf.metadata.columns[e],{columnindex:e},!0)})};var _=function(e){r(a,d3.event,e)},W=function(e){r(u,d3.event,e)},X=function(e){r(h,d3.event,e)},U=function(e){r(f,d3.event,e)},G={mousemove:_,mouseout:W,click:X,dblclick:U},Z={singletouchmove:_,touchend:W,tap:X,dbltap:U};Sr(V,G,Z);var Q,q,K,$;switch(k){case Ps:Q=l-S/2,q=-(E+T),K=-E,$=-L;break;default:Q=l+S/2,q=E+T,K=E,$=L}B.attr("transform",function(e){var t=Jt(Q,n(e));return"translate("+t[0]+","+t[1]+")"}),V.attrs({dy:function(e){var t=ea(n(e));return k==Ps?t>Sl/2&&3*Sl/2>t?null:-ra(t)+"em":t>Sl/2&&3*Sl/2>t?ra(t)+"em":null},"text-anchor":function(e){var t=ea(n(e));return t%Sl==0?"middle":k==Ps&&Sl>t||k!=Ps&&t>Sl?"end":null},transform:function(e){var t=Jt(q,n(e));return"translate("+t[0]+","+t[1]+")"}}),N.attrs({x2:function(e){return Jt(K,n(e))[0]},y2:function(e){return Jt(K,n(e))[1]}}).styles({stroke:y.color,"stroke-width":y.strokeWidth}),Y.attrs({x2:function(e){return Jt(-l,n(e))[0]},y2:function(e){return Jt(-l,n(e))[1]}}).styles({stroke:b.color,"stroke-width":P,"stroke-dasharray":O(b.style,P),"stroke-linecap":A(b.lineCap,b.style)}),I.attrs({x2:function(e){return Jt($,n(e))[0]},y2:function(e){return Jt($,n(e))[1]},transform:function(e){var t=Jt(Q,n(e));return"translate("+t[0]+","+t[1]+")"}})})}function t(e,t,r){if(n=[],r&&t.length>1){for(var n,i,l,o=a(e.domain()),s=-1,c=t.length,d=(t[1]-t[0])/++r;++s<c;)for(i=r;--i>0;)(l=+t[s]-i*d)>=o[0]&&n.push(l);for(--s,i=0;++i<r&&(l=+t[s]+i*d)<o[1];)n.push(l)}return n}function a(e){var t=e[0],a=e[e.length-1];return a>t?[t,a]:[a,t]}function r(e,t,a){null!=e&&(d.data=d.data.map(function(e){return e.value=a,e}),tt(e,t,d,i))}var n,i,l,o,s,c,d;return e.scale=function(t){return arguments.length?(n=t,e):n},e.chartObj=function(t){return arguments.length?(i=t,e):i},e.radius=function(t){return arguments.length?(l=t,e):l},e.columnIndices=function(t){return arguments.length?(o=t,e):o},e.tickValues=function(t){return arguments.length?(c=t,e):c},e.tickFormat=function(t){return arguments.length?(s=t,e):s},e},Ei.axis.polar.render=function(e,t){function a(e){var t=[],a=e+((E==Ts?O:O/2)+P*(L==Ps?-1:1)),n=L==Ps?Fl:Vl;return G.selectAll(Uo).each(function(i){var l=U(this),o=e+((E==Ts?O:O/2)+S+A)*(L==Ps?-1:1),s=Jt(o,H(i)),c=[r(s[0]+l.x,s[1]+l.y),r(s[0]+l.x,s[1]+l.y+l.height),r(s[0]+l.x+l.width,s[1]+l.y),r(s[0]+l.x+l.width,s[1]+l.y+l.height),a];t.push(n(c))}),n(t)}function r(e,t){return yl(vl(e,2)+vl(t,2))}function n(e,t){if(xt){var a=go().innerRadius(e-1).outerRadius(e).startAngle(B[0]).endAngle(B[1])(1);return"M"+a.split(/L|M/gi)[1]}var r=t.ticks?t.ticks():t.domain(),a=r.reduce(function(a,r){var n=t(r),i=Jt(e,n);return a+"L"+i[0]+" "+i[1]+" "},"");return"M"+a.substring(1)+"Z"}function i(t,a,r,n){var i=y.minmaxlabels,l=i.align,o=rt(i.padding,5),s=i.text,d=a.domain(),u=i.showAs,h=l==Ps?n-o:"center"==l?(r+n)/2:r+o,f=i.show?"min"==u?[d[0]]:"max"==u?[d[1]]:d:[],g=zt(t,Uo,f,".","class","minmaxlabels");Ht(g,[i,c.chart,c.canvas,qs]),g.attrs({"text-anchor":function(e){if("center"==l)return"middle";var t=ea(a(e));return t%Sl==0?"middle":l==Ps&&Sl>t||l!=Ps&&t>Sl?"end":null},dy:function(e){if("center"==l)return"1em";var t=ea(a(e));return l==Ps?t>Sl/2&&3*Sl/2>t?null:-ra(t)+"em":t>Sl/2&&3*Sl/2>t?ra(t)+"em":null},transform:function(e){var t=Jt(h,a(e)),r="center"==l?o:0;return"translate("+t[0]+","+(t[1]+r)+")"}}).text(function(t,a){return s&&it(s[a])?Mn(s[a]+"",f,V,e):zr(Y,t,N,e,"minmaxlabels")})}function l(){var e={};return o(e,"axisgroup"),o(e,"minmaxlabels"),o(e,"targetSeries"),d.firedList=e}function o(e,t){var a=[".targetSeries",".datalabel",".minmaxlabels",".axisgroup"].filter(function(e){return e!=="."+t}).join();X.selectAll(a).style("display",El);var r=U(X.node()),n=R+pl((z-r.width)/lt,(D-r.height)/nt),i=aa("minmaxlabels"===t?y.minmaxlabels.maxWidth:null,R,aa("50%",R));(R-i>n||0>=R||!isFinite(n))&&(e[t]=!0,X.selectAll("."+t).remove()),X.selectAll(a).style("display",null)}var t=t||"y",s=0,c=e.systemConf,d=e.renderer[0],u=e.dataObject,h=e.plotarea,f=e.canvasarea,g=e.systemConf.metadata.columns,p=e.chartTypes[0],m=p.value,v=p.name,y=c.chart.plot.plotoptions[v],x="x"==t?c.chart.axes.xaxis:c.chart.axes.yaxis[s],b=+y.outerPadding||0,w=+y.maxRadius||0,C=m===Ei.charttype.dial,k=x.show&&Kt(e,t+"axis",pl(f.width,f.height)),O=k&&x.axisline.show?rt(x.axisline.strokeWidth,1):0,A=rt(x.ticklabel.marginLeft,5),S=rt(x.tickmark.size,3),P=x.subtickmark?rt(x.subtickmark.size,2):0,T=Ei.utils.getVal(x.ticklabel.fontSize||c.chart.fontSize||c.canvas.fontSize||qs.fontSize),E=x.orient||Ts,L=x.tickOrient,z=h.width-2*b,D=h.height-2*b,R=pl(z,D)/2,j=la(y,R),M=k?+y.padding||0:0;e.plotarea_approx={x:0,y:0,innerRadius:j};var I=Ei.scale.constructor(e,"x"==t?Cs:bs),H="x"==t?I[0].scale:I[s].scale,B=H.range(),F=e.dataset.getColumnIdx(t,s),V=g[F],N=V.datatype,Y=V[N],_=E==Ps?L===Ts?j-M-O/2-gl(P,S+A+T):j:R,W=Ei.axis.polar().scale(H).chartObj(e).radius(_).columnIndices([F]).tickFormat(function(t){return zr(Y,t,N,e,"axis")}).tickValues(null),X=zt(e.svg.selectAll("g.chartgroup"),"g",[1],".","class",t+"-axis"),G=zt(X,"g",k?[x]:[],".","class","axisgroup");G.call(W),X.style("visibility","hidden");var Z=go().innerRadius(!C||y.needle.show||ui(y.datalabels,e)?0:j).outerRadius(R).startAngle(B[0]).endAngle(B[1]),Q=zt(X,Zo,[1],".","class","dummyArc").attr("d",Z(1)),q=zt(X,"g",[1],".","class","datalabel"),K=zt(X,"g",[1],".","class","targetSeries");if(C){if(!d){var $=0;d=e.renderer[$]=mc(v),e.rendererConf=[],e.rendererConf[$]=new Ei.plot.rendererConf,el.setRendererProp(e,d,e.seriesdata[$],$,[])}d.firedList={},q.call(Ei.labelRenderer.dial().renderer(d).args([e.seriesdata,0]),e.labelHandler,q),i(X,H,R,j),Wc.targetMarker(K,R,j,e);var J=+y.needle.width/2||7,et=zt(q,"circle",y.needle.show?[1]:[]);et.attrs({r:J,transform:"translate("+J+","+J+")"})}var tt=U(Q.node()),at=U(X.node()),nt=tt.height/R,lt=tt.width/R,ot=R+pl((z-at.width)/lt,(D-at.height)/nt),st={};if(C){var st=l(),at=U(X.node());ot=R+pl((z-at.width)/lt,(D-at.height)/nt),ot=ot>w?w:ot,ot=isFinite(ot)&&ot>0?ot:0}j=la(y,ot)-(E==Ps?(+y.strokeWidth||0)/2:0),_=(E==Ps?L==Ps?j:j-(a(R)-R):ot)-(L==Ps?O/2:0)-(E==Ps?M:0),W.radius(_),st.axisgroup?null:G.call(W),Z.outerRadius(ot).innerRadius(!C||y.needle.show||ui(y.datalabels,e)?0:j),Q.attr("d",Z(1)),C&&(st.minmaxlabels?null:i(X,H,ot,j),Wc.targetMarker(K,ot,j,e));var tt=U(Q.node()),at=U(X.node()),ct=ta(at,h.width,h.height,ot,0);X.attr("transform","translate("+(h.left+ct[0])+","+(h.top+ct[1])+")"),X.style("visibility",null);var dt=(L==Ps&&E==Ts?a(ot):ot-(E==Ps?0:O/2))-(E==Ps?0:M),ut=L==Ps?(ot-dt)*lt:0,ht=L==Ps?(ot-dt)*nt:0;if(e.plotarea_approx={x:ct[0],y:ct[1],width:tt.width-O-ut,height:tt.height-O-ht,radius:dt,actualRadius:ot,innerRadius:j},Q.remove(),q.remove(),K.remove(),u.isPolarAxisCategory){var t="y",ft=0,gt=c.chart.axes.yaxis[ft],R=e.plotarea_approx.radius,pt=e.plotarea_approx.x,mt=e.plotarea_approx.y,E=gt.orient||ws,vt=rt(gt.tickmark.size,6),yt=rt(gt.ticklabel[E==bs?"marginRight":"marginLeft"],3),xt="arc"===gt.grid.type,I=Ei.scale.constructor(e,bs),bt=I[ft].scale,wt=gt.reversed&&!u.isstacked()?[0,R]:[R,0];bt.origRange=wt,bt.range(wt);var Ct={left:e.plotarea.left,top:e.plotarea.top,width:R,height:R},kt=La(e,t,0),Ot=Ei.axis.ticks(e,gt,"y",0,E,Ct);kt.ticks=Ot,Ot.preCalcApproxAxisLength(Ct);var At=Ot.getTickValues(R,R,null,null,R/20,kt.Ticks),St=e.userdata.metadata,Pt=St.axes.y[ft].length>1,F=e.dataset.getColumnIdx(t,ft),N=St.columns[F].datatype,Y=Pt&&"y"==t?Sa(ft,e):St.columns[F][N],Tt=u.isStackedPercentChart&&"y"==t?Ir:zr,Et=Ei.axis.get().orient(E).scale(bt).tickPadding(yt).tickSize(vt,0).plotarea({width:R,height:R}).systemconf(e.systemConf).chartObj(e).tickRotation(At.rotation).preCalcTickLen(Ot.preCalcTickLen).tickValues(At.ticks).tickFormat(function(t){var a=Tt(Y,t,N,e,"axis");d3.select(this).text(a)}).columnIndices(Pt&&"y"==t?St.axes.y[s]:[F]),Lt=e.svg.selectAll("g.y-axis").data(gt.show?[gt]:[]);Lt.call(Et,t,ft).attr("transform","translate("+(pt+e.plotarea.left)+","+(mt+e.plotarea.top-R)+")"),Lt.exit().remove();var Dt=Lt.selectAll(".tick");Dt.append(Zo);var Rt=Dt.select(Zo);Rt.attr("transform",function(e){return"translate(0,"+(R-bt(e))+")"}).attr("d",function(e){return n(R-bt(e),H)}).styles({fill:El,stroke:gt.grid.color,"stroke-width":gt.grid.strokeWidth}),G.selectAll(Zo+".domain").attr("d",function(){return n(R,H)}),bt.range(wt.reverse())}},Ei.plot.render=function(e){var t=e.systemConf.chart.plot.renderer.mode.toLowerCase(),a=e.chartTypes[0],r={mode:!e.isAxisCategory&&!e.dataObject.isPolarAxisCategory&&4!==a.value||e.dataObject.pieWithAxis||24===a.value||27===a.value?"svg":t.toLocaleLowerCase()},n={};if(n.labelQueue=[],n.notesArray=[],n.labelArray=[],e.rendererConf||(e.rendererConf=[]),"function"!=typeof Ei.plot[r.mode+"Renderer"])throw new SyntaxError(""+r.mode+"Renderer not found");return r[r.mode]=Ei.plot[r.mode+"Renderer"](e,n),r.draw=function(t){e.chartRendered=!1,this[this.mode].draw(t)},r},el.renderCompletedEvents=function(e,t,a){function r(){try{ar(e,i.chart.plot.events,"plot",t?"onreload":"onload"),qa(e,a,!(o&&t)),e.handleHiddenContainer(!0),ar(e,i.canvas.events,"chart",t?"onreload":"onload")}catch(r){Ei.Chart.helpers.handleErrors(e,r)}}var n,i=e.systemConf,l=e.dataObject.hasLevelMarker&&!e.isAxisCategory,o=(e.isAxisCategory||e.dataObject.isPolarAxisCategory)&&!e.dataObject.pieWithAxis||l,s=e.renderer,c=!1;e.isAxisCategory||e.dataObject.isPolarAxisCategory?setTimeout(function(){c=!0},e.axes.animationDuration+17):c=!0;var d=function(){if(yt()&&(e.chartRendered=!0),e.destroying)return!0;for(n=s.length;n--;){if(s[n].chartRendered!==!0||!c)return!1;a.notesArray=s[n].commonRendererProp().notes()}return r(),e.chartRendered=!0,clearInterval(u),!0},u=setInterval(d,1e3/60);o&&qa(e,a,l||t)},el.arrangeSeriesRenderingOrder=function(e){var t=e.seriesdata,a=Ei.DataProcessor.helpers;if(e.dataObject.isCombinationalChart){var r={defaultType:0,area:0,bar:1,line:2,bubble:3,bubblepie:4,scatter:5},n=e.userdata.seriesdata.type,i=sc(t);return i.map(function(e,t){return e.seriesidx=t,e}),i.sort(function(e,t){var i=a.getChartType(e.type||n,"string"),l=a.getChartType(t.type||n,"string"),o=null==r[i]?r.defaultType:r[i],s=null==r[l]?r.defaultType:r[l],c=e.seriesidx,d=t.seriesidx;return s>o?-1:o>s?1:d>c?-1:c>d?1:0}),i}return t},el.setRendererProp=function(e,t,a,r,n){function i(t,a,r,i,o){var s=e.seriesdata[r].color||e.seriesColor[r%e.seriesColor.length],c=e.seriesdata[r].yaxiscolumnorder,d=u.getParsedYAxisOrder(c),h=e.rendererConf[r];h.chartObj(e).dataset(e.dataset).axisrotated(e.dataObject.getAxisRotated()).yaxiscolumnorder(d).hasNegValue(e.dataObject.containsNegativeData(d)).stacked(e.dataObject.isstacked(o)).commonPlotOptions(e.systemConf.chart.plot.plotoptions[i]).color("bubblepie"==i?e.seriesColor:e.isAxisCategory?l(t,a,s,r,d,i):e.dataObject.isPolarAxisCategory?s:e.seriesColor).notes(n.notesArray).updateLabelArrayAndLabelQueue(n.labelArray,n.labelQueue)}function l(t,a,r,n,i,l){var o=d.chart.axes.xaxis.threshold.coloroverlay,s=null!=d.chart.axes.yaxis[i]&&null!=d.chart.axes.yaxis[i].threshold?d.chart.axes.yaxis[i].threshold.coloroverlay:null,c=o.show||null!=s&&s.show;if(c){var u=null!=s&&s.show?s:o.show?o:null,h=null!=s&&s.show?"y":o.show?"x":null,f=c?Ei.axis.threshold.overlay(e,"continous"):null,g="y"===h?i:0;return e.rendererConf[n].threshold(c?u:null).thresholdType(h).colorOverlay(c?Ei.axis.threshold.overlay(e,"discrete",u):null),"bar"==l||"scatter"==l||"bubble"==l?r:f(r,u,g,h)}return r}var o=e.chartTypes[r],s=o.name,c=o.value,d=e.systemConf,u=Ei.DataProcessor.helpers;i(t,a,r,s,c),t.commonRendererProp(e.rendererConf[r]);var h=e.seriesdata[r].yaxiscolumnorder,f=u.getParsedYAxisOrder(h);if(t.chartRendered=!1,e.xymultiRenderer||e.dataObject.isPolarAxisCategory){var g=e.axes.y.groups[f],p=g.scale;e.rendererConf[r].xscale(e.axes.x.scale).yscale(p).datasetIndex(r),n.labelArray=e.rendererConf[r].params.labelArray,n.labelQueue=e.rendererConf[r].params.labelQueue}if(lr(c)&&!hr(c)&&(t.bandwidth1(e.barscale1).bandwidth2(e.barscale2),n.image||t.barDatasetIndex(n.barDatasetIndex),null!=a.disabled&&a.disabled||(n.barDatasetIndex=n.barDatasetIndex+e.seriesdata[r].data.length)),cr(c)){var m=e.rendererConf[r].params;m.categoryColorConfig=en(e.seriesdata[r].plotoptions,m.commonPlotOptions)}},el.saveSeriesdataInRenderer=function(e,t){var a=e.rendererConf[t].params,r=a.xscale,n=a.yscale,i=a.yaxiscolumnorder,l=e.dataset,o=l.getDataType("x"),s=l.getDataType("y",i),c=e.seriesdata[t].data,d=e.renderer[t];if(o==_o||s==_o){d.seriesdataAfterUpdate=[];var u=Ei.DataProcessor.helpers,h=(u.isCatNull(l,"x"),u.isCatNull(l,"y",i),o==_o?r.domain():null),f=s==_o?n.domain():null;c.forEach(function(t,a){d.seriesdataAfterUpdate[a]=e.dataObject.updateSeriesdatabyCategories(q(t),h,f,i)})}else d.seriesdataAfterUpdate=null},Ei.plot.rendererConf=function(){var e={};return e.params={},e.xscale=function(t){return arguments.length?(e.params.xscale=t,e):e.params.xscale},e.yscale=function(t){return arguments.length?(e.params.yscale=t,e):e.params.yscale},e.stacked=function(t){return arguments.length?(e.params.stacked=t,e):e.params.stacked},e.datasetIndex=function(t){return arguments.length?(e.params.datasetIndex=t,e):e.params.datasetIndex},e.axisrotated=function(t){return arguments.length?(e.params.axisrotated=t,e):e.params.axisrotated},e.commonPlotOptions=function(t){return arguments.length?(e.params.commonPlotOptions=t,e):e.params.commonPlotOptions},e.color=function(t){return arguments.length?(e.params.color=t,e):e.params.color},e.chartObj=function(t){return arguments.length?(e.params.chartObj=t,e):e.params.chartObj},e.notes=function(t){return arguments.length?(e.params.notesArray=t,e):e.params.notesArray},e.updateLabelArrayAndLabelQueue=function(t,a){return arguments.length?(e.params.labelArray=t,e.params.labelQueue=a,e):[e.params.labelArray,e.params.labelQueue]},e.hasNegValue=function(t){return arguments.length?(e.params.hasNegValue=t,e):e.params.hasNegValue},e.dataset=function(t){return arguments.length?(e.params.dataset=t,e):e.params.dataset},e.yaxiscolumnorder=function(t){return arguments.length?(e.params.yaxiscolumnorder=t,e):e.params.yaxiscolumnorder},e.threshold=function(t){return arguments.length?(e.params.threshold=t,e):e.params.threshold},e.thresholdType=function(t){return arguments.length?(e.params.thresholdType=t,e):e.params.thresholdType},e.colorOverlay=function(t){return arguments.length?(e.params.colorOverlay=t,e):e.params.colorOverlay},e},Ei.plot.svgRenderer=function(e,t){var a={},r=e.systemConf,n=Ei.DataProcessor.helpers;return a.draw=function(a){e.dataset.getDataType("x")==_o&&e.isAxisCategory&&Ei.scale.barBandwidth(e),t.barDatasetIndex=0;var i,l=[];e.chartRendered=!1;var o=e.dataObject.isCombinationalChart,s=o?el.arrangeSeriesRenderingOrder(e):e.seriesdata;e.seriesdata.forEach(function(c,d){var u=s[d],h=o?u.seriesidx:d;if(!(h>0)||e.xymultiRenderer||e.dataObject.isPolarAxisCategory){i=n.getChartType(u.type||e.userdata.seriesdata.type,Xo),i==Ei.charttype.bubblepie&&J(e.bubblePieRendererIndex)&&(e.bubblePieRendererIndex=h);var f=[],g=Ei.charttypenames.get(i),p=u.plotoptions,m=r.chart.plot.plotoptions[g],v=Xt(m,p,e,g),y=v.enabled,x=v.type;null==e.renderer[h]&&(e.renderer[h]=mc(g),e.rendererConf[h]=new Ei.plot.rendererConf),e.renderer[h].chartRendered=!1,0==d&&(ar(e,r.chart.plot.events,"plot","init"),e.hideLoading(e.container)),y&&!a&&(or(i)||ir(i))&&[hs,ds,ls,qo,ns,es].indexOf(x)<0?(l[h]=!1,f[h]=setInterval(function(){e.renderer[h].chartRendered&&clearInterval(f[h]),!l[h]&&(0==h||h>0&&e.renderer[h-1].chartRendered)&&(el.setRendererProp(e,e.renderer[h],u,h,t),vc(e,u,e.renderer[h]),l[h]=!0)},10)):(el.setRendererProp(e,e.renderer[h],u,h,t),vc(e,u,e.renderer[h]))}}),el.renderCompletedEvents(e,a,t)},a};var mc=function(e){switch(e){case"waterfall":case"gantt":case"bullet":e="bar";break;case"web":case"arearange":e="area";break;case"bubble":e="scatter"}return new Ji[e]},vc=function(e,t,a,r){function n(e,t,a){return e.select("g."+t).attr("transform","translate("+a.x+","+a.y+")")}if(r)a.update();else{clearTimeout(a.renderedTimer);var i=e.svg.selectAll("g.xychart").data([e.systemConf]);n(i,"seriesholder",{x:e.plotarea.left,y:e.plotarea.top}).datum(e.seriesdata).call(a),e.dataObject.isPolarAxisCategory&&i.selectAll("g.seriesholder").selectAll(function(){return this.childNodes}).attr("transform","translate("+e.plotarea_approx.x+","+e.plotarea_approx.y+")"),n(e.staticPaneSVG,"labelholder",{x:e.plotarea.left,y:e.plotarea.top})}};Ei.plot.imageRenderer=function(e,t){function a(){function t(e,t,a){return e.select("g."+t).attr("transform","translate("+a.x+","+a.y+")")}function a(e){var t="",a=Object.keys(e),r=0;for(var n in e)t+=n+"="+e[n],e.hasOwnProperty(a[r+1])&&(t+="&"),r++;return t}function r(t){if(e.systemConf.chart.plot.renderer.image.addDimensionInSource===!0){var a=t.indexOf("?")>-1?"&":"?";t+=a+"WIDTH="+e.plotarea.width+"&HEIGHT="+e.plotarea.height}{var r=300;i.append("svg:image").attr("xlink:href",t).attr("width",ul(e.plotarea.width)).attr("height",ul(e.plotarea.height)).attr("x",0).attr("y",0).style("opacity",0).attr("onload",function(){e.hideLoading(e.container),e.svg.selectAll(".threshold").transition().style("opacity","1").duration(r)}).on("error",function(){throw e.chartRendered=!1,e.hideLoading(e.container),new ReferenceError("Invalid image source.")}).transition().style("opacity","1").duration(r).on("end",function(){e.chartRendered=!0})}}e.chartRendered=!1;var n=e.svg.selectAll("g.xychart");t(n,"seriesholder",{x:e.plotarea.left,y:e.plotarea.top}),t(n,"labelholder",{x:e.plotarea.left,y:e.plotarea.top});var i=e.svg.select(".seriesholder");e.svg.selectAll(".threshold").styles({opacity:0});var l=e.systemConf.chart.plot.renderer.image.source;if("auto"!=l)return i.selectAll("*:not(.zmarea)").remove(),void r(l);i.selectAll("*:not(.zmarea)").remove(),e.showLoading(e.container);var o=e.seriesdata[0].type||e.userdata.seriesdata.type,s=getChartType(o,"string"),c=e.systemConf,d=c.chart.plot.plotoptions[s].datalabels.fontSize;d="function"==typeof d?d():d,c.chart.plot.plotoptions[s].datalabels.fontSize=d;var u=JSON.parse(JSON.stringify(c));u.chart.plot.renderer.mode="svg",$(e.userdata,"chart.plot.datalabels.fontColor")||delete u.chart.plot.datalabels.fontColor,$(e.userdata,"chart.plot.plotoptions."+s+".datalabels.fontColor")||delete u.chart.plot.plotoptions[s].datalabels.fontColor;var h={url:e.systemConf.chart.plot.renderer.image.exportUrl,type:"POST",data:{DATA:encodeURIComponent(JSON.stringify(u)),HEIGHT:ul(e.plotarea.height),WIDTH:ul(e.plotarea.width)}};e.xhr&&e.xhr.abort();var f=a(h.data),g=Vo(h.url).header("Content-type","application/x-www-form-urlencoded").post(f,function(t,a){i.selectAll("image").remove();var n=JSON.parse(a.responseText);n.rendered&&(e.hideLoading(e.container),r(n.serverPath)),delete e.xhr});e.xhr=g}var r={};return r.draw=function(r){e.systemConf.legend.highlightEffect.selectedSeries=El,e.systemConf.loader.enabled=!0,e.dataset.getDataType("x")==_o&&e.isAxisCategory&&Ei.scale.barBandwidth(e),t.barDatasetIndex=0;var n;e.chartRendered=!1;var i=e.dataObject.isCombinationalChart,l=i?el.arrangeSeriesRenderingOrder(e,e.seriesdata):e.seriesdata;a(),e.seriesdata.forEach(function(a,r){var o=l[r],s=i?o.seriesidx:r;if(e.isAxisCategory||!(s>0)){var c=getChartType(null,"object",s,e.userdata),d=c.name;null==e.renderer[s]?(n=getChartType(o.type||e.userdata.seriesdata.type,Xo),e.renderer[s]=mc(d),e.rendererConf[s]=new Ei.plot.rendererConf):e.renderer[s].commonOption=null,el.setRendererProp(e,e.renderer[s],o,s,t),e.renderer[s].chartRendered=!1,0==r&&ar(e,e.systemConf.chart.plot.events,"plot","init")}}),el.renderCompletedEvents(e,r,t)},r};var yc={};yc.getAvailableBound=function(e,t){var a=e.plotarea,r=a.width,n=a.height,i=pl(r/2,aa(t.outerPadding,r/2,0)),l=pl(n/2,aa(t.outerPadding,n/2,0));return{x:i,y:l,width:r-2*i,height:n-2*l}},yc.updatePlotareaByBandWidth=function(e,t){var a,r=e.dataObject;if((r.noofBarEnabledSeries||r.isCombinationalChart)&&r.allChartTypes.some(function(t){var r=Ei.DataProcessor.helpers.getChartType(t,"string");return lr(t)?(a=e.systemConf.chart.plot.plotoptions[r],!0):void 0}),a&&a.strictBandWidth){var n=r.getCategories("x").length,i=dc(a.padding,.2),l=a.outerPadding;l=it(l)?l:.2,l=Ei.scale.getOuterPadding(d?[0,t.width]:[t.height,0],n,i,l);var o=a.levelMarker,s=a.targetMarker||{},c=e.plotarea,d=e.axes.rotated,u=(d?t.height:t.width)/(n-i+2*l)*(1-i),h=[],f=rt(o.bandWidth,u),g=rt(o.maxBandWidth,u);levelMarkerBand=pl(f,g,u),o.enabled&&h.push(levelMarkerBand),s.enabled&&h.push(it(s.size)?pl(10*s.size,u):0);var p=rt(a.bandWidth,levelMarkerBand),m=rt(a.maxBandWidth,p);h.push(pl(p,m,u));var v=gl.apply(null,h),y=v/(1-i);v=y*(n-i+2*l),d?(c.height=v+(c.height-t.height),c.top+=c.adjust=(t.height-v)/2):(c.width=v+(c.width-t.width),c.left+=c.adjust=(t.width-v)/2)}},Ei.legutil=function(){},Ei.legutil.colorpallete=ao(),Ei.legutil.colorpallete.set("greenish",["#6c6c6d","#1ba98e","#00ff80","#00ffc0","#00ffff","#40ff00","#40ff40","#40ff80","#40ffc0","#40ffff","#80ff00","#80ff40","#80ff80","#80ffc0","#80ffff"]),Ei.legutil.colorpallete.set("pinkish",["#ff00ff","#ff00c0","#ff0080","#ff0040","#ff0000","#c000ff","#c000c0","#c00080","#c00040","#c00000","#8000ff","#8000c0","#800080","#800040","#800000"]),Ei.legutil.colorpallete.set("countries",["#00c6e4","#faa43a","#5da5da","#60bd68","#f17cb0","#b2912f","#307d99"]),Ei.legutil.colorpallete.set("saturate5",["#594f4f","#547980","#45ada8","#97843a","#518058","#975156"]),Ei.legutil.colorpallete.set("ocean5",["#ff7f00","#6a4a3c","#cc333f","#eb6841","#edc951","#975156"]),Ei.legutil.colorpallete.set("zoho-reports-old",["#FF465B","#04C36B","#3A92E9","#FDC33A","#D65587","#FC7C63","#51A5A9","#BFBFBF","#91CD6A","#BE9B89","#7D8DB0","#B68E2E","#C6D5B0","#D1ACCE","#E0AE60","#5CD29F","#716398","#AD8686","#FF99A8","#A0C0C0","#2D7094","#553D4E","#B2449D","#FED577","#D3D159","#AAAAAA","#7ED9D9","#F7A26D","#8ABFA2","#767676","#E36068","#A3AFC7"]),Ei.legutil.colorpallete.set("zoho-reports-new",["#60bfdf","#ffa060","#aadf80","#ff6c7d","#c9ac66","#bf80bf","#df6060","#606060","#60a0df","#ff99a8","#feff60","#a0dfdf","#dfa080","#dfdfdf","#a0a060","#a080bf","#a06060","#5cd29f","#ffbe60","#bfa080","#f28fb5","#8080bf","#bfbfbf","#dfdf80","#80a060","#80a060","#a08060","#7ed9d9","#be9b89","#bf6060","#a0bf60","#fc7c63"]),Ei.legutil.colorpallete.set("colors",["#0eaadd","#1ac9bb","#92c658","#dbbe56","#ee7d54","#ef4f6a","#b952ef"]),Ei.legutil.colorpallete.set("flat-ui-colors",["#23a96e","#bca634","#f75a51","#39b6c5","#f9ce8d","#983a67","#634c3f","#d7dab9","#357180","#983a67","#b16b76","#7f90a0"]),Ei.legutil.colorpallete.set("MEMobile",["#73c2f4","#ecd543","#e6be3f","#da7b36","#c84b37","#9c240f","#9bcedd","#ffe560","#ffe560","#c67c99","#c6db4c"]),Ei.legutil.colorpallete.set("Toddler",["#f8d0db","#9be1ed","#c4ead1","#fbe2aa","#e5e5e5","#d6b65f","#be9fbf","#ffe560","#ffe560","#c67c99","#c6db4c"]),Ei.legutil.colorpallete.set("BrightNDull",["#47bac1","#8ccace","#72c3f5","#71bfee","#ac66ad","#c5a0c6","#906aa6","#b29dbf","#fd9f94","#f6cac4","#ff759c","#f6acc1"]),Ei.legutil.colorpallete.set("BlueShades",["#00c6e4","#6ad4e4","#a3dbe4","#c3e0e4","#e4e4e4","#c8c8c8","#aac4c8"]),Ei.legutil.colorpallete.set("graphite6",["#595959","#767676","#373737","#9d9d9d","#bfbfbf","#222222"]),Ei.legutil.colorpallete.set("chalk",["#FFFFFF","#FAFAFA","#CCCCCC"]),Ei.legutil.colorpallete.set("map",["#FB0D0D","#53B808","#B80894","#2ADBDD"]),Ei.legutil.patternPallete=ao(),Ei.legutil.imagePallete=ao(),Ei.legutil.imagePallete.set("linesndots",["01.png","02.png","03.png","04.png","05.png","06.png","07.png","08.png","09.png","10.png","11.png","12.png","13.png","14.png","15.png","16.png","17.png","18.png","19.png","20.png"]),Ei.legutil.imagePallete.set("dotsfirst",["13.png","12.png","13.png","14.png","15.png","16.png","17.png","18.png","19.png","20.png"]),Ei.legutil.imagePallete.set("stones",["01.jpg","02.jpg","03.jpg"]),z(),Ei.legutil.patternPallete.set("stripes-fill",["hatchfill","hatchDashfill","checkerBoard","horizontalStripesfill","verticalStripesfill","crossStripesfill"]),Ei.legutil.patternPallete.set("stripes",["hatch","thinThickHatch","hatchLeft","hatchDash","horizontalStripes","crossStripes","verticalStripes","thickHatch","thinHatch","thinVerticalStripes","thinHorizontalStripes"]),Ei.legutil.patternPallete.set("dotted",["circle","tinyCircle","crossCircle","floatingCircle","dot"]),Ei.legutil.patternPallete.set("dotted-fill",["circlefill","crossCirclefill","floatingCirclefill","dotfill"]),Ei.legutil.patternPallete.set("shapes",["thinThickHatch","crossCircle","star","wave","cap","nylon"]),Ei.legutil.patternPallete.set("shapes-fill",["checkerBoard","floatingCirclefill","squarefill","starfill","wavefill","capfill","nylonfill"]),er(),Ei.legutil.getMonochromeColorPallette=function(e){var t=[0,+e.count-1],a=[+e.colorGamma[0],+e.colorGamma[1]],r=X(e.baseColor,t,a);
return Co(e.count).map(function(e,t){return r(t)})};var xc={};xc.getLegendData=function(e){if(hc.isQuantileColorScale(e)){var t=e.systemConf.legend.colorBand.ranges;if(t&&t.length)return t}return e.xymultiRenderer||e.isNonAxisMultiSeriesCategory?e.seriesdata:e.seriesdata[0].data[0]},xc.getLegendDataLength=function(e,t){return e.xymultiRenderer||e.isNonAxisMultiSeriesCategory?t.filter(function(e){return!xc.isHiddenItem(e)}).length:t.length},xc.isHiddenItem=function(e){return e.hideInLegend},xc.getClr=function(e,t,a){return e?a.color||t:t},xc.updateBubblePieData=function(e,t,a){a.dataObject.pieWithAxis&&e.data.forEach(function(r){var n=gr(a.chartTypes[t].value);r.forEach(function(t){t.disabled=e.disabled||!n||t.dummy})})},xc.updateHierarchyData=function(e,t,a){a.dataObject.isHierarchy&&(a.systemConf.seriesdata.chartdata[t].disabled=e.disabled)},xc.toggleChartEvents=function(e,t){var a=t?null:El,r=[];e.svg?((e.isAxisCategory||e.dataObject.isPolarAxisCategory)&&r.push(e.eventHandler.trackerElement),r.push(e.svg)):r.push(e.container),r.forEach(function(e){e.style("pointer-events",a)})},xc.fadeChart=function(e,t,a){t.container.selectAll("g.chartgroup,svg.static,canvas.zc-canvas,div.zcnotes").style("opacity",e?null:a)},xc.isDisabled=function(e,t,a){return t||a?e.disabled:!t},xc.isAllEnabled=function(e,t){if(!t)return t;var a=e.filter(function(e){return e.disabled});return!a.length},xc.getFilterBoxSize=function(e,t){var a=it(e.size)?+e.size:t,r=it(e.width)?+e.width:a,n=it(e.height)?+e.height:a;return[r,n]},xc.updateData=function(e,t,a){hc.isQuantileColorScale(a)?a.axes.clr.scale=Ei.scale.getScale(a,a.dataObject,null,null,null,a.dataset,"clr"):(xc.updateBubblePieData(e,t,a),xc.updateHierarchyData(e,t,a),a.dataObject.data=a.systemConf)},xc.isContinousLegend=function(e){var t=e.systemConf.legend.colorBand,a=hc.isQuantileColorScale(e);if(a){var r=t.ranges,n=e.dataset.getDataType("clr")===_o;if(n||r&&r.length){var i=t.type;return"continuousDiscrete"===i||"continuous"===i}return!0}return!1},xc.getColorBandDimension=function(e){var t=e.chartarea,a=e.systemConf.legend,r=a.colorBand,n=xc.getOrient(a),i="bottom"===n||"top"===n,l=a.maxWidth,o=a.maxHeight,s=r.width,c=r.height;return i?(l=l||kc,o=o||wc,s=s||"40%",c=c||14):(l=l||Cc,o=o||bc,s=s||14,c=c||"70%"),l=aa(l,t.width),o=aa(o,t.height),s=aa(s,t.width),c=aa(c,t.height),s=pl(s,l),c=pl(c,o),[s,c]},xc.getOrient=function(e){var t=e.hAlign,a=e.vAlign,r="right";return"bottom"===a?r="bottom":"top"===a?r="top":"left"===t&&(r="left"),r},xc.getLabelIndex=function(e,t,r){var n,i=t.stops,l=t.ranges,o=r.dataset.getDataType("clr")===_o;return!o&&i&&i.length?i.some(function(t,a){var r=t===e;return r?(n=a,!0):void 0}):l&&l.length&&l.some(function(t,r){var i;return i=a(t)?a(e)?t[0]===e[0]&&t[1]===e[1]:t[0]===e:t===e,i?(n=r,!0):void 0}),n},xc.hexToRGB=function(e){if(e&&-1==e.toString().indexOf("#"))return e;var a=t(oa(e).replace(/#/g,""),16);return"rgb("+(a>>16&255)+","+(a>>8&255)+","+(255&a)+")"},xc.filterSelectionByColor=function(e,t,a,r){if(it(a)){var n,i=r.systemConf.legend.colorBand.ranges,l=r.axes.clr.scale,o=function(e){var t=e.data||e;return r.dataset.getClr(t)};if(i&&i.length){var s=i[a],c=r.dataset.getDataType("clr")===_o;if(1===s.length&&!c){var d=q(l.domain());d.splice(0,2),s=[d[2*a],d[2*a+1]]}return e.filter(function(e){var i=o(e);return n=ha(i,r,l),c?n=n&&i===s[0]:(n=n&&i>=s[0]&&i<=s[1],i===s[0]&&(n=n&&ga(r,a)===l(i)),i===s[1]&&(n=n&&ga(r,a)===l(i))),t?n:!n})}return e.filter(function(e){var i=o(e);return n=ha(i,r,l,null,a),t?n:!n})}return e},xc.isReversedColorAxis=function(e){var t=e.systemConf.legend;return t.colorAxis&&t.colorAxis.reversed};var bc="80%",wc="20%",Cc="20%",kc="100%";Ei.legend.render=function(e){function t(){var t=d.chartarea(e.chartarea).systemconf(n).color(e.seriesColor).chartObj(e);return t}function a(){i.legpos;(d=t(i))(e.legendarea.element.datum(i));var a,r,n,l,o=e.legendarea.element.node();if(c){var s=U(o);a=s.width,r=s.height,l=s.y,n=s.x}else a=o.offsetWidth,r=o.offsetHeight,l=o.offsetTop,n=o.offsetLeft;var u=null!=i.x&&""!==i.x&&null!=i.y&&""!==i.y;i.marginLeft=+i.marginLeft,i.marginRight=+i.marginRight,i.marginTop=+i.marginTop,i.marginBottom=+i.marginBottom,u||("center"==i.vAlign?(e.chartarea.width-=a+i.marginLeft+i.marginRight,e.plotarea.width-=a+i.marginLeft+i.marginRight,"left"==i.hAlign&&(e.chartarea.left+=a+i.marginLeft+i.marginRight,e.plotarea.left+=a+i.marginLeft+i.marginRight)):"top"==i.vAlign?(e.chartarea.top+=r+i.marginTop+i.marginBottom,e.plotarea.top+=r+i.marginTop+i.marginBottom,e.chartarea.height-=r+i.marginTop+i.marginBottom,e.plotarea.height-=r+i.marginTop+i.marginBottom):"bottom"==i.vAlign&&(e.chartarea.height-=r+i.marginTop+i.marginBottom,e.plotarea.height-=r+i.marginTop+i.marginBottom)),e.legendarea.x=n,e.legendarea.y=l,e.legendarea.width=a,e.legendarea.height=r}function r(){if(s){e.dataset.getDataType("clr")===_o&&(e.userdata.legend=e.userdata.legend||{},e.userdata.legend.colorBand=e.userdata.legend.colorBand||{},e.userdata.legend.colorBand.ranges||(e.systemConf.legend.colorBand.ranges=e.userdata.legend.colorBand.ranges=hc.getCategories(e)));var t=e.systemConf.legend.colorBand.ranges;t&&t.length&&(e.userdata.legend.colorBand.ranges=e.systemConf.legend.colorBand.ranges=Da(e,!0));var a=Ei.scale.getScale(e,l,null,null,null,e.dataset,"clr"),r=a.domain(),n=a.copy();n.range(hc.getProcessedColorRange(Co(r.length),r,e.systemConf.legend.colorBand,e));var i=e.axes.clr||{};i.scaleType="quantile",i.scale=a,i.indexScale=n,i.component=i.component||Ei.axis.get(),e.axes.clr=i}else e.axes.clr={}}var n=e.systemConf,i=n.legend,l=e.dataObject,o=e.seriesdata,s=hc.isQuantileColorScale(e),c=xc.isContinousLegend(e),d=e.legend.component=c?Ei.legend.continuous.get():Ei.legend.discrete.get(),u=e.isAxisCategory||e.isNonAxisMultiSeriesCategory?o.some(function(e){return!xc.isHiddenItem(e)&&e.seriesname!==cl}):!(e.chartTypes[0].value==Ei.charttype.dial);u=u||s;var h=e.canvasarea[null==i||null==i.vAlign?"height":"top"===i.vAlign||"bottom"===i.vAlign?"height":"width"],f=null!=i&&null!=i.x&&""!==i.x&&null!=i.y&&""!==i.y;u=f||Kt(e,"legend",h)?u:!1,r(),s&&Ei.setDefaultOptions("filter",i,e.globalProp,tr(e),!0),u&&i.enabled===!0?(e.legendarea.show=!0,e.legendarea.element.style("display",""),a()):(e.legendarea.show=!1,e.legendarea.element.style("display",El),c?null:Ei.legend.events(e,e.legendarea.element.selectAll("li.series"),{allSelected:!0,isFirstClickAfterDeselection:!1}))},Ei.legendHighlight=function(e,t){function a(e,t,a){w.selSeriesObj=i(t,a);for(var r=w.getLegendHighlightEffect(t,"selectedSeries"),n=w.selSeriesObj.selectedSeries,l=w.selSeriesObj.charttypes,o=n.length,c=0;o>c;c++){var d=Ei.charttypenames.get(l[c]),u=w.getEffect(r,d,null,null,t);s(n[c],u,t,"select")}}function r(e,t,a){w.unselSeriesObj=l(t,a);for(var r=w.unselSeriesObj.unselectedSeries,n=w.unselSeriesObj.indices,i=w.unselSeriesObj.charttypes,o=r.length,c=0;o>c;c++){var d=Ei.charttypenames.get(i[c]),u=w.getLegendHighlightEffect(n[c],"unselectedSeries"),h=w.getEffect(u,d,null,null,n[c]);s(r[c],h,n[c],"unselect")}}function n(){e.container.select(".highlight-canvas").style("visibility","hidden")}function i(a,r){function n(t,a){var l;if(hr(t)){var c=i.selectAll("g.heatmapseries_"+a);l=c.selectAll("path")}else if(lr(t)){var d=i.selectAll("g.barseries_"+a);l=d.selectAll("path.zcbar")}else if(t==Ei.charttype.line){var u=i.selectAll("g.lineseries_"+a);l=u.selectAll("path.line")}else if(ir(t)||t==Ei.charttype.web){var h=i.selectAll("g.areaseries_"+a);l=h.selectAll("path.area")}else{if(or(t)){var f=i.selectAll("g.scatterseries_"+a);l=f.selectAll("g.scatter"),l=T(l,!0,r,e);var g=l.selectAll("path.outer"),p=l.selectAll("path.inner");return s.push(g,p),void o.push(t,t)}if(t===Ei.charttype.bubblepie){var m=i.selectAll("g.piegroup");l=m.selectAll("path#arc_"+a)}else if(fr(t)){var m=i.selectAll("g.piegroup");l=m.selectAll(it(r)?"path":"path#arc_"+a)}else if(t==Ei.charttype.funnel){var v=i.selectAll("g.funnelgroup"),y=v.selectAll("g.trapezoidgroup");l=y.selectAll(it(r)?"path":"path#funnel"+a)}else if(t==Ei.charttype.pyramid){var x=i.selectAll("g.pyramidgroup");l=x.selectAll(it(r)?"g":"g#section_"+a)}else if(t==Ei.charttype.wordcloud){var w=i.selectAll("g.wordcloudgroup");l=w.selectAll(it(r)?"text":"text.series_"+a)}else if(-1!=Ei.chartcategory.hierarchy.indexOf(t)){var C=i.selectAll("g.hierarchychart");l=C.selectAll(".series_"+a)}}l=T(l,!0,r,e),s.push(l),o.push(t),(ir(t)||t==Ei.charttype.web)&&n(Ei.charttype.line,a),t==Ei.charttype.line&&b(r)&&n(Ei.charttype.scatter,a)}var i=t.selectAll("g.seriesholder"),l=P(null,"object",a,O).value,o=[],s=[];return n(l,a),{selectedSeries:s,charttypes:o}}function l(a,r){function n(t,a){var c,d;if(e.isAxisCategory||e.isNonAxisMultiSeriesCategory)e.seriesdata.forEach(function(n,u){if(1!=n.disabled&&(it(r)?u===a:u!==a)){d=t||P(null,"object",u,O).value;var h=it(r)?a:u;if(hr(d)){var f=s.selectAll("g.heatmapseries_"+h);c=f.selectAll("path")}else if(lr(d)){var g=s.selectAll("g.barseries_"+h);c=g.selectAll("path.zcbar")}else if(d==Ei.charttype.line){var p=s.selectAll("g.lineseries_"+h);c=p.selectAll("path.line")}else if(ir(d)||d==Ei.charttype.web){var m=s.selectAll("g.areaseries_"+h);c=m.selectAll("path.area")}else{if(or(d)){var v=s.selectAll("g.scatterseries_"+h);c=v.selectAll("g.scatter"),c=T(c,!1,r,e);var y=c.selectAll("path.outer"),x=c.selectAll("path.inner");return i.push(y,x),o.push(d,d),void l.push(h,h)}if(-1!=Ei.chartcategory.hierarchy.indexOf(d)){var b=s.selectAll("g.hierarchychart");c=b.selectAll(".series_"+h)}else if(d==Ei.charttype.wordcloud){var w=s.selectAll("g.wordcloudgroup");c=w.selectAll(".series_"+h)}else d===Ei.charttype.bubblepie&&(c=s.selectAll("g.piegroup").selectAll("path#arc_"+u))}c=T(c,!1,r,e),i.push(c),l.push(u),o.push(d)}});else{d=t||P(null,"object",a,O).value;var u,h=function(){var t=Hl(this),n=it(r)?!T(t,!1,r,e).empty():this.getAttribute("id")!=u+a;return n&&(i.push(t),l.push(a),o.push(d)),n};if(fr(d))u="arc_",c=s.selectAll("g.piegroup").selectAll("path").filter(h);else if(d==Ei.charttype.funnel)u="funnel",c=s.selectAll("g.trapezoidgroup").selectAll("path").filter(h);else if(d==Ei.charttype.pyramid){u="section_";var f=s.selectAll("g.pyramidgroup");c=f.selectAll("g").filter(h)}}(ir(d)||d==Ei.charttype.web)&&n(Ei.charttype.line,a),d==Ei.charttype.line&&b(r)&&n(Ei.charttype.scatter,a)}var i=[],l=[],o=[],s=t.selectAll("g.seriesholder");return n(null,a),{unselectedSeries:i,indices:l,charttypes:o}}function o(e,t,a,r){if(null!=t&&t.constructor==Object&&null!=e&&null!=e.node()){var n=c(e,a,r),i={},l=v(a);for(var o in t)if(t.hasOwnProperty(o)){l?(i[o]=i[o]||[],e.each(function(){i[o].push(d3.select(this).style(o))})):i[o]=e.styles(o);var s=t[o];Ks.SAFARI||Ks.IE?e.attr(o,function(e){return Ei.utils.getVal(s,[e,a])}).style(o,function(e){return Ei.utils.getVal(s,[e,a])}):e.style(o,function(e){return Ei.utils.getVal(s,[e,a])})}C[n]=C[n]||i,"select"===r&&w.raiseSelection(e)}}function s(t,a,r,n){if(null!=a&&a.constructor==Object&&null!=t&&null!=t.node()){if("svg"!==e.plot.renderer.mode)return void d(t,!1);var i=c(t,r,n),l=C[i],o=v(r);for(var s in l)if(l.hasOwnProperty(s)){var u=l[s],h=function(){return o?u[f++]:u},f=0;Ks.SAFARI||Ks.IE?t.style(s,h).attr(s,h):t.style(s,h)}}}function c(e,t,a){var r=e.node(),n=r.localName,i=r.getAttribute("class"),l=r.getAttribute("id"),o=n+"_"+t;return null!=i&&(o+="_"+i),null!=l&&(o+="_"+l),null!==a&&(o+="_"+a),o}function d(e,t){e.style("visibility",t?"visible":"hidden")}function u(t){return nr(e)?/(area|arearange)/.test(t)?"moody":"strokeEnlarge":/(bar|bullet|gantt|area|arearange|pie|funnel|pyramid|web|sunburst|waterfall)/.test(t)?"hatchfill":"heatmap"===t?"tinyHatchfill":/(treemap|wordcloud)/.test(t)?"blackyBorder":"strokeEnlarge"}function h(e,t){return/(line|scatter)/.test(t)&&/(((\D)+fill$)|illuminate|moody|flip)/.test(e)}function f(e,t,a){w.selSeriesObj=i(t,a);for(var r=w.getLegendHighlightEffect(t,"selectedSeries"),n=w.selSeriesObj.selectedSeries,l=w.selSeriesObj.charttypes,s=n.length,c=0;s>c;c++){var d=Ei.charttypenames.get(l[c]),u=w.getEffect(r,d,null,null,t);o(n[c],u,t,"select")}}function g(e,t,a,r){if(e.chartRendered){var n=e.highlightContext||(e.highlightContext=updateCanvasContext(e,"highlight-canvas")),i=(e.systemConf,e.legendHighlight.getLegendHighlightEffect(a,"selectedSeries"));if(e.dataObject.isPolarAxisCategory&&n.translate(e.plotarea_approx.x,e.plotarea_approx.y),i!==El){var l=e.chartTypes[a],o=l.name,s=l.value,c=createCanvasRenderer(o),d=e.seriesdata[a],u=null;if(el.setRendererProp(e,c,d,e.isNonAxisMultiSeriesCategory&&!e.dataObject.isPolarAxisCategory?0:a,{labelQueue:[]}),A&&(ir(s)||or(s)))u=e.legendHighlight.getEffect(i,s);else switch(o){case"bar":case"bullet":case"area":case"arearange":case"heatmap":case"treemap":case"web":var h=e.systemConf.chart.plot.plotoptions[o].fillOpacity,f=ec[i];f&&(u=p(f,w.baseClr,h));break;case"scatter":case"bubble":case"line":u=e.legendHighlight.getEffect(i,s)}drawCanvas(e,d,c,n,u,r)}}}function p(e,t,a){return e.bgClr_base=canvasUtils.rgba(t,a),e.stroke="transparent,white,white",Js.get(canvas_patterns,"canvasPatternFill",e)}function m(t,a){var r=w.getLegendHighlightEffect(a,"selectedSeries");if(r!==El){w.baseClr=ga(e,a);var n=e.chartTypes[a],l=n.name,o=n.value,s=i(a);if(s.selectedSeries[0].length>0)return void d(s.selectedSeries[0],!0);if(e.chartRendered){e.systemConf.chart.plot.animation.enabled=!1,e.systemConf.chart.plot.plotoptions[l].animation.enabled=!1,e.seriesdata[a].plotoptions&&e.seriesdata[a].plotoptions.animation&&(e.seriesdata[a].plotoptions.animation.enabled=!1);var c=mc(l),u=e.systemConf.seriesdata.chartdata[a],h=0;if(o===Ei.charttype.bar||o===Ei.charttype.stkdbar)for(var g=0;a>g;g++)n=e.chartTypes[g],o=n.value,void 0!=e.seriesdata[g].disabled&&e.seriesdata[g].disabled||!lr(o)||(h+=e.seriesdata[g].data.length);return el.setRendererProp(e,c,u,a,{labelQueue:[],barDatasetIndex:h}),vc(e,u,c),f(t,a),!0}}}function v(t){var a=P(null,Xo,t,O);return-1!=Ei.chartcategory.hierarchy.indexOf(a)||A||sr(a)||e.rendererConf&&e.rendererConf[e.isAxisCategory?t:0].thresholdType}function y(){if(e.dataObject.isHierarchy){var t=w.getEffect(w.getLegendHighlightEffect(0,"selectedSeries"),e.chartTypes[0].name),a=Object.keys(t);return a.length>0&&a.some(function(e){return"fill"!==e})}}function x(t,a){if(it(a)){var r=e.systemConf.legend.colorBand.ranges;return r&&r.length?ga(e,a):e.axes.clr.scale((a[0]+a[1])/2)}return ga(e,t)}function b(e){return Ks.IE||Ks.SAFARI||it(e)}var w={},C={},k=e.defsLocation,O=e.userdata,A=!e.nochartdata&&hc.isQuantileColorScale(e),S=Ei.DataProcessor.helpers,P=S.getChartType,T=xc.filterSelectionByColor;return w.highlightSelectedSeries=function(t,a,r){switch(w.baseClr=x(a,r),e.plot.renderer.mode){case"svg":f(t,a,r);break;case"canvas":g(e,t,a,r);break;default:m(t,a)}},w.highlightUnselectedSeries=function(e,t,a){for(var r=l(t,a),n=r.unselectedSeries,i=r.indices,s=r.charttypes,c=n.length,d=0;c>d;d++){var u=Ei.charttypenames.get(s[d]),h=this.getLegendHighlightEffect(i[d],"unselectedSeries"),f=w.getEffect(h,u,null,null,i[d]);o(n[d],f,i[d],"unselect")}},w.reset=function(t,i,l,o){switch(e.plot.renderer.mode){case"svg":a(t,i,l),r(t,i,l);break;case"canvas":n()}o!==!1&&(C={},this.resetSelection())},w.getLegendHighlightEffect=function(t,a,r){var n=P(null,"string",t,O),i=P(null,Xo,t,O),l=e.isAxisCategory||e.isNonAxisMultiSeriesCategory?e.seriesdata[t].plotoptions:e.seriesdata[0].plotoptions,o=e.systemConf.chart.plot.plotoptions[n],s=e.systemConf.legend.highlightEffect[a];return ef=l&&l.legendHighlightEffect&&o.legendHighlightEffect?Ei.utils.getValueOfPlotOptions(l.legendHighlightEffect,o.legendHighlightEffect)(a):o.legendHighlightEffect&&o.legendHighlightEffect[a],"plot"===r?ef||(s&&s!==El?s:u(n)):"selectedSeries"===a&&A&&(ir(i)||or(i)||i===Ei.charttype.line)?"strokeEnlarge(6)":ef||s||u(n)},w.getEffect=function(t,a,r,n,i){function l(){return/(waterfall)/.test(a)?!0:!1}function o(t,r){return"waterfall"==a?tn(t,e.renderer[r].commonRendererProp().params.categoryColorConfig,w.baseClr):w.baseClr}r=r||w.baseClr;var s=l();r=s?o:r;var c=tt(t,e,r,ec);if(c&&c.constructor==Object)return c;t=null===t||h(t,a)?u(a):t;var d={};if(e.patternPallete&&/(flip|moody|illuminate)/.test(t)){var f=e.patternPallete[(i||0)%e.patternPallete.length],g=ec[f]?ec[f]:D(f),p=function(e,a){var n=s?o(e,a):r;if(g.ele)g.bgClr_base=ca(n,1,"darker",Jl);else{var i="flip"===t?n:ca(n,1,"moody"===t?"darker":"brighter",Jl);if(g.bgClr_base=i,g.stroke_base=i,"flip"===t){g=sc(g);var l=g.bgClr_base;g.bgClr_base=g.stroke_base,g.stroke_base=l;var c=vt(g.bgClr),d=vt(g.stroke);g.bgClr=d,g.stroke=c}}var u=Js.get(tc,"svgPatternFill",g);return"url("+k+"#"+u+")"};d.fill=s?p:p()}else if(/(saturate|grayscale|blur|glow|shadow|boxShadow)/.test(t)){var m,v=/(saturate|grayscale)/.test(t)?"colorMatrix":"dropShadow";switch(t){case"saturate":m={type:"saturate",values:"0.3"};break;case"grayscale":m={type:"matrix",values:".33 .33 .33 0 0 .33 .33 .33 0 0 .33 .33 .33 0 0 0 0 0 1 0"};break;case"blur":m={blur:6,source:"SourceGraphic"};break;case"glow":m={blur:3,color:"gold"};break;case"shadow":m={dx:5,dy:5,blur:3};break;case"boxShadow":d.fill=r,d.stroke="white",m={dx:0,dy:0,blur:5,color:"rgba(0,0,0,0.3)"}}var y=Js.get(rc,v,m);d.filter="url("+k+"#"+y+")"}else if(/(moody|illuminate)/.test(t)){var x="moody"===t,b=function(e,t){var a=s?o(e,t):r;return-1!=a.indexOf("url")?x?"grey":"silver":ca(a,.6,x?"darker":"brighter",Jl)};d.fill=s?b:b()}else if(t.indexOf("strokeEnlarge")>-1){var C=t.split(/(\d+)/g)[1];if(d["stroke-width"]=it(C)?+C:3,A&&(d.visibility=Dl),n)for(var O in n)d[O]=n[O]}else if("fadeOut"===t)d["fill-opacity"]=d["stroke-opacity"]=.3;else if("blackyBorder"===t)d.stroke="rgba(0,0,0,0.5)",d["stroke-width"]=1;else if("invert"===t)d.fill="white",d.stroke=r,d["stroke-width"]=1,d["paint-order"]=null;else if("ridge"===t)d.fill=r,d.stroke="white",d["stroke-width"]=7;else if(t!==El){var g=ec[t];if(g){var b=function(e,a){var n=s?o(e,a):r,i=ec[t];i.bgClr_base=n,i.stroke="transparent,white,white";var l=Js.get(tc,"svgPatternFill",i);return"url("+k+"#"+l+")"};d.fill=s?b:b()}else d.fill=r}return d},w.raiseSelection=function(e){y()&&e.raise()},w.resetSelection=function(){if(y()){var e=t.selectAll("g.seriesholder").selectAll("g.hierarchychart");e.selectAll("*").sort(function(e,t){return e.index-t.index})}},w},Ei.legend.discrete=function(){},Ei.legend.discrete.get=function(){"use strict";function e(n){return n.each(function(n){var c,m=u(l),v=h(l,m),y=n.colorBox,x=n.itemDisabledStyle,b=[n,i.canvas,qs],w=null!=n.x&&""!==n.x&&null!=n.y&&""!==n.y,C=+Ei.utils.getVal(n.fontSize||i.canvas.fontSize),k=at(b,"fontColor"),O=l.dataset.getColumnIdx(l.xymultiRenderer||l.isNonAxisMultiSeriesCategory||hc.isQuantileColorScale(l)?"clr":"x"),A=n.showAs,S=y.position||"left",P=n.expandable||{},T=P.show===!0,E=!!l.renderer.length,L=xc.getFilterBoxSize(y,C),z=L[0],D=L[1],R=n.hAlign,j=n.vAlign,M=l.legend.states=l.legend.states||{allSelected:!0,isFirstClickAfterDeselection:!1};c="wrap"===n.textOverflow?{"word-wrap":"break-word","white-space":"normal","vertical-align":"top"}:{"text-overflow":"ellipsis","vertical-align":"middle"};var I=Hl(this);e.update=function(){I.transition().call(e)};var H={display:"block",position:"absolute",left:null,top:null};I.styles(H);var B=zt(I,"div",[n],".","class","legendgroup"),F=n.shadow;if(F.show===!0){var V=F.x+"px "+F.y+"px "+F.blur+"px "+F.color;V=F.inset?V+" inset":V,I.style("box-shadow",V)}else I.style("box-shadow",null);var N=eo(n.background.color.toString());I.style("background-color","rgba("+N.r+","+N.g+","+N.b+","+n.background.alpha+")");var Y=n.border;Y.show===!0?I.styles({border:+Y.size+"px "+Y.style+" "+Y.color,"border-radius":Y.radius+"px"}):I.style("border",null),l.filterEffectsID&&n.useChartEffect!==!1&&I.style("filter",l.filterEffectsID?"url(#"+l.filterEffectsID+")":null);var _=n.title,W=it(_.margin)?_.margin:3,X=zt(B,"ul",_.show===!0?[_]:[],".","class","zcheader"),U=zt(X,"li",[1],".","class","zcheader");X.styles({"white-space":"normal",overflow:"hidden",width:"","list-style-type":El,margin:0,padding:0}),U.styles({padding:ct(W),"white-space":"nowrap",overflow:"hidden","text-align":"left","text-overflow":"ellipsis","vertical-align":"middle"});var Q=Ei.legend.selectAllBox(U,l,M),q=Q.element,K=Q.options,$=Q.size,J=K.disabledOpacity;xc.fadeChart(M.allSelected,l,J);var et=zt(U,"span",[1],".","class","legendtitle");et.text(G(_.text)).style("padding-"+S,K.show?n.textPadding+"px":null).style("margin-"+S,K.show?$+"px":null),Ht(et,[_,i.canvas,qs],!0),q.style("margin",function(){var e=Math.max(0,(et.node().offsetHeight-q.node().offsetHeight)/2)+"px",t="0px",a=(z-$)/2+"px",r=(z-$)/2+"px";return e+" "+r+" "+t+" "+a}),U.style("line-height",function(){var e=K.show?q.node().offsetHeight:0,t=Math.max(et.node().offsetHeight,e);return t+"px"});var rt=zt(B,"ul",[n],".","class","legseries");rt.styles({"white-space":"normal","overflow-y":"hidden",width:"","list-style-type":El,margin:0,padding:0,"-webkit-overflow-scrolling":"touch","font-size":"0px"});var nt;T?(rt.style("overflow","hidden"),nt=zt(B,"div",[1],".","class","expandable"),nt.styles({color:P.fontColor,"font-size":Ei.utils.getVal(P.fontSize)+"px","font-family":P.fontFamily||at(b,"fontFamily"),"text-align":P.textAlign,cursor:zl,display:"block",padding:n.itemMargin+"px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}),nt.html(tt(P.text,0,l)||"0 more...")):B.select(".expandable").empty()||(B.selectAll(".expandable").remove(),rt.style("overflow-y","hidden"),rt.style("overflow-x","hidden"));var lt=zt(rt,"li",m,".","class","series");zt(lt,"div",[1],".","class","legendfilterbox"),zt(lt,"span",[1],".","class","legendlabel"),lt.styles({color:function(e){return g(p(e,M.allSelected,M.isFirstClickAfterDeselection),k,x)},position:"relative","white-space":"nowrap",padding:+n.itemMargin+"px",overflow:"hidden","text-align":"left","line-height":it(y.size)?gl(C,D)+"px":(Ks.OSX||Ks.LINUX)&&Ks.FIREFOX?"1.2":"normal","font-size":C+"px",width:null==n.itemWidth||""==n.itemWidth?null:n.itemWidth+"px",height:null==n.itemHeight||""==n.itemHeight?null:n.itemHeight+"px","font-family":at(b,"fontFamily"),"font-weight":at(b,"fontWeight"),display:function(e){return f(e)?El:w||"center"==j?"block":"inline-block"}}).styles(c).style("vertical-align","top"),Ei.legend.events(l,lt,M,J);var ot=lt.select("span.legendlabel");ot.style("padding-"+S,n.textPadding+"px").style("margin-"+S,z+"px").html(function(e,t){if(hc.isQuantileColorScale(l)){var a=n.colorBand,r=a.labels;if(r&&r.length)return Z(r[t])}var i=l.xymultiRenderer||l.isNonAxisMultiSeriesCategory?t:0,o=l.xymultiRenderer||l.isNonAxisMultiSeriesCategory?0:t;return A?l.dataset.getCustomizedVal(l,A,i,0,o,e,"legend"):l.dataset.getDataPointValue(l,e,O,i,null,"legend")}).attr("title",function(){return n.tooltip?this.textContent:null});var st={fontColor:function(e){return g(p(e,M.allSelected,M.isFirstClickAfterDeselection),k,x)},textDecoration:function(e){return p(e,M.allSelected,M.isFirstClickAfterDeselection)&&x.strikeout?"line-through":null}};Ht(ot,[st,n,i.canvas,qs],!0);var dt=rt.select("span.legendlabel").node().offsetHeight,ut=0;it(y.size)||"wrap"===n.textOverflow?ut=(gl(C,D)-D)/2:dt>D&&(ut=(dt-D)/2);var ht=lt.select("div.legendfilterbox");ht.styles({width:z+Tl,height:D+Tl,"float":S,"margin-top":ut+Tl,"border-color":Ll,"background-repeat":"repeat","line-height":D-y.strokeWidth+Tl,"text-align":"center","font-family":y.fontFamily,"font-size":(y.fontSize||C)+Tl,position:"absolute",display:"inline-block","box-sizing":"border-box"}),Ei.legend.setColorBoxBackground(ht,l,M);var ft,gt,pt=lt.node().offsetHeight,mt=l.legend.expanded,vt=[],yt=null!=n.itemWidth?+n.itemWidth:null;lt.each(function(){var e=Hl(this).select("div.legendfilterbox"),t=Hl(this).select("span.legendlabel");gt=gt||e.node().getBoundingClientRect().width,ft=t.node().getBoundingClientRect().width;var a=gt+ft;vt.push(yt||a+2*+n.itemMargin)}),yt=null!=n.itemWidth?yt:Vl(vt);var xt=n.itemHeight||gl(dt,D)+2*+n.itemMargin;rt.style("overflow-y",(T&&mt||!T)===!0?"auto":"hidden"),rt.style("overflow-x","hidden");var bt,wt=0,Ct=[];if(o=0,w){var kt=aa(n.maxHeight||bc,r.height);T&&(kt=hl(kt/pt)*pt);var Ot=l.legendarea.element.node().getBoundingClientRect(),At=pl(l.canvasarea.width-Ot.width,n.x),St=pl(l.canvasarea.height-pl(Ot.height,kt),n.y);I.style("left",At+"px"),I.style("top",St+"px"),rt.style("max-height",kt+"px")}else{var Pt=aa(n.maxWidth||("center"!=j?kc:Cc),r.width);if(B.style("max-width",Pt+"px"),X.style("max-width",Pt+"px"),"center"!=j){var kt=aa(n.maxHeight||wc,r.height),Tt=Pt-+n.marginLeft-+n.marginRight-(n.border.show?2*n.border.size:0);for(T&&(kt=hl(kt/pt)*pt,pt>kt&&(kt=pt));Tt>o&&wt<vt.length;)Ct[wt]=vt[wt],o+=vt[wt],wt++;for(var Et=function(e,t){return e+t};o>Tt&&wt>1;){Ct=[],wt--;for(var Lt=0;Lt<vt.length;Lt++)Ct[Lt%wt]=vt[Lt%wt];o=Ct.reduce(Et)}var Dt=vt.length%wt,Rt=(vt.length-Dt)/wt,jt=0==Dt?Rt:Rt+1;rt.styles({height:jt*xt+2+"px","max-height":kt+"px","max-width":Pt+"px"});var Mt=rt.node().scrollHeight>rt.node().offsetHeight?d:0;s=o+2+Mt,rt.style("width",s+"px");var It=t(n,I);bt=a(rt),it(nt)&&bt>=v&&(zt(B,"div",[],".","class","expandable"),It=t(n,I)),I.styles({left:It.x+"px",top:It.y+"px"})}else{wt=1;var kt=aa(n.maxHeight||bc,r.height);T&&(kt=hl(kt/pt)*pt),rt.styles({"max-height":kt+"px","max-width":Pt+"px"});var Mt=rt.node().scrollHeight>rt.node().offsetHeight?d:0;s=yt+2+Mt,bt=a(rt),it(nt)&&bt>=v&&zt(B,"div",[],".","class","expandable"),rt.styles({width:s+"px",height:null});var Bt=I.node().getBoundingClientRect().width;"right"==R||"center"==R?(I.style("left",r.width-Bt-+n.marginRight+"px"),I.style("top",r.top+ +n.marginTop+"px")):(I.style("left",+n.marginLeft+"px"),I.style("top",r.top+ +n.marginTop+"px"))}}if(T){var Ft=dc(bt,a(rt));if(v>Ft){nt.styles({width:s+"px"});var Vt=tt(P.text,v-Ft,l)||v-Ft+" more...";mt?E&&mt&&nt.html(function(){return tt(P.ontoggle,this,mt,l)||"Show less.."}):nt.html(Vt),nt.on("click",function(){mt=l.legend.expanded=!l.legend.expanded;var e=tt(P.ontoggle,this,mt,l);it(e)&&(e+=""),mt?(this.innerHTML=e||"Show less..",rt.style("overflow-y","auto")):(rt.node().scrollTop=0,Ft=a(rt),this.innerHTML=e||tt(P.text,v-Ft,l)||v-Ft+" more...",rt.style("overflow-y","hidden"))})}else nt.remove()}}),e}function t(e,t){var a=e.hAlign,n=e.vAlign,i=t.node().getBoundingClientRect(),l=i.width,o=t.node().offsetHeight,s={};return"left"==a?s.x=r.left+ +e.marginLeft:"center"==a?s.x=r.width/2-l/2:"right"==a&&(s.x=r.width-l-+e.marginRight),"top"==n?s.y=r.top+ +e.marginTop:"bottom"==n&&(s.y=r.height+r.top-o-+e.marginBottom),s}function a(e){for(var t=e.node(),a=t.children,r=0,n=0,i=a.length;i>n&&xt(a[n],t);n++)r++;return r}var r,n,i,l,o=0,s=0,c=lo("legendClick","legendDblclick","legendMouseover","legendMouseout"),d=20,u=xc.getLegendData,h=xc.getLegendDataLength,f=xc.isHiddenItem,g=xc.getClr,p=xc.isDisabled;return e.dispatch=c,e.chartarea=function(t){return arguments.length?(r=t,e):r},e.systemconf=function(t){return arguments.length?(i=t,e):i},e.chartObj=function(t){return arguments.length?(l=t,e):l},e.color=function(t){return arguments.length?(n=t,e):n},e},function(){var e=xc.getLegendData,t=xc.getLegendDataLength,a=xc.isHiddenItem,r=xc.isDisabled,n=xc.isAllEnabled,i=xc.getClr,l=xc.updateData;Ei.legend.events=function(o,s,c,d){function u(e,t,a){P.toggleItemNUpdateChart(e,t,a,T)}function h(e,t,a){P.highlightSeries(e,t,a,T,o,!0),P.highlightItem(e,t,a,T,!0)}function f(e,t,a){P.highlightSeries(e,t,a,T,o),P.highlightItem(e,t,a,T)}var g,p,m,v,y,x,b,w,C,k,O,A,S,P=o.legend.component,T=o.systemConf.legend,E=T.itemDisabledStyle,L=T.colorBox,z=[T,o.systemConf.canvas,qs],D=[T.itemHoverStyle,T,o.systemConf.canvas,qs],R=at(z,"fontColor"),j=o.systemConf.legend.events;if(null!=j&&(S=0==rt(j.enabled,!0),y=j.click,x=j.doubleclick,b=j.mouseover,w=j.mouseout,A=j.cursor,C=j.tap,k=j.taphold,O=j.tapholdend),!S){s.style("cursor",A||zl);var M={chartObj:o},I=function(e,t){if(Ac=null,null==b)h(this,e,t);else{var a=o.zcEventType?k:b;tt(a,d3.event,e,t,o)}},H=function(e,t){if(null==w)f(this,e,t);else{var a=o.zcEventType?O:w;tt(a,d3.event,e,t,o)}},B=function(e,t){var a=d3.event&&d3.event.touches;if(a&&Lc(),null==y)u(this,e,t);else{var r=o.zcEventType?C:y;tt(r,d3.event,e,t,o)}},F=function(e,t){if(null==x);else tt(x,d3.event,e,t,o)},V={mousemove:I,mouseout:H,click:B,dblclick:F},N={taphold:I,tapholdend:H,tap:B,dbltap:F};Sr(s,V,N,M)}P.filterSeriesNUpdate=function(r,n,i){m||(m=e(i),v=t(i,m));var o=m[n],s=m.filter(function(e,t){if(!c.allSelected&&!c.isFirstClickAfterDeselection){a(e)||(e.disabled=!c.allSelected),l(e,t,i),xc.toggleChartEvents(i,!0),xc.fadeChart(!0,i,d);var r=i.eventHandler.tooltipElement;r.hide(r.element)}return e.disabled}),u=s.length==v-1&&!o.disabled;u||(o.disabled=!o.disabled,i.dataObject.hierarchical&&!hc.isQuantileColorScale(i)&&(i.systemConf.seriesdata.chartdata[n].disabled=o.disabled),l(o,n,i),i.addRemoveSeries(o,0,o.yaxiscolumnorder,!c.allSelected&&!c.isFirstClickAfterDeselection)),c.allSelected||c.isFirstClickAfterDeselection||(c.isFirstClickAfterDeselection=!0)},P.toggleItemNUpdateChart=function(e,t,a,r){var l=o.legendarea.element;if(g=g||l.selectAll("div.legendfilterbox"),p=p||l.selectAll("div.selectAll"),r.filter.enabled){o.legendHighlight.resetSelection(),P.filterSeriesNUpdate(t,a,o);var s,d=Hl(e),u=i(t.disabled,R,E);t.disabled&&(P.highlightItem(e,t,a,r,!1,!0),E.strikeout&&(s="line-through")),d.selectAll(".legendlabel").styles({color:u,"text-decoration":s}),Ei.legend.setColorBoxBackground(g,o,c),null==d3.event.touches&&h(e,t,a)}c.allSelected||(c.allSelected=!c.allSelected),p.empty()||p.html(n(m,c.allSelected)?L.text||"&#10003;":(E.colorBox||{}).text||"")},P.highlightItem=function(e,t,a,n,i,l){if((l||!r(t,c.allSelected,c.isFirstClickAfterDeselection))&&n.itemHoverStyle){var o=Hl(e);o.style("background-color",(i?n.itemHoverStyle:n).backgroundColor),Ht(o.selectAll("span"),i?D:z,!0)}},P.highlightSeries=function(e,t,a,r,n,i){if(n.highlightContext=null,hc.isQuantileColorScale(n)){var l=n.legendHighlight,o=a;i?t.disabled||n.seriesdata.forEach(function(e,t){l.highlightSelectedSeries(r,t,o),l.highlightUnselectedSeries(r,t,o)}):n.seriesdata.forEach(function(e,t){l.reset(r,t,o,n.seriesdata.length-1===t)})}else{var l=n.legendHighlight;i?t.disabled||(l.highlightSelectedSeries(r,a),l.highlightUnselectedSeries(r,a)):l.reset(r,a)}}}}(),function(){function e(e,r,n,i,o,s){n=l(n),i=l(i);var c=o.systemConf.legend,d=c.colorBox,u=c.shapes,h=(u?u[s%u.length]:null)||d.shape,f=h||!Ei.legend.getHTML4ChartTypeSymbol||hc.isQuantileColorScale(o)&&o.dataObject.isCombinationalChart?t(e,r,n,i,h,d):Ei.legend.getHTML4ChartTypeSymbol(e,r,i,o,s);if(a(f))return'url("'+f+'")';var g="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='"+e+"' height='"+r+"'>";return g+=f,g+=" </svg>",'url("data:image/svg+xml;'+(Ks.IE?"base64":"utf8")+","+(Ks.IE?Qs(g):g)+'")'}function t(e,t,a,r,n,i){var o=F(n||"square")(10);return"<path d='"+o+"' transform='translate("+e/2+","+t/2+") scale("+e/(10+2*rt(i.strokeWidth,1))+")' style='stroke: "+l(a)+"; fill: "+l(r)+"; fill-opacity: "+i.fillOpacity+"; stroke-width: "+rt(i.strokeWidth,1)+"px; stroke-opacity: "+i.strokeOpacity+";'></path>"}function a(e){return e&&!("<"===e[0]||0===e.indexOf('url("data'))}function r(e,t,a,r){var n=document.createElement("canvas"),i=n.getContext("2d");n.width=t,n.height=a;var l=new Image;l.src=e.substring(5,e.length-2),l.width=t,l.height=a,l.onload=function(){i.drawImage(l,0,0,t,a);for(var e=i.getImageData(0,0,n.width,n.height),o=0;o<e.height;o++)for(var s=0;s<e.width;s++){var c=4*o*e.width+4*s,d=(e.data[c]+e.data[c+1]+e.data[c+2])/3;e.data[c]=d,e.data[c+1]=d,e.data[c+2]=d}i.putImageData(e,0,0,0,0,e.width,e.height),r.style("background","url("+n.toDataURL()+")")}}var n=xc.getClr,i=xc.isDisabled,l=xc.hexToRGB;Ei.legend.setColorBoxBackground=function(t,l,o){var s,c,d,u,h,f,g,p,m,v=l.systemConf.legend,y=v.colorBox,x=v.itemDisabledStyle,b=x.colorBox||{},w=v.imagePallete?Ei.legutil.imagePallete.get(v.imagePallete):null,C=it(w)&&w.length>0,k=l.patternPallete,O=k&&k.length,A=!l.patternPallete&&(it(v.shapes)||"square"!==y.shape),S=b.grayScale,P=+Ei.utils.getVal(v.fontSize||l.systemConf.canvas.fontSize),T=xc.getFilterBoxSize(y,P),E=T[0],L=T[1],z=null;
t.each(function(t,v){if(p=Hl(this),m=i(t,o.allSelected,o.isFirstClickAfterDeselection),u=n(m,dc(y.strokeColor,ga(l,v)),x),s=d=n(m,dc(y.fillColor,ga(l,v)),x),h=y.borderRadius,f=m?b.fillOpacity:null,g=null,m&&S&&Ks.IE&&(d=va(d),u=va(u)),C)if(m&&x.color)s=x.color;else{s='url("'+w[v%w.length]+'")';var P=l.patternImageSizes&&l.patternImageSizes;z=P[v]?P[v%P.length][0]+Tl+" "+P[v%P.length][1]+Tl:null}else if(A)s=e(E,L,u,s,l,v),h=null;else if(O){var T=k[v%O],R=ec[T]?ec[T]:D(T);R.bgClr_base=d,R.stroke_base=d,R.width=E,R.customStaticClr=l.userdata.legend.customPatternColor,R.x=R.y=0;var j="zp"+W(R,"legelegendndFill"),M=tc.svgPatternFill(R,j,null,!0,!0,"objectBoundingBox"),I=M.width,H=M.height;s='url("'+M.url+'")',z=(E>2*I?I:E/2)+Tl+" "+(L>2*H?H:L/2)+Tl,c=y.strokeWidth+Tl+"solid "+u}else c=y.strokeWidth+Tl+"solid "+u;if(a(s)&&(z=z||E+Tl+" "+L+Tl,m&&S&&Ks.IE)){var B=z.split("px").map(function(e){return+e});r(s,B[0],B[1],p)}p.styles({background:s,"background-size":z,color:m?b.fontColor:y.fontColor||"white",border:c,"border-radius":it(h)?h+Tl:null,opacity:m?f:null,filter:m&&S&&!Ks.IE?"grayscale(1)":null}).html(m?b.text||"":y.text)})}}(),function(){function e(e){return function(t){switch(e){case Ls:case Ds:case zs:case Rs:return"M"+.5*-t+" "+.5*t+" L"+.5*-t+" "+.2*-t+" L"+.25*-t+" "+.2*-t+" L"+.25*-t+" "+.5*t+"Z  M"+.125*-t+" "+.5*t+" L"+.125*-t+" "+.5*-t+" L"+.125*t+" "+.5*-t+" L"+.125*t+" "+.5*t+"Z  M"+.25*t+" "+.5*t+" L"+.25*t+" "+.1*t+" L"+.5*t+" "+.1*t+" L"+.5*t+" "+.5*t+"Z";case js:case Ms:return"M"+.5*-t+" "+.5*t+" L"+.5*-t+" "+.28*t+" L"+.24*-t+" "+.08*t+" L"+.13*-t+" "+.19*t+" L"+.07*t+" "+.14*-t+" L"+.23*t+" "+.012*t+" L"+.5*t+" "+.5*-t+" L"+.5*t+" "+.5*t+"Z";case Vs:case Fs:case Us:return"M"+.045*t+" "+.045*-t+" L"+.5*t+" "+.045*-t+" A "+.455*t+" "+.455*t+" 0 0 0 "+.045*t+" "+.5*-t+"Z M"+.045*-t+" "+.045*t+" L"+.045*-t+" "+.41*-t+" A "+.455*t+" "+.455*t+" 1 1 0 "+.41*t+" "+.045*t+"Z";case Ys:return"M"+.5*-t+" "+.5*-t+" L "+.5*t+" "+.5*-t+" L "+.15*t+" "+.2*t+" L "+.15*t+" "+.5*t+" L "+.15*-t+" "+.5*t+" L "+.15*-t+" "+.2*t+"Z";case _s:return"M0 "+.5*-t+" L"+.23*t+" "+.06*-t+" L"+.23*-t+" "+.06*-t+"Z M"+.5*-t+" "+.5*t+" L"+.5*t+" "+.5*t+" L"+.27*t+" 0 L"+.27*-t+" 0Z";case Ws:return F("line")(t);case Zs:return F("square")(t);case Hs:case Bs:case Gs:case Is:default:return F(e)(t)}}}function t(e,t,a){var r,n=at([e,t],"dashStyle"),i=O(n,.75*a);if(i&&i.length){var l=A(at([e,t],"lineCap"),n);r="stroke-dasharray:"+i+";stroke-linecap:"+l+";"}return r}function a(t,a,r,n,l,o,s){var c=e(t.symbol)(o),d="stroke:"+i(t[l?l+"StrokeColor":"strokeColor"]||n)+";stroke-width:"+rt(t[l?l+"StrokeWidth":"strokeWidth"],1)+";stroke-opacity:"+rt(t[l?l+"StrokeOpacity":"strokeOpacity"],1)+";fill:"+(s||i(t[l?l+"FillColor":"fillColor"]||n))+";fill-opacity:"+rt(t[l?l+"FillOpacity":"fillOpacity"],1)+";";return"<path d='"+c+"' transform='translate("+a/2+","+r/2+")' style='"+d+"'></path>"}function r(e,t,a,r,n,i,l){var o,s=e&&e.gradients?oc(t.gradients||{},e.gradients,!0):t.gradients||{},c="";if("linear"===s.type||"radial"===s.type){var d=T(s,[a,r],n,1),u={offset:l,chartObj:i},h=Js.get(ac,"svgGradientFill",d,u),f=new XMLSerializer,g=f.serializeToString(Hl("#"+h).node());g=g.replace(/"/g,"'"),c="<defs>"+g+"</defs>",o="url("+(Ks.IE?"#":"%23")+h+")"}return{defs:c,fill:o}}function n(e,t,a,r,n,l){var o=e.borderRadius;o&&(o=pl(pl(t,a)/4,o));var s=Mt(-t/2,-a/2,t,a,n.dataObject.getTransRectValue("radius",null,null,null,null,o)),c="stroke:"+i(e.strokeColor||r)+";stroke-width:"+rt(e.strokeWidth,1)+";stroke-opacity:"+rt(e.strokeOpacity,1)+";fill:"+(l||i(e.fillColor||r))+";fill-opacity:"+rt(e.fillOpacity,1)+";";return"<path d='"+s+"' transform='translate("+t/2+","+a/2+")' style='"+c+"'></path>"}var i=xc.hexToRGB;Ei.legend.getHTML4ChartTypeSymbol=function(i,l,o,s,c){var d=hc.isQuantileColorScale(s),u=(s.isAxisCategory||s.dataObject.isPolarAxisCategory||s.dataObject.isHierarchy)&&!d?c:0,h=s.chartTypes[u].name,f=s.systemConf.chart.plot.plotoptions[h],g=d?Dl:s.seriesdata[u].plotoptions,p=e(h)(i);switch(h){case Is:case Ws:var m=.15*l,v=g&&g.marker?oc(f.marker,g.marker,!0):f.marker,y=t(g,f,m),x="",b="stroke:"+o+";stroke-width:"+m+";";if(y)b+=y;else if(0!=v.enabled){var w=h===Ws?.5:.65,C=h===Ws?.25:.45;x=a(v,i,l,o,"outer",pl(i,l)*w),x+=a(v,i,l,o,"inner",pl(i,l)*C)}return"<path d='"+p+"' transform='translate("+i/2+","+l/2+")' style='"+b+"'></path>"+x;case Hs:case Bs:var v=g&&g.marker?oc(f.marker,g.marker,!0):f.marker;if(v.imageUrl)return v.imageUrl;var k=pl(i,l)-rt(v.outerStrokeWidth,1),O=.5*pl(i,l)-rt(v.innerStrokeWidth,1),A=r(g,f,k,k,v.outerFillColor||o,s,h),S=r(g,f,O,O,v.innerFillColor||o,s,h);return A.defs+a(v,i,l,o,"outer",k,A.fill)+S.defs+a(v,i,l,o,"inner",O,S.fill);case Gs:var P=pl(i,l)-rt(f.strokeWidth,1),T=r(g,f,P,P,o,s,h);return T.defs+a(f,i,l,o,null,P,T.fill);case Xs:if(f.symbol&&F(f.symbol)){var P=pl(i,l)-rt(f.strokeWidth,1),T=r(g,f,P,P,o,s,h);return T.defs+a(f,i,l,o,null,P,T.fill)}var m=rt(f.strokeWidth,1),E=i-m,L=l-m,T=r(g,f,E,L,o,s,h);return T.defs+n(f,E,L,o,s,T.fill);default:var T=r(g,f,i,l,o,s,h),b="fill:"+(T.fill||o)+";";return T.defs+"<path d='"+p+"' transform='translate("+i/2+","+l/2+")' style='"+b+"'></path>"}}}(),function(){var e={show:!1,strokeColor:"#262626",strokeWidth:1,fillColor:Ll,fontColor:"#262626",disabledOpacity:.3,tooltip:{enabled:!0,color:"red",content:"Select atleast one legend"},events:{click:null}},t=xc.getLegendData,a=xc.isDisabled,r=xc.isAllEnabled,n=xc.getClr,i=xc.toggleChartEvents,l=xc.updateData;Ei.legend.selectAllBox=function(o,s,c){function d(){(!c.allSelected||r(y,c.allSelected))&&(c.allSelected=!c.allSelected),c.isFirstClickAfterDeselection=!1,j.html(c.allSelected?b.text||"&#10003;":k.text||"");var e=w.events[s.zcEventType||"click"];tt(e,d3.event,c.allSelected,s)}function u(){if(h(),f(),i(s,c.allSelected),xc.fadeChart(c.allSelected,s,R),D.enabled){var e=s.eventHandler.tooltipElement;p||(p=e.element.selectAll("div#tooltipcontent").style("color"));var t=s.systemConf.tooltip,a=ct(it(t.borderWidth)?t.borderWidth:1);if(c.allSelected){var e=s.eventHandler.tooltipElement;g(e,null,a,p),e.hide(e.element)}else{var r=pr(z,d3.event);r={x:r[0],y:r[1]};var n=Tr(d3.event),l=wr(n,r,0,0,s,{},!1,!1,!1,!0,!1),o=r.x-n.clientX,d=r.y-n.clientY;l.dLeft=o,l.dTop=d,l.helpers.color=D.color,l.helpers.backgroundColor=D.backgroundColor,l.helpers.borderColor=D.borderColor,g(e,"center",null,D.fontColor||p),e.show(s,l,D.content,!1,l.helpers),setTimeout(function(){var e=s.eventHandler.tooltipElement;g(e,null,a,p),e.hide(e.element)},4e3)}}}function h(){y||(y=t(s)),c.allSelected&&(y.forEach(function(e,t){e.disabled=!c.allSelected,l(e,t,s)}),s.addRemoveSeries(y,0,[0,0],!0))}function f(){if(!v){var e=s.legendarea.element;v=e.selectAll("div.legendfilterbox"),m=e.selectAll("span.legendlabel")}Ei.legend.setColorBoxBackground(v,s,c);var t,a;c.allSelected?(t=S,a=null):(t=n(!0,S,C),a=JSON.parse(C.strikeout)?"line-through":null),m.styles({color:t,"text-decoration":a})}function g(e,t,a,r){e.element.attr("align",t).styles({"border-width":a}),e.element.selectAll("div#tooltipcontent").style("color",r)}e.events.click=s.legend.component.toggleSelectAll=u;var p,m,v,y=t(s),x=s.systemConf.legend,b=x.colorBox,w=oc(e,x.selectAllBox,!0),C=x.itemDisabledStyle,k=C.colorBox||{},O=[x,s.systemConf.canvas,qs],A=+Ei.utils.getVal(x.fontSize||s.systemConf.canvas.fontSize),S=at(O,"fontColor"),P=(x.imagePallete?Ei.legutil.imagePallete.get(x.imagePallete):null,xc.getFilterBoxSize(b,A)),T=P[0],E=P[1],L=Math.min(T,E)-(x.imagePallete||!it(x.shapes)||"square"===b.shape?0:+b.strokeWidth),z=s.container.node(),D=w.tooltip,R=w.disabledOpacity;c.allSelected=it(w.selected)?w.selected:c.allSelected;var j=zt(o,"div",[1],".","class","selectAll");j.styles({display:w.show?"inline-block":El,width:L+"px",height:L+"px",border:w.strokeWidth+"px solid "+w.strokeColor,"background-color":w.fillColor,"float":"left",position:"absolute","box-sizing":"border-box","text-align":"center","line-height":L+"px","font-family":b.fontFamily,"font-size":(b.fontSize||A-2)+"px",color:function(e){return w.fontColor||(a(e,c.allSelected,c.isFirstClickAfterDeselection)?k.fontColor:b.fontColor)}}).html(r(y,c.allSelected)?b.text||"&#10003;":k.text||""),o.style("cursor",w.show?zl:null);var M={click:d},I={tap:d};if(w.show?Sr(o,M,I):(Pr(o,null,M),Pr(o,null,I)),s.eventHandler){var H=s.eventHandler.tooltipElement;H.hide(H.element)}return{element:j,options:w,size:L}}}(),function(){function e(e,t){var a=t.systemConf,r=a.legend.title,n=r.show,i=o(a),l=i.left,s=i.right,c=i.top,d=i.bottom;e.attr("transform",n?"translate("+l+","+c+")":Dl);var u=zt(e,"text",n?[1]:[],".","class","legendtitle");Ht(e,[r,a.canvas,qs]),u.text(G(r.text)).attr("dy","0.91em");var h=U(u.node()),f=zt(e,"path",n?[1]:[],".","class","zchart-legend-title-background");f.attr("d",Mt(h.x-l,h.y-c,h.width+l+s,h.height+c+d,t.dataObject.getTransRectValue("radius",Dl,Dl,Dl,Dl,0))).style("opacity",0)}function t(e,t,a){var r=t.systemConf.legend,n=r.background,i=r.colorBand,l=Lt(i.padding),o=r.border,s=o.show,c=dc(o.strokeWidth,1),d=O(o.style,c),u=A(o.lineCap,o.style),h=t.dataObject.getTransRectValue("radius",null,null,null,null,s?o.radius:void 0);e.attrs({d:Mt(a.x-l.left,a.y-l.top,a.width+l.left+l.right,a.height+l.top+l.bottom,h)}).styles({stroke:o.color,"stroke-width":s?o.size:0,"stroke-dasharray":d,"stroke-linecap":u,fill:n.color||Ll,"fill-opacity":n.alpha})}function a(e,t,a,r){e===ks?a[1]+=t:e===Cs?r[1]+=t:e===bs?a[0]+=t:r[0]+=t}function r(e,t){var a=t.selectAll("g.zchart-minmaxlabels,line.majorTicks");a.style("display",El);var r=sc(U(t.node()));return a.style("display",null),r}function n(e,t,a,r,n,i,l,o){var s=t.align,c=[];return c[0]=a===bs?s===ws?i.width:s===bs?gl(i.width,o.width):gl(i.width,o.width/2):a===ws?s===ws?0:s===bs?o.width:o.width/2:s===ks||s===Cs?0:-o.x,c[1]=l.height,a===bs||a===ws?c[1]-=pl(0,o.y):a===Cs&&s===ks&&(c[1]+=o.height),n===ks&&(c[1]+=i.height),c}function i(e,t,a,r,n,i,o,s,c){var d=t.minmaxlabels,u=d.align,h=[];return h[0]=a===bs?u===ws?i.width:u===bs?gl(i.width,s.width):gl(i.width,s.width/2):a===ws?u===ws?c[0]:u===bs?c[0]+s.width:c[0]+s.width/2:u===ks||u===Cs?c[0]:c[0]-s.x,h[1]=o.height,a===bs||a===ws?h[1]-=pl(0,s.y):a===Cs&&u===ks&&(h[1]+=s.height),h[1]+=a===ks?i.height:c[1],h=l(h,t.axisline,a)}function l(e,t,a){var r=t.show?rt(t.strokeWidth,1):0,n=r-.5;return a===bs?e[0]-=n:a===ws?e[0]+=n:a===Cs?e[1]+=n:e[1]-=n,e}function o(e){var t=e.legend.title,a=0;return t.show&&(a=it(t.margin)?t.margin:3),Lt(a)}function s(e){var t={label:{},grid:{color:Ll},ticklabel:{fontColor:e.fontColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,tooltip:e.tooltip},minmaxlabels:{padding:2,align:"center",fontSize:e.fontSize},tickmark:{color:"#B0B0B0",size:3},axisline:{show:!1}},a=e.colorAxis||{};return a=oc(t,a,!0)}function c(e,t,l,o,s,c,d,u,h){var f=o.systemConf,g=U(l.node()),p=xc.getOrient(o.systemConf.legend),m=r(p,e),v=U(e.selectAll("g.zchart-minmaxlabels").node()),y=n(f,s.minmaxlabels,p,c,d,m,g,v),x=i(f,s,p,c,d,m,g,v,u);return a(p,h,y,x),t.attr("transform","translate("+y[0]+","+y[1]+")"),e.attr("transform","translate("+x[0]+","+x[1]+")"),{axisGroupPosition:x,bandGroupPosition:y}}Ei.legend.continuous=function(){},Ei.legend.continuous.get=function(){"use strict";function a(n){return n.each(function(a){function n(){i=U(b.node());var e,t,r=i.width,n=it(h.x)&&it(h.y);return n?[h.x-i.x+y.left,h.y-i.y+y.top]:(m!=xs?(e=p==ws?l.left+l.width-r-a.marginRight-i.x-y.right:p==bs?l.left+a.marginLeft+y.left-i.x:l.width/2-r/2-i.x,t=m===ks?l.top+y.top+a.marginTop-i.y:l.top+l.height-y.bottom-a.marginBottom-i.height-i.y):(e=p==ws?l.left+l.width-r-a.marginRight-i.x-y.right:l.left+a.marginLeft+y.left-i.x,t=l.top+a.marginTop+y.top-i.y),[e,t])}var i,o=d(r),h=(u(r,o),r.systemConf.legend),f=h.colorBand,g=s(h),p=a.hAlign,m=a.vAlign,v=rt(f.strokeWidth,1)/2,y=Lt(f.padding),x=g.show===!1,b=Hl(this),w=zt(b,"path",[1],".","class","zchart-background"),C=zt(b,"g",[1],".","class","zcheader"),k=zt(b,"path",[1],".","class","colorband"),O=zt(b,"g",x?[]:[1],".","class","legend-axis");w.style("display",El),b.selectAll(".brush,.highlight").style("display",El),e(C,r),Ei.legend.colorBand(k,r),Ei.legend.colorAxis(O,r,g);var A=x?[0,0]:jt(O).translate,S=c(O,k,C,r,g,p,m,A,v),P=n();x||(Ei.legend.colorAxis.handleOverlapNOverlap(O,S.axisGroupPosition,P,r,l,g),S=c(O,k,C,r,g,p,m,A,v),P=n()),b.selectAll(".brush,.highlight").style("display",Dl);new Oc(r,{position:S.bandGroupPosition});Ei.legend.continuous.events(r,{position:S.bandGroupPosition}),P=n(),b.attr("transform","translate("+P[0]+","+P[1]+")"),i=U(b.node()),t(w,r,i),w.style("display",null),r.filterEffectsID&&a.useChartEffect!==!1&&b.style("filter",r.filterEffectsID?"url(#"+r.filterEffectsID+")":null)}),a}var r,n,i,l,o=lo("legendClick","legendDblclick","legendMouseover","legendMouseout"),d=xc.getLegendData,u=xc.getLegendDataLength;return a.dispatch=o,a.chartarea=function(e){return arguments.length?(l=e,a):l},a.systemconf=function(e){return arguments.length?(n=e,a):n},a.chartObj=function(e){return arguments.length?(r=e,a):r},a.color=function(e){return arguments.length?(i=e,a):i},a}}(),Ei.legend.colorBand=function(e,a){var r,n,i,l,o=a.systemConf.legend,s=o.colorBand,c=xc.getColorBandDimension(a),d=c[0],u=c[1],h=o.vAlign===Cs||o.vAlign===ks,f=s.ranges&&s.ranges.length,g=xc.isReversedColorAxis(a),p=a.dataObject.getTransRectValue("radius",Dl,Dl,Dl,Dl,s.borderRadius);g?(r=h?100:0,l=h?0:100):(n=h?100:0,i=h?0:100);var m,v,y,x=a.axes.clr.scale;if(f){v=x.range().filter(function(e){return e!==Dl});for(var b=[],w=[],C=0;f>C;C++)b.push(C,C+1),w.push(v[C],v[C]);m=b,v=w,y=Ql().domain(m).range([0,100])}else m=x.domain(),v=x.range(),m[0]===m[1]&&(v=[v[0],v[0]]),y=Ul().domain([m[0],m[m.length-1]]).range([0,100]);var k={type:"linear",options:{linear:{x1:r,y1:i,x2:n,y2:l,gradientUnits:"objectBoundingBox",stopColor:v,stopOffset:m.map(function(e){return t(y(e))+"%"})}}},O=[0,d],A=T(k,O),S={chartObj:a},P=Js.get(ac,"svgGradientFill",A,S);e.attr("d",Mt(0,0,d,u,p)).styles({stroke:s.strokeColor,"stroke-opacity":s.strokeOpacity,"stroke-width":s.strokeWidth,"fill-opacity":s.fillOpacity,fill:"url("+a.defsLocation+"#"+P+")","pointer-events":"visible"})},function(){function e(e,t,a,r){var n,i,l,o;return n=i=l=o=0,e==Cs?(i=-r,o=-a-r):e==ks?(i=r,o=a+r):e==bs?(n=t+r,l=r):e==ws&&(n=-t-r,l=-r),{x1:n,y1:i,x2:l,y2:o}}function t(e,t,r,n,i){var o=n.systemConf.legend,s=xc.getOrient(o),c=[],d=l(n,i),u={left:d.x1,top:d.y1,right:d.x2,bottom:d.y2},h={left:5,right:5,top:5,bottom:5},f="..";if(e.each(function(e,n){var i=a(this,t,r),l={left:i.x1,top:i.y1,width:i.width,height:i.height};Dt(this,this.textContent,l,u,Cs,f,h),this.textContent===f&&Hl(this).text(""),c[n]=a(this,t,r)}),(s===Cs||s===ks)&&c.length&&ci(c[0],c[1])){var g=c[1].x2-c[0].x1;e.each(function(e,n){var i=a(this,t,r),l={left:i.x1,top:i.y1,width:i.width,height:i.height},o=sc(u);0===n?o.right=i.x1+g/2:o.left=i.x2-g/2,Dt(this,this.textContent,l,o,Cs,f,h),this.textContent===f&&Hl(this).text(""),c[n]=a(this,t,r)})}return c}function a(e,t,a,r){r=r||[0,0];var n=U(e),i={x1:n.x+t[0]+a[0]+r[0],y1:n.y+t[1]+a[1]+r[1],width:n.width,height:n.height};return i.x2=i.x1+n.width,i.y2=i.y1+n.height,i}function r(e,t,r,l,o){var s=U(o.legendarea.element.node()),c=[],d=[],u=0;e.each(function(){d.push(U(this).width)}),d=Vl(d),e.each(function(){var e=jt(this.parentNode).translate;c.push(a(this,t,r,e)),i(this,o,e,c[u],d,s)&&(c[u]=a(this,t,r,e)),n(this,l,c,u)&&(c[u]={x1:0,y1:0,x2:0,y2:0}),u++})}function n(e,t,a,r){for(var n,i=r-1;i>=0&&!n;i--)n=ci(a[i],a[r]);return(t.length?ci(a[r],t[0])||ci(a[r],t[1]):!1)||n?(Hl(e.parentNode).style("display",El),!0):void 0}function i(e,t,a,r,n,i){var o=xc.getOrient(t.systemConf.legend),s=o===ws||o===bs?1:.5,c=l(t,t.chartarea),d=(c.x2-c.x1-(i.width-n))*s,u=c.y2-c.y1,h={left:a[0],top:a[1],right:a[0]+d,bottom:a[1]+u},f={left:5,right:5,top:5,bottom:5},g="..";if(r.x2-r.x1>d){var p={left:a[0],top:a[1],width:r.width,height:r.height};return Dt(e,e.textContent,p,h,Cs,g,f),e.textContent===g&&(Hl(e).text(""),Hl(e.parentNode).style("opacity",0)),!0}}function l(e,t){var a=e.systemConf.legend,r=xc.getOrient(a),n=a.hAlign,i=(a.vAlign,t.width-a.marginLeft-a.marginRight),l=t.height-a.marginTop-a.marginBottom,o=t.left+a.marginLeft,s=t.top+a.marginTop,c=r===ks||r===Cs?kc:Cc,d=r===ks||r===Cs?wc:bc,u=aa(a.maxWidth||c,i),h=aa(a.maxHeight||d,l),f={};return r===Cs?(f.y1=s+l-h,f.x1=n===bs?o:n===ws?o+i-u:o+(i-u)/2):r===ks?(f.y1=s,f.x1=n===bs?o:n===ws?o+i-u:o+(i-u)/2):r===ws?(f.y1=s,f.x1=o+i-u):(f.y1=s,f.x1=o),f.x2=f.x1+u,f.y2=f.y1+h,f}function o(e,t,a,r,n){var i=e.selectAll("path.domain");if(t.show){var l=rt(t.strokeWidth,1),o=0,s=0;a===bs?o=l/2:a===ws?o=-l/2:s=a===Cs?-l/2:l/2,i.attr("transform","translate("+o+","+s+")").attr("d",r?"M0,0 L"+n[0]+",0":"M0,0 L0,"+n[1]).styles({"stroke-dasharray":O(t.style,l),"stroke-linecap":A(t.lineCap,t.style)})}else i.remove()}Ei.legend.colorAxis=function(t,a,r){var n,i=a.systemConf.legend,l=i.colorBand,s=r.minmaxlabels,c=r.axisline,d=c.show?rt(c.strokeWidth,1):0,u=xc.getColorBandDimension(a),h=u[0],f=u[1],g=l.type,p=xc.getOrient(i),m=a.dataset.getColumn("clr"),v=m.datatype,y=m[v],x="-",b=a.axes.clr.component,w=a.axes.clr.scale,C=w.domain(),k=s.show&&s.excludeIntervals?[]:C,O=xc.isReversedColorAxis(a),A=p===Cs||p===ks,S=A?[0,h]:[f,0],P=s.show&&s.excludeIntervals&&p===ks?[0,0]:p===Cs||p===ks?[0,f]:[h,0],T=l.ranges&&l.ranges.length,E=l.labels;if(a.axes.clr.ticks=Ei.axis.ticks(a,r,"clr",0,p,a.chartarea),O&&S.reverse(),T){C=Da(a);var L=a.dataset.getDataType("clr")===_o;"continuous"!==g||L?n=Gl().domain(C).range(S).padding(0):(C=to(C),l.minRange!==C[0]&&C.splice(0,0,l.minRange),n=Ql().domain(C).range(S))}else{if(k[0]===k[1]){var z=ml(S[0]-S[1]);S=[z/2,z/2]}n=Ul().domain([C[0],C[C.length-1]]).range(S)}n.origRange=S,k=s.show&&s.excludeIntervals?[]:C,b.orient(p).scale(n).tickSize(rt(r.tickmark.size,6),0).majorTicks(e(p,h,f,d)).systemconf(a.systemConf).chartObj(a).tickValues(k).tickFormat(function(e){if(E&&E.length){var t=xc.getLabelIndex(e,l,a);if(it(t))return this.__formattedValue=E[t],d3.select(this).text(E[t])}var r=zr(y,e,v,a,"legend",null,x);this.__formattedValue=r,d3.select(this).text(r)}),t.datum(r).attr("transform","translate("+P[0]+","+P[1]+")").call(b,"clr"),t.selectAll("g.tick").style("display",null),t.selectAll("line.minorTicks").attr(A?"x2":"y2",null),t.selectAll("text.ticklabel").style("pointer-events","visible"),o(t,c,p,A,u),t.call(ZC_legend_minmaxLabels,u,r,a,p)},Ei.legend.colorAxis.handleOverlapNOverlap=function(e,a,n,i,l,o){var s=e.selectAll("g.zchart-minmaxlabels").selectAll("text"),c=e.selectAll("g.tick").selectAll("text"),d=t(s,a,n,i,l);r(c,a,n,d,i,l),o.ticklabel.tooltip===!0&&c.each(function(){Bt(d3.select(this),this.__formattedValue)})}}();!function(){function e(e,t,a,r,n,i){var l,o,s,c;return e===Cs?a===ks?(s="-0.3em",c=0===i?null:"end",o=-t[1]-r-gl(0,(n[1]-t[1])/2),l=0===i?0:t[0]):a===Cs?(s="1em",c=0===i?null:"end",o=r+gl(0,(n[1]-t[1])/2),l=0===i?0:t[0]):(s="0.3em",c=0===i?"end":null,o=-t[1]/2,l=0===i?-r-n[0]/2:t[0]+r+n[0]/2):e===ks?a===ks?(s="-0.3em",c=0===i?null:"end",o=-r-gl(0,(n[1]-t[1])/2),l=0===i?0:t[0]):a===Cs?(s="1em",c=0===i?null:"end",o=t[1]+r+gl(0,(n[1]-t[1])/2),l=0===i?0:t[0]):(s="0.3em",c=0===i?"end":null,o=t[1]/2,l=0===i?-r-n[0]/2:t[0]+r+n[0]/2):e===ws?a===bs?(s=0!==i?"1em":"-0.3em",c="end",l=-t[0]-r-gl(0,(n[1]-t[0])/2),o=0!==i?0:t[1]):a===ws?(s=0!==i?"1em":"-0.3em",c=null,l=r+gl(0,(n[1]-t[0])/2),o=0!==i?0:t[1]):(s=0!==i?"-0.3em":"1em",c="middle",l=-t[0]/2,o=0!==i?-r-n[0]/2:t[1]+r+n[0]/2):a===bs?(s=0!==i?"1em":"-0.3em",c="end",l=-r-gl(0,(n[1]-t[0])/2),o=0!==i?0:t[1]):a===ws?(s=0!==i?"1em":"-0.3em",c=null,l=t[0]+r+gl(0,(n[1]-t[0])/2),o=0!==i?0:t[1]):(s=0!==i?"-0.3em":"1em",c="middle",l=t[0]/2,o=0!==i?-r-n[0]/2:t[1]+r+n[0]/2),{x:l,y:o,dy:s,anchor:c}}function t(e,t,a){var r=e.type,n=e[r],i=a===ks||a===Cs;return"triangleUp"===r||"triangleDown"===r?[0,0]:"lever"===r||"vernier"===r?[n.width,n.height]:"pentagon"===r?[n.size+2*n.bandWidth,t[i?1:0]+1.5*n.bandWidth+2]:[n.size,n.size]}ZC_legend_minmaxLabels=function(a,r,n,i,l){var o=i.systemConf,s=n.minmaxlabels,c=i.systemConf.legend,d=c.colorBand,u=c.filter.enabled?t(c.filter.slider,r,l):[0,0],h=rt(s.padding,2),f=s.align,g=s.text,p=d.ranges&&d.ranges.length,m=xc.isReversedColorAxis(i),v=[],y=i.dataset.getColumn("clr"),x=y.datatype,b=y[x];if(s.show)if(p){var w=Da(i);v=[w[0][0],w[w.length-1][w[w.length-1].length-1]]}else{var C=i.axes.clr.scale.domain();v=[C[0],C[C.length-1]]}m&&v.reverse();var k=zt(a,"g",[1],".","class","zchart-minmaxlabels"),O=zt(k,"text",v);O.each(function(t,a){var n=e(l,r,f,h,u,a);Hl(this).attrs({x:n.x,y:n.y,"text-anchor":n.anchor,dy:n.dy}).text(g?g[a]:zr(b,t,x,i,"minmaxlabels"))}),Ht(O,[s,o.chart,o.canvas,qs])}}();var Oc;!function(){function e(e,t,a,r,n){var i=a?[0,e.length-1]:[e.length-1,0];r&&i.reverse();var l=e[i[t]];return n(l)}function t(e,t,a,n,l,o,s){var c,d,u=t.domain().map(function(e){return t(e)}),h=q(u).sort(oo),f=t.domain(),g=t.bandwidth();h.some(function(t,a){if(e[0]>=t&&e[0]<=t+g){var r=e[0]-t;c=.5>=r&&r>=0?gl(a-1,0):a}if(e[1]>=t&&e[1]<=t+g){var r=t+g-e[1];d=.5>=r&&r>=0?pl(a+1,h.length-1):a}return it(c)&&it(d)});var p=f;if(l!==_o&&1===n[0].length&&(p=r(a,p)),!o&&!s||o&&s){var m=c;c=h.length-1-d,d=h.length-1-m}return p=p.slice(c,d+1,0),l===_o?e=p:(e=io(to(p)),e=i(e,a)),e}function a(e,t,a,r,n){var l,s=t.bandwidth()/2;if(n===_o)l=[t(e[0])+s,t(e[e.length-1])+s];else{var c,d,u=t.domain();e=i(e,a),u.forEach(function(t,a){e[0]>=t[0]&&(c=1===r[0].length?a+1:a),!it(d)&&e[1]<=t[0]&&(d=1===r[0].length?a:a-1)}),c=gl(0,rt(c,0)),d=gl(0,rt(d,u.length-1)),l=[t(u[c])+s,t(u[d])+s]}return l[0]===l[1]&&(l[0]-=o,l[1]+=o),l}function r(e,t){for(var a=e[2],r=e[e.length-1-2],n=[],i=0;i<t.length;i++)n.push([a,t[i][0]]),a=t[i][0];return n.push(a,r),n}function n(e,t){return e.indexOf(t)===e.lastIndexOf(t)}function i(e,t){return n(t,e[1])||(e[1]-=o),e}function l(e,t){return e=e.map(function(e){return+e.toFixed(12)}),t[1]>t[0]?(e[1]=pl(e[1],t[1]),e[0]=gl(e[0],t[0])):(e[1]=gl(e[1],t[1]),e[0]=pl(e[0],t[0])),e}var o=1e-12;Oc=function(r,n){var i,s,c,d,u,h,f=n.position,g=xc.getColorBandDimension(r),p=g[0],m=g[1],v=r.systemConf.legend,y=v.colorBand,x=xc.getOrient(v),b=r.dataset.getDataType("clr"),w=y.ranges,C=w&&w.length,k=r.systemConf.legend.filter.range,O=r.axes.clr.scale,A=O.domain(),S=xc.isReversedColorAxis(r),P=x===Cs||x===ks,T=P?[0,p]:[m,0];if(S&&T.reverse(),C)i=Gl().domain(b===_o?A:Da(r)).range(T).padding(0),s=i.bandwidth(),c=s/2;else{var E=[A[0],A[A.length-1]];E[0]===E[1]&&(h=[-1,1],E=[-Pl,Pl]),i=Ul().domain(E).range(T).clamp(!0)}if(d=i.domain(),r.axes.clr.brushScale=i,C){if(k)u=a(k,i,A,w,b);else{var L=i(d[d.length-1]),z=i(d[0]);u=[L+c-o,z+c+o]}u.sort(oo)}else u=k||h||i.domain(),u=u.map(function(e){return i(e)}).sort(oo);var D={element:r.legendarea.element,orient:x,scale:i,initialExtent:u,brushOptions:v.filter,dimension:g,singleDomainContinuous:h,onClick:"resize",onBrush:function(a){if(a.initialized&&!h){var n=d3.event.selection;n=l(n,T),n=C?t(n,i,A,w,b,P,S):n.map(function(e){return i.invert(e)}).sort(oo),r.systemConf.legend.filter.range=n,r.addRemoveSeries(),r.legend.component.highlightItem(Dl,!1,!0),R.slider.style("fill",function(t,a){return e(n,a,P,S,O)})}},onEnd:function(e,t){var n;if(C){var l=r.systemConf.legend.filter.range;n=a(l,i,A,w,b)}else h&&(n=h.map(function(e){return i(e)}).sort(oo));if(n){n.sort(oo),e.initialized=!1;var o=d3.event.sourceEvent;R.context.transition().duration(t?0:250).call(e.move,n).on("end",function(){e.initialized=!0,R.context.node().contains(o.srcElement||o.target)||R.tooltipComponent.hide()}),R.slider.transition().duration(t?0:250).attr("transform",function(e,t){return"translate("+(P?n[t]:0)+","+(P?0:n[t])+")"})}}},R=r.legend.brush=new Kc(r,D);R.context.attr("transform","translate("+f[0]+","+f[1]+")"),R.slider.style("fill",function(a,r){var n=C?t(u,i,A,w,b,P,S):u.map(function(e){return i.invert(e)}).sort(oo);return e(n,r,P,S,O)})}}(),Ei.legend.continuous.events=function(e,a){function r(){var t=pr((g.filter.enabled?v:m).node(),d3.event),a=x?t[0]:t[1];Ks.FIREFOX&&(a-=Wt(e.legend.brush.context.node()||e.legendarea.element)[x?0:1]),d=o(a),d3.event.stopImmediatePropagation(),e.legend.brush.tooltipComponent.hide(!0),f.highlightItem(a,!0),f.highlightSeries(d,!0)}function n(){f.highlightItem(Dl,!1),f.highlightSeries(u,!1)}function i(a){var r,n=g.colorBand.ranges,i=g.colorAxis&&g.colorAxis.reversed,l=e.axes.clr.brushScale;if(n&&n.length){var o=l.bandwidth(),s=t(a/o);s=x&&i||!x&&!i?n.length-1-s:s,a=l(n[s])+o/2,r=e.seriesColor[s%e.seriesColor.length]}else r=e.axes.clr.scale(l.invert(a));var c=x?[a,0]:[0,a];c[0]+=h[0],c[1]+=h[1],qt(b),e.legendarea.element.selectAll(".highlight").style("fill",r),b.style("display",Dl).style("opacity",1).attr("transform","translate("+c+")")}function l(e){e?b.style("opacity",0):b.transition().style("opacity",0)}function o(a){var r=g.colorBand.ranges,n=g.itemHoverStyle||{},i=e.axes.clr.brushScale;if(r&&r.length){var l=g.colorAxis&&g.colorAxis.reversed,o=i.bandwidth(),s=t(a/o);return s=x&&l||!x&&!l?r.length-1-s:s}var c=e.axes.clr.scale.domain();if(c[0]===c[1])return c;var d=rt(n.triggerOffset,10),u=i.invert(a-d/2),h=i.invert(a+d/2),f=ml(h-u),p=hl(+(wl(f)/Ol).toFixed(2)),m=vl(10,p),v=hl(i.invert(a)/m)*m;return v=+v.toFixed(12),[v,v+m-1e-12]}function s(t){var a=g.colorBand.ranges,r=e.dataset.getColumn("clr"),n=r.datatype,i=r[n],l=a&&a.length?a[t]:t[0];C.show(zr(i,l,n,e,"legend",cl,"-"))}e.legend.highlight={};var c,d,u,h=a.position,f=e.legend.component,g=e.systemConf.legend,p=g.itemHoverStyle||{},m=e.legendarea.element.selectAll(g.filter.enabled?".selection":".colorband"),v=e.legendarea.element.selectAll(".zcbrushhighlighttracker"),y=xc.getOrient(g),x=y===ks||y===Cs,b=zt(e.legendarea.element,"g",[1],".","class","highlight").style("display",Dl),w=e.legend.highlight.slider=Ei.legend.continuous.slider(e,b),C=e.legend.highlight.tooltip=Ei.legend.continuous.tooltip(e,b),k=(w.container,g.events);if(b.style("display",El).style("opacity",0),k&&(c=0==rt(k.enabled,!0)),!c&&p.type&&p.type!==El){var O={chartObj:e},A={mousemove:r,mouseout:n},S=Dl;Sr(m,A,S,O,"highlight"),Sr(v,A,S,O,"highlight")}f.highlightItem=function(e,t,a,r){m.style("cursor",t?zl:Dl),t?(i(e),s(it(r)?r:d)):l(a)},f.highlightSeries=function(t,a){e.highlightContext=Dl;var r=e.legendHighlight;if(a){if(it(u)){var n=u;u=Dl,f.highlightSeries(n,!1)}e.seriesdata.forEach(function(e,a){r.highlightSelectedSeries(g,a,t),r.highlightUnselectedSeries(g,a,t)}),u=t}else e.seriesdata.forEach(function(a,n){r.reset(g,n,t,e.seriesdata.length-1===n)})}},Ei.legend.continuous.slider=function(e,t){var a=zt(t,"g",[1],".","class","slider"),r=e.systemConf.legend,n=r.itemHoverStyle||{},i=xc.getColorBandDimension(e),l=xc.getOrient(r),o=l===ks||l===Cs,s=o?"":" rotate(-90)",c=n.type,d={container:a,config:oc(Zr(e)[c],n[c],!0),type:c,chartObj:e,isHorizontal:o,bound:i};a.selectAll("*").remove();var u=new _c(d);u.draw();var h=u.getPosition();return a.selectAll(Zo).attr("transform",function(){var e=jt(this).translate;return"translate("+(e[0]+h[0])+","+(e[1]+h[1])+")"+s}),u},Ei.legend.continuous.tooltip=function(e,t){function a(){var t,a,r=e.legend.highlight.slider.container,n=r.selectAll("path").node(),l=n?jt(n).translate:[0,0],s=U(n),c=o.config,d=c.padding+c.margin;switch(i){case Cs:t=0,a=s.y-d;break;case ws:t=s.y-d,a=0;break;case bs:t=s.y+s.height+d,a=0;break;case ks:t=0,a=s.y+s.height+d}return[t+l[0],a+l[1]]}var r=e.systemConf.legend,n=r.itemHoverStyle||{},i=xc.getOrient(r),l={enabled:!0,padding:5,margin:5,backgroundColor:"white",borderColor:"rgb(51, 51, 51)",fontColor:"rgb(51, 51, 51)",fontSize:e.globalProp.fontL1Size.l5,orient:i},o={chartObj:e,config:oc(l,n.tooltip,!0),container:t},s=a(),c=new Yc(o);return c.container.attr("transform","translate("+s[0]+","+s[1]+")"),c};var Ac,Sc,Pc,Tc,Ec=Hl(document.documentElement),Lc=function(e){if(Ks.isTouchDevice&&(!e&&Pc&&Sc||Sc&&Sc!=e)){var t=Sc.container.node();if(document.body.contains(t)&&t.style.display!=El){Pc[4]=!0;var a=Sc.systemConf.tooltip,r=a.hideDelay;a.hideDelay=0,Sc.eventHandler.tapOldInfo=null,Sc.eventHandler.mouseOut.apply(Tc,Pc),a.hideDelay=r}}};if(Ei.documentTapEvent=Lc,Ks.isTouchDevice){var zc=function(){var e=(new Date).getTime();(!Ac||e-Ac>500)&&Lc()},Dc={tap:zc,taphold:zc,dbltap:zc};Sr(Ec,{},Dc,{preventDefault:!1}),Ec.on("touchmove",function(){Lc()})}Ei.events.mouseevents=function(e,t,r,n,i,l,o,s,c,d,u){function h(){return e.isAxisCategory&&(e.systemConf.chart.width||e.systemConf.chart.height)?gt:e.eventHandler.trackerElement}function f(a,n,o){var s=U(o),c=a[0]-s.x,u=a[1]-s.y,h={x:c,y:u},f=x(h,l,ut,r,!0),g=e.seriesdata,p=f.seriesPos,m=f.itemPos,v=f.subseriesindex[p],b=f.subseriesLength[p],w=f.itemPosShared,C=f.currentQualitativeRangePoint;st=f.highlightpoint,lt=f.levelMarkerPoint;var k=e.eventHandler.oldInfo,O=e.eventHandler.tooltipElement,S=f.customPoint;if(n=Tr(n),it(S)){if("threshold-marker"===S.type){var P=rr(null,S,e,"mousemove");it(P)&&et(P,S,n),Ot.hoverPoint(S,n,h)}return void(e.eventHandler.oldInfo={customPoint:S,isNoInfo:!0})}if(it(C)&&r.tooltip.enabled!==!1&&("marker"===C.type||!it(p))){var T=wr(n,h,0,0,e,f,ht,bt,{},!0,!1,!1),E=wt.bulletEvents.getTooltipContent(C,0),L=rr(null,C,e,"mousemove");return it(L)&&et(L,C,n),A(),T.helpers.inheritColors=!0,T.helpers.itempos=C.itemIndex,T.helpers.chartType=C.chartType,O.show(e,T,E,!1,T.helpers),void(e.eventHandler.oldInfo={customPoint:C,isNoInfo:!0})}if(null==p)return e.eventHandler.mouseOut(),void(e.eventHandler.oldInfo={isNoInfo:!0});var z=e.chartTypes[p].value,D=z==Ei.charttype.arearange,R=(hr(z),D?1:null),M=(null!=l.bandwidth?l.bandwidth():null,vt(g[p].yaxiscolumnorder)),I=ut[M].eventscale,H=e.renderer[p],B=bt?v:v,F=bt?w[p][B]:m,V=(null!=H.seriesdataAfterUpdate?H.seriesdataAfterUpdate[B]:g[p].data[v])[F],Y=bt?l.domain()[m]:i.getX(V),_=i.getY(V,M),W=e.dataObject.getXYvalue(ht,kt(z),l,I,M,V,"x",null,R),X=e.dataObject.getXYvalue(ht,kt(z),l,I,M,V,"y",null,R);if(lr(z)||null!=j(W,X)){if(null!=k&&!k.isNoInfo){var G=k.nearestPoint,Z=yt(k.type||e.userdata.seriesdata.type,Xo);if(G&&G.seriesPos==f.seriesPos&&G.itemPos==f.itemPos&&G.subseriesindex==f.subseriesindex&&Z==z)return d.selectAll("#zcbarhighlight,#zcareahighlight").style("display",""),t.style("visibility",ft?"visible":"hidden"),void(xr(e)&&e.staticPaneSVG.selectAll("g.crosshair").style("visibility","visible"))}var Q=N({x:l(Y),y:I(_)},h),q=bt?e.seriesdata.length:1;d.selectAll("#zcscatterhighlight").selectAll("*").remove(),d.selectAll("#zcbarhighlight").selectAll("*").remove(),d.selectAll("#zcareahighlight").selectAll("*").remove();for(var K=ao(),$=0;q>$;$++){var J=bt?$:p;if(bt&&b>1)for(var tt=0;b>tt;tt++)y(e,J,Y,m,tt,f,bt,Q>10,K);else y(e,J,Y,m,v,f,bt,Q>10,K)}if(ft){var at=wr(n,h,W,X,e,f,ht,bt,K,!0,!1,gr(e.chartTypes[p].value)&&e.subrenderer[v][Xc.getKey(V,p,e)].fillColorFunc);O.show(e,at,null,!0,at.helpers)}}}function g(a,n,i){var o=10,s=e.dataObject.isPolarAxisCategory,c=U(i),u=a[0]-c.x-(s?e.plotarea_approx.x:0),h=a[1]-c.y-(s?e.plotarea_approx.y:0),f={x:u,y:h},g=e.eventHandler.oldInfo,p=Tr(n),m=f.y-n.clientY,v=f.x-n.clientX,x=bt?k(f,l,ut,r):O(f,l,ut,r),b=x.seriesPos,w=x.itemPos,C=x.subseriesindex,A=e.eventHandler.tooltipElement,S=x.customPoint;if(it(S)){if("threshold-marker"===S.type){var P=rr(null,S,e,"mousemove");it(P)&&et(P,S,n),Ot.hoverPoint(S,n,f)}return void(e.eventHandler.oldInfo={customPoint:S,isNoInfo:!0})}if(!it(b))return e.eventHandler.mouseOut(),void(e.eventHandler.oldInfo={isNoInfo:!0});var T=e.seriesdata,E=vt(T[b].yaxiscolumnorder),L=ut[E].scale,z=e.chartTypes[b].value,D=z==Ei.charttype.arearange,R=D?1:null,M=(null!=l.bandwidth?l.bandwidth():null,e.renderer[b]),I=null!=M.seriesdataAfterUpdate?M.seriesdataAfterUpdate[C]:T[b].data[C],H=I[w],B=e.dataset.getX(H),F=e.dataObject.getXYvalue(ht,kt(z),l,L,E,H,"x",null,R),V=e.dataObject.getXYvalue(ht,kt(z),l,L,E,H,"y",null,R);if(s||null!=j(F,V)){var Y=N({x:F,y:V},f);if(null!=g&&!bt){var _=g.nearestPoint,W=yt(g.type||e.userdata.seriesdata.type,Xo);if(_&&_.seriesPos==x.seriesPos&&_.itemPos==x.itemPos&&_.subseriesindex[_.seriesPos]==x.subseriesindex[x.seriesPos]&&W==z&&g.containerLeft===v&&g.containerTop===m)return d.selectAll(ir(z)?"#zcscatterhighlight,#zcareahighlight":"#zcscatterhighlight").style("display",""),t.style("visibility",ft?"visible":"hidden"),void(xr(e)&&e.staticPaneSVG.selectAll("g.crosshair").style("visibility","visible"))
}var X=bt?e.seriesdata.length:1;d.selectAll("#zcscatterhighlight").selectAll("*").remove(),d.selectAll("#zcareahighlight").selectAll("*").remove();for(var G=ao(),Z=0;X>Z;Z++){var Q=bt?Z:b;y(e,Q,B,w,C,x,bt,o>Y,G)}if(ft){var q=wr(p,f,F,V,e,x,ht,bt,G,!1,s,gr(e.chartTypes[b].value)&&e.subrenderer[C][Xc.getKey(H,b,e)].fillColorFunc),K=q.helpers;e.dataObject.isBubbleEnabled&&(q.distance=e.dataObject.getXYvalue(ht,kt(z),l,L,E,H,"z",e.zscale)/2),A.show(e,q,null,!0,K),g=e.eventHandler.oldInfo,g&&(g.containerLeft=v,g.containerTop=m)}}}function p(t,a,r,l,o,s,c,u,h,f,g,p,m){var v=e.seriesdata,y=e.systemConf.legend.patternPallete?.5:.2,x=fa(e,o,G(o,s,c),o),b=e.legendHighlight.getLegendHighlightEffect(o,"selectedSeries","plot"),w=b===El?{fill:Ll}:e.legendHighlight.getEffect(b,"area",x,{fill:Ll,stroke:x},o);m||D(d.selectAll("g#zcbarhighlight")),t.style("display","").attr("transform","translate("+n.left+","+n.top+")").styles(w);var C,k,O,A,S,P,T,E,L=ct(r,l)("mode"),y=rt(l.hoveroptions.fillOpacity,.2),z=xt(i,"x"),R=xt(i,"y",f);if("linear"==L&&null!=p){var j=to(p.map(function(e){return[e.x,e.y]})),M=zt(t,"polygon",[p],".","class","highlight"+o);M.attr("points",j.toString()).styles({"fill-opacity":y,display:""})}else{var I,H,B=kt(a),F=e.dataObject.containsNegativeData(f),V=e.systemConf.chart.axes.xaxis.reversed,N=e.systemConf.chart.axes.yaxis[f||0].reversed;if(e.dataObject.isPolarAxisCategory){var Y=e.renderer[o];H=null!=Y.seriesdataAfterUpdate?Y.seriesdataAfterUpdate[s]:v[o].data[s];var _=N&&!B?h.domain().length-1:0,W=function(e){var t=B?h(e.y0+e.y):h(i.getY(e,f))+(null!=h.bandwidth?h.bandwidth()/2:0);return gl(t,h.range()[_])},X=function(e){var t;return t=B?0==o?pl(h.range()[0],h(F)):h(e.y0):h(h.domain()[_])+(null!=h.bandwidth?h.bandwidth()/2:0),gl(t,h.range()[_])},U="strokeEnlarge"===b;I=(U?uo:fo)().angle(function(e){return u(i.getX(e))}).curve(Wl(L,ht)),U?I.radius(W):I.outerRadius(W).innerRadius(X)}else{var Z=a==Ei.charttype.arearange,Q=Z?1:null,Y=e.renderer[o],q=null!=Y.seriesdataAfterUpdate?Y.seriesdataAfterUpdate[s]:v[o].data[s],K=q[c],$=e.dataObject.getXYvalue(ht,B,u,h,f,K,"x",null,Q),J=e.dataObject.getXYvalue(ht,B,u,h,f,K,"y",null,Q),et=0!=c,tt=c!=q.length-1;if(V?tt:et){var at=q[V?c+1:c-1],nt=e.dataObject.getXYvalue(ht,B,u,h,f,at,"x",null,Q),it=e.dataObject.getXYvalue(ht,B,u,h,f,at,"y",null,Q);C=($+nt)/2,k=(J+it)/2}if(V?et:tt){var lt=q[V?c-1:c+1],ot=e.dataObject.getXYvalue(ht,B,u,h,f,lt,"x",null,Q),st=e.dataObject.getXYvalue(ht,B,u,h,f,lt,"y",null,Q);O=($+ot)/2,A=(J+st)/2}S=ht?0:null==C?$:C,P=Fl([k,J,A,h(h.domain()[N?0:1])]),T=ht?Vl([C,$,O,h(F)||$]):null!=C&&null!=O?O-C:null==C?null==O?1:O-$:$-C,E=ht?null==k?J-A:null==A?k-J:k-A:n.height-P;var dt=Math.max(0,-S),ut=Math.max(0,-P),ft=Math.max(0,S+T-n.width-(e.scrolledX||0)),gt=Math.max(0,P+E-n.height-(e.scrolledY||0));S=Math.max(0,S),P=Math.max(0,P),T-=dt+ft,E-=ut+gt,t.style("display","block"),H=q,I=ho().defined(function(e){return!R(i.getY(e,f))&&!z(i.getX(e))}).curve(Wl(L,ht)),ht?I.x0(function(e,t){return B?0==o&&0==s&&0==t?gl(h.range()[0],h(F)):h(e.y0):null!=h.bandwidth?h.origRange[0]+h.bandwidth():gl(h.range()[0],h(F))}).x1(function(t){return e.dataObject.getXYvalue(ht,B,u,h,f,t,"x")}).y(function(t){return e.dataObject.getXYvalue(ht,B,u,h,f,t,"y",null,Q)}):I.x(function(t){return e.dataObject.getXYvalue(ht,B,u,h,f,t,"x")}).y0(function(t,a){return B?0==o&&0==s&&0==a?pl(h.range()[0],h(F)):h(t.y0):Z?e.dataObject.getXYvalue(ht,B,u,h,f,t,"y",null,0):null!=h.bandwidth?h.origRange[0]+h.bandwidth():pl(h.range()[0],h(F))}).y1(function(t){return e.dataObject.getXYvalue(ht,B,u,h,f,t,"y",null,Q)})}var pt={name:"rect",id:e.id,x:S,y:P,width:T,height:E},mt={chartObj:e},vt=Js.get(ic,"rect",pt,mt),yt=zt(d.selectAll("#zcareahighlight"),"path",[1],".","class","highlight"+o);yt.datum(H).attr("d",I).attr("stroke","").attr("clip-path",e.dataObject.isPolarAxisCategory?null:"url("+e.defsLocation+"#"+vt+")").styles({"fill-opacity":y,display:""})}}function m(e,t,a,r,n,i){var l=q(t),o=Q(t,a,n);i||D(d.selectAll("g#zcareahighlight,g#zcscatterhighlight")),d.selectAll("g#zcbarhighlight").style("display",""),e.attr("d",o).attr("transform","translate("+l[0]+","+l[1]+")").style("display","")}function v(t,a,r,i,l,o,s,c,u,h,f,g,p,m,v,y){var x=a==Ei.charttype.gantt,b=e.legendHighlight.getLegendHighlightEffect(g,"selectedSeries","plot"),w=nr(e)&&(sr(a)||a===Ei.charttype.scatter)&&"strokeEnlarge"!==b,C=fa(e,ya(i,e)?p:g,G(g,f,p),g);x||y||D(d.selectAll("g#zcbarhighlight")),m||e.dataObject.isPolarAxisCategory||(D(d.selectAll("g#zcareahighlight").selectAll("*")),D(d.selectAll("g#zcareahighlight")));var k,O,A=d.selectAll("#zcscatterhighlight"),S=r?oc(i.hoveroptions,r.hoveroptions,!0):i.hoveroptions;if(!x||!i.marker||i.marker.enabled!==!1){if(sr(a)){var P=e.renderer[g],T=null!=P.seriesdataAfterUpdate?P.seriesdataAfterUpdate[f]:h[g].data[f],E=e.dataObject.getXYvalue(ht,kt(a),s,c,u,T[p],"z",e.zscale);w?(O=.1*E,k=0):(O=.1*(E+aa("2.5%",pl(n.width,n.height))),k=E/2*.1)}else{var L=a===Ei.charttype.line||ir(a),z=e.dataObject.isPolarAxisCategory,R=r&&r.marker?ct(r.marker,i.marker)("size"):i.marker.size,j=!L&&!z||null!=R&&""!==R?R||1:ct(r,i)("strokeWidth");j=null!=S.size&&""!==S.size?1:+j,x&&(S=r?oc(v.hoveroptions,r.hoveroptions,!0):v.hoveroptions);var M,I;z?(M=.7,I=.35):L?(M=.9,I=.4):w?(M=1,I=0):(M=2,I=1),O=j*M,k=j*I}if(A.attr("transform","translate("+n.left+","+n.top+")").style("display",""),V(t,null,w?{symbol:S.symbol}:S,{color:w?null:C,symbolSize:{inner:k,outer:O},transform:[l,o],imageSize:15}),w){var H=b===El?{fill:Ll}:e.legendHighlight.getEffect(b,"scatter",ll.test(b)?C:Ll,{fill:Ll,stroke:C},g);t.styles(H)}}}function y(e,t,a,o,s,c,u,h,f,g){var y=e.seriesdata,x=vt(y[t].yaxiscolumnorder),b=ut[x].scale,C=e.chartTypes[t].value,k=C==Ei.charttype.arearange,O=C===Ei.charttype.gantt,A=e.dataObject.isPolarAxisCategory,S=k||O?1:null,P=null!=l.bandwidth?l.bandwidth():null,T=e.renderer[t],E=null!=T.seriesdataAfterUpdate?T.seriesdataAfterUpdate[s]:y[t].data[s],L=E[o];if(o=L&&i.getActualX(L)===a?o:w(a,E),null!=o&&!X(e.seriesdata[t])){f.set(t,o),Nc.updateSharedInfo(e,f,t);var z,D=E[o],R=e.dataObject.getXYvalue(ht,kt(C),l,b,x,D,"x",null,S),j=e.dataObject.getXYvalue(ht,kt(C),l,b,x,D,"y",null,S),M=y[t].plotoptions,I=r.chart.plot.plotoptions[Ei.charttypenames.get(C)],H=e.zcEventType||"mousemove",B=rr(M,I,e,H),F=rr(M,I,e,"cursor");C===Ei.charttype.line||C===Ei.charttype.scatter&&h?wt.hideCursor(e.eventHandler.trackerElement):wt.addCursor(F);var V=d3.event||e.eventHandler.targetEvent;if(it(B)&&et(B,c,V,{x:R,y:j}),J(B,V)){if(st=g||st,(null!=st||u)&&lr(C)){var N=e.systemConf.chart.axes.yaxis[x||0].reversed,Y=ct(M,I)("border")||{},_=C===Ei.charttype.bullet?0:Y.radius;_=Y&&Y.show?_:0;var T=e.renderer[t],W=e.dataObject.getTransRectValue("radius",null,null,null,null,_),U=e.legendHighlight.getLegendHighlightEffect(t,"selectedSeries","plot"),Q=fa(e,ya(I,e)?o:t,G(t,s,o),t),q=U===El?{fill:Ll}:e.legendHighlight.getEffect(U,"bar",ll.test(U)?Q:Ll,{fill:Ll,stroke:Q},t),K=zt(d.selectAll("#zcbarhighlight"),"path",[1],".","class","highlight"+t+s).styles(q);u&&!hr(e.chartTypes[t].value)&&(st=Z(t,s,o)),m(K,st,W,T,N,u);var $=M&&M.levelMarker?oc(I.levelMarker,M.levelMarker,!0):I.levelMarker;if(O&&$.enabled){var tt=e.dataObject.getTransRectValue("radius",null,null,null,0),at={fill:$.color||Q},rt=zt(d.selectAll("#zcbarhighlight"),"path",[1],"#","id","levelMarkerpath");rt.styles(at),m(rt,lt,tt,T,N)}}if(ir(C)||A){z=!0;var nt=d.selectAll("#zcareahighlight");p(nt,C,M,I,t,s,o,l,b,x,P,c.poly,u)}if(ir(C)||dr(C)||C===Ei.charttype.line||A||O){var ot=d.selectAll("#zcscatterhighlight"),dt=zt(ot,"g",[1],".","class","highlight"+t);if(k||O){var ft,gt,pt=zt(dt,"g",[1],".","class","yrangePos_0"),mt=zt(dt,"g",[1],".","class","yrangePos_1"),yt={};if(O){yt=T.markerProperties;var xt=T.getMarkerPosition(D,yt.subseriesIndex,0,T);ht?(R=xt.y,j=xt.x+xt.width/2,ft=xt.y+xt.height,gt=xt.x+xt.width/2):(R=xt.x+xt.width/2,j=xt.y,ft=xt.x+xt.width/2,gt=xt.y+xt.height)}else ft=e.dataObject.getXYvalue(ht,kt(C),l,b,x,D,"x",null,0),gt=e.dataObject.getXYvalue(ht,kt(C),l,b,x,D,"y",null,0);v(pt,C,M,I,ft,gt,l,b,x,y,s,t,o,z,{size:yt.size,hoveroptions:I.hoveroptions.end}),v(mt,C,M,I,R,j,l,b,x,y,s,t,o,z,{size:yt.size,hoveroptions:I.hoveroptions.start})}else v(dt,C,M,I,R,j,l,b,x,y,s,t,o,z,null,u)}A&&d.selectAll("#zcareahighlight,#zcscatterhighlight").attrs({"clip-path":null,transform:"translate("+(n.left+e.plotarea_approx.x)+","+(n.top+e.plotarea_approx.y)+")"}).style("display","")}c.data=D,e.eventHandler.oldInfo={nearestPoint:c,type:C,chartObj:e,isNoInfo:!1}}}function x(t,a,r){var n,l,c,d,u,h,f,g,p=e.systemConf.chart.axes.xaxis.reversed,m=Ei.scale.invert(_o,t,o,ht,null,p),v=e.seriesdata,y=e.dataObject.isCombinationalChart,x=-1,w=[],C=null,k=!1,O=!1,A=null,S="x",P="y";ht&&(S="y",P="x");var z=v.map(function(v,z){var D=e.chartTypes[z].value;d=null==d?Ar(e,D,null):d;var j=vt(v.yaxiscolumnorder),M=e.systemConf.chart.axes.yaxis[j||0].reversed,I=r[j].eventscale,H=e.dataObject.containsNegativeData(j),F=xt(i,"y",j),V={};if(X(v))return[null];x++;var N=e.renderer[z],_=N.commonOption||Ka(e.rendererConf[z],z);wt.bulletEvents||(wt.bulletEvents=new Ei.BulletEvent(e,N.commonOption,a,r[0].scale));var U=wt.bulletEvents;return v.data.map(function(r,v){var x=null!=N.seriesdataAfterUpdate?N.seriesdataAfterUpdate[v]:r;if(u=b(m,x)||null,null!=u){var X=hr(D);if(bt){var G=ha(i.getClr(x[u[0]]),e);return c=m,w[z]=w[z]||[],w[z][v]=u,q=G?0:null,O=!0,lr(D)&&(g=g||Ei.scale.ordinalSubInvert(t,c,s,o,ht,D,p),f=g,f=e.userdata.seriesdata.stackGroup?e.userdata.seriesdata.stackGroup[f]:f),q}if(X){var Z=null;return x.forEach(function(r,l){var o=vr(e,r,a,I,j),s=ha(i.getClr(r),e),d=R(o,t);s&&0==d&&!O&&null===Z&&(O=!0,c=l,n=o,Z=d)}),Z}if(lr(D)){for(var Q=u.length,q=null,K=0;Q>K;K++){var $=u[K];if(null==x[$])return null;var J=mr(e,x[$],v,_);if(F(x[$]))return null;var et=R(J,t,M),G=ha(i.getClr(x[$]),e);G&&0==et&&!O&&(q=0,O=!0,c=$,n=J,D===Ei.charttype.gantt&&(l=N.getGanttLevelMarkerProp(x[$],v,$,N,_))),Ei.charttype.bullet===D&&(A=U.getCurrentPoint(t,x[$]))}return q}if(ir(D)||dr(D)||D===Ei.charttype.line){u=u[0],d=sr(D)?Ar(e,D,e.dataObject.getXYvalue(ht,kt(D),a,I,j,x[u],"z",e.zscale)/2):d;var G=ha(i.getClr(x[u]),e);if(or(D)||D===Ei.charttype.line){var tt=N.getSymbolSize?N.getSymbolSize(r):0,at=N.getSymbolBBox?N.getSymbolBBox(r):null;if(null!=at){var rt=E(x[u],i,a,I,j,D,null,S,P,at);q=B(t,rt[0],rt[1])}else q=T(x[u],t,a,I,j,D,null,S,P),q-=tt/2}else{var nt=D==Ei.charttype.arearange;V=L(z,v,u,x,x[u-1],x[u],x[u+1],e.dataObject,i,ht,kt(D),a,I,j,H,nt);var it=ir(D)||y?D===Ei.charttype.bubblepie?W(t,V.curpt,z,v,x[u]):Y(t,V.points):!0;it&&(q=0==v?B(t,V.curpt,V.curNext):v==x.length-1?B(t,V.prevCur,V.curpt):Fl([B(t,V.prevCur,V.curpt),B(t,V.curpt,V.curNext)]))}return G&&(null==d||d>q)&&null!=q&&(O=!0,d=q,f=z,h=v,c=u,C=V.points,k=D===Ei.charttype.line||dr(D)),q}}})}),D=[],j=[],M=z.map(function(e,t){var a=Fl(e);return null!=a?(D[t]=e.indexOf(a),j[t]=e.length):D[t]=j[t]=null,a});return k&&(M=M.map(function(t,a){var r=e.chartTypes[a].value;return r===Ei.charttype.line||dr(r)?t:null})),f=bt&&g?f:M.indexOf(Fl(M)),null!=M[f]&&O||(f=null),it(A)&&"marker"===A.type?f=null:it(f)&&(A=null),{seriesPos:f,itemPos:c,itemPosShared:w,subseriesindex:D,subseriesLength:j,highlightpoint:n||null,levelMarkerPoint:l||null,distance:M[f],poly:C,currentQualitativeRangePoint:A,customPoint:Ot.getClosest(t,d)}}function b(e,t){var a=l.domain(),r=a[e],n=null,o=xt(i,"x");return t.forEach(function(e,t){var a=!o(i.getX(e))&&i.getX(e)===r;return a&&(null==n?n=[t]:n.push(t)),a}),n}function w(e,t){var a=null,r=xt(i,"x");return t.some(function(t,n){var l=!r(i.getX(t))&&i.getX(t)===e;return l&&(a=n),l}),a}function C(t,a,r,n,i,l){var o=e.systemConf.notes&&e.systemConf.notes.addOnDoubleclickEvent;if(Ei.annotation&&o){if(!t){var s=e.seriesdata,c=n[r],d=c.slice(),u=d.splice(0,d.length);s.length>1&&u.push(s[a].seriesname),t={coordinate:[i,l],data:u,basedOn:"plot"}}Ei.annotation.addNotes(e,t)}}function k(t,a,r,n){var l=a.invert(ht?t.y:t.x),o=n.seriesdata.chartdata,s=Kl(function(e){return i.getX(e)}).left,c=o.map(function(t,a){if(t.disabled)return null;var r=e.renderer[a];return t.data.map(function(e,t){return e=null!=r.seriesdataAfterUpdate?r.seriesdataAfterUpdate[t]:e,s(e,l,0,e.length-1)})}),d=o.map(function(n,l){if(n.disabled)return null;var o=e.renderer[l],s=vt(n.yaxiscolumnorder),d=e.chartTypes[l].value,u=r[s].scale;return n.data.map(function(r,n){r=null!=o.seriesdataAfterUpdate?o.seriesdataAfterUpdate[n]:r;var h,f,g=c[l][n];if(r[g]&&(h={x:a(i.getX(r[g])),y:u(kt(d)?r[g].y+r[g].y0:i.getY(r[g],s))},f=ha(i.getClr(r),e)),g>0){var p=ml(t.x-h.x),m={x:a(i.getX(r[g-1])),y:u(kt(d)?r[g-1].y+r[g-1].y0:i.getY(r[g-1],s))},v=ml(t.x-m.x),y=p>v?g-1:g;p=p>v?v:p;{N(h,t),N(t,m)}return{dist:f?p:null,xbis:y}}if(0==g){var p=f&&h?ml(t.x-h.x):null;return{dist:p,xbis:g}}})}),u=[],h=[],f=d.map(function(e,t){if(!e)return null;var a=e.map(function(e){return e.dist}),r=Fl(a),n=a.indexOf(r);return u[t]=r?n:null,h[t]=r?e[n].xbis:null,r}),g=f.indexOf(Fl(f)),p=h[g];return{itemPos:p,seriesPos:g,subseriesindex:u[g]}}function O(t,a,r){var n,l,o,s,c,d,u,h,f,g,p=e.seriesdata,m=null,v=e.dataObject.isPolarAxisCategory,y=(e.dataObject.isBubbleEnabled?e.zscale.range()[1]/2+50:null,null),x="x",b="y";ht&&(x="y",b="x"),p.map(function(p,w){var C=e.chartTypes[w],k=C.value,O=(C.name,k==Ei.charttype.arearange),A=Ar(e,k);X(p)||(e.dataObject.isCombinationalChart?(!it(n)||(it(h)?null!=A&&n>=A:y>A||null==y||null==A))&&(n=A):n=null==n?A:n);var L,z=e.renderer[w],D=vt(p.yaxiscolumnorder),R=r[D].scale,j=e.dataObject.containsNegativeData(D),I=O?1:null,H={};return X(p)?[null]:p.data.map(function(r,p){r=null!=z.seriesdataAfterUpdate?z.seriesdataAfterUpdate[p]:r;var y=z.getSymbolSize&&!sr(k)?z.getSymbolSize(r):0,C=v?r.map(function(t){var r=e.dataObject.getXYvalue(ht,kt(k),a,R,D,t,"x"),n=e.dataObject.getXYvalue(ht,kt(k),a,R,D,t,"y");return{x:r,y:n}}):null;return r.map(function(A,F){if(!S(A,i,D)){var V;if(dr(k)){var N=z.getSymbolBBox?z.getSymbolBBox(A):null;if(null!=N){var Y=E(A,i,a,R,D,k,I,x,b,N);l=B(t,Y[0],Y[1])}else l=T(A,t,a,R,D,k,I,x,b),l-=y/2;if(sr(k)&&(V=l<=(s=e.dataObject.getXYvalue(ht,kt(k),a,R,D,A,"z",e.zscale)/2),o=o||V,V||(l-=s)),k===Ei.charttype.bubblepie){var _=S(A,i,D)?{x:0,y:0}:{x:e.dataObject.getXYvalue(ht,kt(k),a,R,D,A,"x"),y:e.dataObject.getXYvalue(ht,kt(k),a,R,D,A,"y",null,I)};l=W(t,_,w,p,A)?l:cl}}else{var X=P(A,w,p,F,r,t,L,k,a,R,D,j,O,C,v);l=X.distance,H=X.polygonPoints,L=A}var U;if(sr(k)&&o){if(V)if(c=e.dataObject.getXYvalue(ht,kt(k),a,R,D,A,"x"),d=e.dataObject.getXYvalue(ht,kt(k),a,R,D,A,"y"),u){var G=Sl*u.r*u.r,Z=Sl*s*s,Q=yl(M(u.cx-c)+M(u.cy-d))<=ml(u.r-s);U=null==u.dist||l<u.dist||!(Z>G&&Q)}else U=!0}else U=null==n||n>=l;var q=ha(i.getClr(A),e);q&&U&&null!=l&&(n=l,h=w,f=p,g=F,m=H.points,V&&(u={cx:c,cy:d,r:s,dist:l}))}})})});var w=null;return it(h)&&(w=n),{seriesPos:h,itemPos:g,subseriesindex:f,poly:m,customPoint:Ot.getClosest(t,w)}}function A(){d.selectAll("#zcscatterhighlight,#zcbarhighlight,#zcareahighlight").style("display",El)}function S(t,a,r){return e.seriesdata[0].type==Ei.charttype.stkdarea?!1:null==t||xt(a,"x")(a.getX(t))||xt(a,"y",r)(a.getY(t,r))}function P(t,a,r,n,l,o,s,c,d,u,h,f,g,p,m){var v=null,y=L(a,r,n,l,s,l[n],l[n+1],e.dataObject,i,ht,kt(c),d,u,h,f,g),x=1==y.points.length;m&&(y.points=p);var b=ir(c)||m?Y(o,y.points):!0;if((1==l.length||x)&&!S(t,i,h)){v=I(o,y.curpt);var w=e.dataObject.isCombinationalChart,C=e.dataObject.noofAreaEnabledSeries,k=Ar(e,Ei.charttype.line);(C>1||1===C&&w)&&v>k&&(v=null)}if(b&&!S(t,i,h)){var O=B(o,y.curpt,y.curNext),A=B(o,y.prevCur,y.curpt),P=0!==n&&S(s,i,h);v=0==n?O:n==l.length-1?A:P?O:Fl([A,O])}return{distance:v,polygonPoints:y}}function T(t,a,r,n,i,l,o,s,c){var d={};d[s]=e.dataObject.getXYvalue(ht,kt(l),r,n,i,t,"x"),d[c]=e.dataObject.getXYvalue(ht,kt(l),r,n,i,t,"y",null,o);var u=d.x-a[s],h=d.y-a[c];return yl(M(u)+M(h))}function E(t,a,r,n,i,l,o,s,c,d){var u=[];if(S(t,a,i))return 0;var h={};return h.x=e.dataObject.getXYvalue(ht,kt(l),r,n,i,t,"x"),h.y=e.dataObject.getXYvalue(ht,kt(l),r,n,i,t,"y",null,o),ht?u.push({x:h.x,y:h.y-d.width/2},{x:h.x,y:h.y+d.width/2}):u.push({x:h.x-d.width/2,y:h.y},{x:h.x+d.width/2,y:h.y}),u}function L(e,t,a,r,n,i,l,o,s,c,d,u,h,f,g,p){var m,v,y,x,b,w,C=p?1:null;v=S(i,s,f)?{x:0,y:0}:{x:o.getXYvalue(c,d,u,h,f,i,"x"),y:o.getXYvalue(c,d,u,h,f,i,"y",null,C)},m=0==a?{x:0,y:0}:S(n,s,f)?v:{x:o.getXYvalue(c,d,u,h,f,n,"x"),y:o.getXYvalue(c,d,u,h,f,n,"y",null,C)},y=a==r.length-1?{x:0,y:0}:S(l,s,f)?v:{x:o.getXYvalue(c,d,u,h,f,l,"x"),y:o.getXYvalue(c,d,u,h,f,l,"y",null,C)},b=S(i,s,f)?{x:0,y:0}:z(o,c,d,e,t,a,u,h,f,g,i,p),x=0==a?{x:0,y:0}:S(n,s,f)?b:z(o,c,d,e,t,a-1,u,h,f,g,n,p),w=a==r.length-1?{x:0,y:0}:S(l,s,f)?b:z(o,c,d,e,t,a+1,u,h,f,g,l,p);{var k=0==a?{x:0,y:0}:S(n,s,f)?v:{x:(m.x+v.x)/2,y:(m.y+v.y)/2},O=a==r.length-1?{x:0,y:0}:S(l,s,f)?v:{x:(y.x+v.x)/2,y:(y.y+v.y)/2},A=0==a?{x:0,y:0}:S(n,s,f)?b:{x:(x.x+b.x)/2,y:(x.y+b.y)/2},P=a==r.length-1?{x:0,y:0}:S(l,s,f)?b:{x:(w.x+b.x)/2,y:(w.y+b.y)/2},T=[];S(n,s,f)&&S(l,s,f)?T.push(v):0==a||S(n,s,f)?T.push(v,O,P,b):a==r.length-1||S(l,s,f)?T.push(k,v,b,A):T.push(k,v,O,P,b,A)}return{points:T,prevCur:k,curNext:O,curpt:v}}function z(e,t,a,r,n,i,l,o,s,c,d,u){var h,f,g=u?0:null;if(t){var p=e.getXYvalue(t,a,l,o,s,d,"y",null,g),m=u?e.getXYvalue(t,a,l,o,s,d,"x",null,g):o.range()[0];a?(f=0==r&&0==n&&0==i?gl(o.range()[0],o(c)):o(d.y0),h={x:f,y:p}):(f=null!=o.bandwidth?o.origRange[0]+o.bandwidth():gl(m,o(c)),h={x:f,y:p})}else{var p=e.getXYvalue(t,a,l,o,s,d,"x"),m=u?e.getXYvalue(t,a,l,o,s,d,"y",null,g):o.range()[0];a?(f=0==r&&0==n&&0==i?pl(o.range()[0],o(c)):o(d.y0),h={x:p,y:f}):(f=null!=o.bandwidth?m+o.bandwidth():pl(m,o(c)),h={x:p,y:f})}return h}function D(e){e.style("display",El)}function R(e,t,a){var r=e.x,n=e.y,i=r+e.width,l=n+e.height;a&&(ht?i=(r-=e.width)+e.width:l=n-e.height);var o=r<=t.x&&t.x<=i&&(a&&!ht?l<=t.y&&t.y<=n:n<=t.y&&t.y<=l);return o?0:null}function j(t,a){return R({x:n.left+(e.scrolledX||0),y:n.top+(e.scrolledY||0),width:n.width,height:n.height},{x:n.left+t,y:n.top+a})}function M(e){return e*e}function I(e,t){return M(e.x-t.x)+M(e.y-t.y)}function H(e,t,a){var r=I(t,a);if(0===r)return I(e,t);var n=((e.x-t.x)*(a.x-t.x)+(e.y-t.y)*(a.y-t.y))/r;return 0>n?I(e,t):n>1?I(e,a):I(e,{x:t.x+n*(a.x-t.x),y:t.y+n*(a.y-t.y)})}function B(e,t,a){return yl(H(e,t,a))}function N(e,t){var a=0,r=0;return a=t.x-e.x,a*=a,r=t.y-e.y,r*=r,yl(a+r)}function Y(e,t){for(var a,r,n,i,l,o,s=e.x,c=e.y,d=!1,l=0,u=t.length-1;l<t.length;u=l++)a=t[l].x,n=t[l].y,r=t[u].x,i=t[u].y,o=n>c!=i>c&&(r-a)*(c-n)/(i-n)+a>s,o&&(d=!d);return d}function W(t,a,r,n,i){var l=Xc.getKey(i,r,e),o=e.subrenderer[n][l],s=o.data[r],c=s.startAngle,d=s.endAngle,u=kl(t.x-a.x,-(t.y-a.y));return na(c,d,u)}function X(t){var a=t.plotoptions,n=yt(t.type||e.userdata.seriesdata.type,"string"),i=r.chart.plot.plotoptions[n];return t.disabled||0==rt(rr(a,i,e,"enabled"),!0)}function G(t,a,r){var n=e.renderer[t],i=null!=n.seriesdataAfterUpdate?n.seriesdataAfterUpdate[a]:e.seriesdata[t].data[a];return i[r]}function Z(t,a,r){if(it(t)&&it(r)){a=dc(a,0);var n=e.renderer[t],i=n.seriesdataAfterUpdate[a][r],l=n.commonOption||Ka(e.rendererConf[t],t);return mr(e,i,a,l)}}function Q(t,a,r){if(hr(e.chartTypes[0].value)){var n=e.systemConf.chart.plot.plotoptions.heatmap,i=n.symbol&&F(n.symbol);return i?i(pl(t.width,t.height)):Mt(-t.width/2,-t.height/2,t.width,t.height,a,null,ht)}return Mt(t.x,t.y,t.width,t.height,a,r,ht)}function q(t){var a=n.left,r=n.top;return hr(e.chartTypes[0].value)&&(a+=t.x+t.width/2,r+=t.y+t.height/2),[a,r]}function K(e){return e=e.split("_"),{levelIndices:e.map(Number),seriesIndex:+e[0],itemIndex:+e[e.length-1]}}function J(e,t){return!it(e)||e&&t.allowDefault===!0}function et(t,a,r,n){var i;if("threshold-marker"===a.type){var l="x"===a.thresholdType?"x":"y.groups["+a.yColumnIndex+"]";i=cc(e.axes,l+".threshold.line").getMetaInfo(a)}else i=at(a);it(n)&&"object"==typeof n&&(i=oc(i,n,!0,!0)),tt(t,r,i,e)}function at(t){var r,n=t.currentQualitativeRangePoint,i=dc(t.point,t.data),l=dc(t.level,i&&i.level);if(r=it(l)?K(l):{seriesIndex:t.seriesPos,subSeriesIndex:dc(t.subseriesindex,t.subseriesPos),itemIndex:t.itemPos},a(t.subseriesindex)&&t.subseriesindex.some(function(e){return it(e)?r.subSeriesIndex=e:void 0}),it(n)&&(r.rangeIndex=n.rangeIndex,r.targetIndex=n.targetIndex),it(r.seriesIndex)&&it(r.itemIndex)){if(it(i)&&a(i.data)&&(i=i.data),!a(i)){r.subSeriesIndex=dc(r.subSeriesIndex,0);var o=e.seriesdata,s=e.renderer[r.seriesIndex];i=it(s.seriesdataAfterUpdate)?s.seriesdataAfterUpdate[r.subSeriesIndex][r.itemIndex]:o[r.seriesIndex].data[r.subSeriesIndex][r.itemIndex],it(i.level)&&(r.levelIndices=K(i.level).levelIndices)}r.data=e.dataset.getMetaInfoObj(e,i,r.seriesIndex)}return r.point=i,r}var nt,lt,ot,st,ct=Ei.utils.getValueOfPlotOptions,dt=i.getDataType("x"),ut=c,u=u,ht=e.dataObject.getAxisRotated(),ft=r.tooltip.enabled===!0,gt=e.container.selectAll(".zohocharts_scroll"),pt={target:"plot",chartObj:e},mt=Ei.DataProcessor.helpers,vt=mt.getParsedYAxisOrder,yt=mt.getChartType,xt=mt.isCatNull,bt=Vc.hasSharedSeries(e),wt={},Ct=0,kt=function(t){return e.dataObject.isstacked(t)},Ot=new Ei.CustomPoints(e);return Ot.addPoints(e.cache.thresholdCustomPoints,!0),wt.initializeListener=function(){var a=e.eventHandler;ot=e.eventHandler.tapOldInfo=null,a.trackerElement=zt(d,"rect",[1],".","class","eventhandler"),a.tooltipElement=Ei.events.tooltip(t,r,e),a.tooltipElement.initialize(),a.customPoints=Ot;var n=e.eventHandler.trackerElement;n.style("fill-opacity",0);var i=$(r.chart,"zoom.type",!0),l={click:a.click,dblclick:a.doubleclick,contextmenu:a.contextMenu},o={mousemove:a.mouseMove,mouseout:a.mouseOut};if(Sr(n,l,null,pt,"chart"),Sr(n,o,null,pt,"chartmove"),Sr(t,o,null,pt),i&&i!==El)Ei.setDefaultOptions("zoom",e.systemConf.chart,e.globalProp),a.initializeZoomListener();else{var s={tap:a.click,dbltap:a.doubleclick,singletouchmove:a.mouseMove,touchend:a.mouseOut};Sr(n,{},s,pt)}var c=e.eventHandler.tooltipElement,u="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",h=e.container.node(),f=null;if(e.d3container.on(u,function(){var e=h.getBoundingClientRect();f&&(f.left!==e.left||f.top!==e.top)&&c.hide(c.element),f=e}),"auto"===r.tooltip.pointerEvents){var g=a.tooltipElement.element;g.on("mouseenter",function(){wt.mouseOnTooltip=!0}),g.on("mouseleave",function(){wt.mouseOnTooltip=!1,a.mouseOut()})}wt.reverseLegendHighlight=new Rc(e)},wt.initializeZoomListener=function(){e.zoom=Ei.events.zoom(e,ht,r,i);var t=e.eventHandler.trackerElement,a=Hl(document.documentElement),n=e.zoom,l=e.eventHandler;n.zmInit();var o=!1,s={mousedown:function(){Pr(t,"chartmove"),Sr(a,c,null,pt,"zoommove"),d3.event.preventDefault()}},c={mousemove:function(){e.eventHandler.mousePos=pr(t.node(),d3.event),o||(e.eventHandler.mouseOut(),n.zmStart(e.eventHandler.mousePos),o=!0),n.zmMove(e.eventHandler.mousePos)},mouseup:function(){Pr(a,"zoommove",c);var r=n.zmEnd(e.eventHandler.mousePos);o&&(e.eventHandler.mousePos=pr(t.node(),d3.event),n=e.zoom,n.zoomed(r));var i={mousemove:l.mouseMove,mouseout:l.mouseOut};Sr(t,i,null,pt,"chartmove"),o=!1}},d={tap:l.click,dbltap:l.doubleclick,doubletouchmove:function(){e.eventHandler.mousePos=pr(t.node(),d3.event),o||(e.eventHandler.mouseOut(),n.zmStart(e.eventHandler.mousePos),o=!0),n.zmMove(e.eventHandler.mousePos)},touchend:function(){Pr(a,null,c);var r=n.zmEnd(e.eventHandler.mousePos);o?(e.eventHandler.mousePos=pr(t.node(),d3.event),n=e.zoom,n.zoomed(r)):l.mouseOut(),o=!1},singletouchmove:l.mouseMove};Sr(t,s,d,pt,"zoom")},wt.updateParams=function(a){e=a,r=e.systemConf,n=e.plotarea,i=e.dataset,l=e.axes.x.eventscale,ut=e.axes.y.groups,o=e.barscale1,s=e.barscale2,u=e.seriesColor,t=e.tooltip.element,kt=function(t){return e.dataObject.isstacked(t)},ht=e.dataObject.getAxisRotated(),d=e.staticPaneSVG.selectAll("g.eventgroup"),dt=i.getDataType("x"),ft=r.tooltip.enabled===!0,e.eventHandler.tooltipElement=Ei.events.tooltip(e.tooltip.element,r,e),e.eventHandler.tooltipElement.initialize(),e.eventHandler.bulletEvents=null,bt=Vc.hasSharedSeries(e),wt.reverseLegendHighlight=new Rc(e),Ot.removePoints(0,Ot.points.length),Ot.addPoints(e.cache.thresholdCustomPoints,!0),(e.xymultiRenderer||e.dataObject.isPolarAxisCategory)&&_(e.eventHandler.trackerElement,e.plotarea)},wt.mouseMove=function(t){var a=t.element||this;if(e.chartRendered){var n=e.eventHandler.tooltipElement;if(null!=n&&null!=n.timeout&&clearTimeout(n.timeout),e.stopPropogate!==!1&&d3.event.stopPropagation(),e.eventHandler.targetEvent=d3.event,e.xymultiRenderer||e.dataObject.isPolarAxisCategory){e.eventHandler.mousemovetimer&&clearTimeout(e.eventHandler.mousemovetimer);var i=e.eventHandler.trackerElement.node();e.eventHandler.mousePos=pr(i,d3.event),e.eventHandler.mousemovetimer=setTimeout(function(){var t=e.dataObject.noofBarEnabledSeries>0,a=dt===_o&&(t||bt)?f:g;a(e.eventHandler.mousePos,e.eventHandler.targetEvent,i)},Ct)}else{var i=e.svg.node();e.eventHandler.mousePos=pr(i,d3.event);var l=e.eventHandler.mousePos[0],o=e.eventHandler.mousePos[1],s={x:l,y:o},c=d3.event.srcElement||d3.event.target,d=Hl(c).attr("id"),h="zctooltip"==a.id||/(zctooltip|tooltipcontent|zctooltipafter|zctooltipbefore)/.test(d);if(!h){var p=e.seriesdata,m=e.chartTypes[0].name,v=p[t.seriesPos].plotoptions,y=r.chart.plot.plotoptions[m],x=e.zcEventType||"mousemove",b=rr(v,y,e,x),w=d3.event||e.eventHandler.targetEvent;if(it(b)&&et(b,t,w),J(b,w)&&(e.eventHandler.oldRenderer=t,t.renderer.defaultMouseOverFunc(t.data,t.seriesPos,t.itemPos)),ft){var C={left:s.x,top:s.y};w=Tr(d3.event);var k=s.x-w.clientX,O=s.y-w.clientY;C.left-=k,C.top-=O,C.dLeft=k,C.dTop=O;var A={seriesindex:t.seriesPos,subseriespos:t.subseriesPos,color:t.color||u,svgFillFunc:t.renderer.fillColorFunc,itempos:t.itemPos,d:e.dataObject.isHierarchy?t.data.data||t.data:null};n.show(e,C,null,!0,A)}}}}wt.reverseLegendHighlight.highlight(e.isAxisCategory||e.dataObject.isPolarAxisCategory?e.eventHandler.oldInfo&&e.eventHandler.oldInfo.nearestPoint:t)},wt.mouseOut=function(t,a,n,i,l){if(wt.mouseOnTooltip!==!0){var o=e.seriesdata,s=this;n=n||0;var c=e.chartTypes[0].name,d=e.isNonAxisMultiSeriesCategory&&!e.dataObject.isPolarAxisCategory?o[n].plotoptions:o[0].plotoptions,u=r.chart.plot.plotoptions[c],h=e.eventHandler.oldInfo,f=r.tooltip.hideDelay,g={};h&&(g=dc(h.nearestPoint,g),h.customPoint&&(u=h.customPoint));var p=rr(d,u,e,"mouseout"),m=d3.event||e.eventHandler.targetEvent,v=e.eventHandler.tooltipElement;if(l||e.chartRendered){var y=0;if(it(p))if(!e.xymultiRenderer||null!=h&&!h.isNoInfo){var x;h&&it(h.nearestPoint)?x=h.nearestPoint:a&&(x={seriesPos:0,itemPos:n,point:a.data}),it(x)&&et(p,x,m)}else h&&it(h.customPoint)&&et(p,h.customPoint,m);if(J(p,m)){if(e.xymultiRenderer||e.dataObject.isPolarAxisCategory){m=d3.event;var b=e.eventHandler.trackerElement.node(),w=null!=m?pr(b,m):e.eventHandler.mousePos,C=U(b),k=ht?w[1]:w[0],O=ht?w[0]:w[1],S={x:k,y:O};y=R(C,S)}var P=null!=m?m.relatedTarget:null,T=null!=m?m.target:null;if(e.xymultiRenderer&&0==y&&null!=P&&null!=v&&(T==v.element.node()||T==v.element.selectAll("div#tooltipcontent").node()||P==v.element.node()||P==v.element.selectAll("div#tooltipcontent").node()))return;if(!e.xymultiRenderer&&!e.dataObject.isPolarAxisCategory)if(t=t||e.renderer[n],"zctooltip"==s.id||null!=P&&null!=v&&(T==v.element.node()||T==v.element.selectAll("div#tooltipcontent").node()||T==v.element.selectAll("div#zctooltipafter").node()||T==v.element.selectAll("div#zctooltipbefore").node()||P==v.element.node()||P==v.element.selectAll("div#tooltipcontent").node()||P==v.element.selectAll("div#zctooltipafter").node()||P==v.element.selectAll("div#zctooltipbefore").node())){var E=e.eventHandler.oldRenderer;null!=E&&E.renderer.defaultMouseOutFunc(E.data,e.isNonAxisMultiSeriesCategory?E.seriesPos:E.itemPos,l)}else t.defaultMouseOutFunc(a,n,l)}clearTimeout(e.eventHandler.mouseouttimer),e.eventHandler.mouseouttimer=setTimeout(function(){i!==!0&&(clearTimeout(e.eventHandler.tooltipElement.timeout),e.eventHandler.tooltipElement.timeout=setTimeout(function(){A(),v.hide()},dc(f,150)))},Ct),wt.reverseLegendHighlight.reset(),wt.hideCursor(e.eventHandler.trackerElement)}}},wt.click=function(t,n,i,o,s){if(e.chartRendered){var c=e.seriesdata,d=e.dataObject.isPolarAxisCategory,h=d3.event&&d3.event.touches,f=e.zcEventType||"click";h&&"taphold"!==f&&(Lc(e),Ac=(new Date).getTime(),Tc=this,Pc=[t,n,i,o],Sc=e);var g=e.eventHandler.tooltipElement,p=d3.event||e.eventHandler.targetEvent;if(e.xymultiRenderer||d){var m=d3.event;nt=e.eventHandler.trackerElement.node();var v=pr(nt,m)||e.eventHandler.mousePos,y=U(nt),b=v[0]-y.x-(d?e.plotarea_approx.x:0),w=v[1]-y.y-(d?e.plotarea_approx.y:0),C={x:b,y:w};nt=this;var k=e.dataObject.noofBarEnabledSeries>0,A=dt===_o&&k?x:O,S=A(C,l,ut,r),P=S.seriesPos,o=S.itemPos,T=a(S.subseriesindex)?S.subseriesindex[P]:S.subseriesindex,E=dc(S.customPoint,S.currentQualitativeRangePoint);if(it(E)){var L=rr(null,E,e,f);it(L)&&et(L,E,m),e.eventHandler.oldInfo={customPoint:E,isNoInfo:!0}}if(null==P&&!it(E))return void(h&&(e.eventHandler.mouseOut(),e.eventHandler.tapOldInfo=null));if(it(P))var z=e.chartTypes[P].value,D=c[P].plotoptions,R=r.chart.plot.plotoptions[Ei.charttypenames.get(z)],j=rr(D,R,e,f,S.currentQualitativeRangePoint),M=rr(D,R,e,"cursor");if(it(j)){var I=vt(c[P].yaxiscolumnorder),H=ut[I].eventscale,t=e.renderer[P],B=null!=t.seriesdataAfterUpdate?t.seriesdataAfterUpdate[T]:c[P].data[T],n=B[o];if(lr(z)){var F=S.highlightpoint||Z(P,T,o);wt.addCursor(M),et(j,S,p,{x:F.x,y:F.y})}else{var V=e.dataObject.getXYvalue(ht,kt(z),l,H,I,n,"x"),Y=e.dataObject.getXYvalue(ht,kt(z),l,H,I,n,"y"),_=ir(z)||d?null:N({x:V,y:Y},C),W=sr(z)?e.zscale(e.dataset.getZ(n))/2:10;if(!(W>=_))return void wt.hideCursor(e.eventHandler.trackerElement);wt.addCursor(M),et(j,S,p,{x:V,y:Y})}}if(J(j,p)&&(g.hide(g.element),wt.hideCursor(e.eventHandler.trackerElement)),h&&"taphold"!==f&&J(j,p)){ot=e.eventHandler.tapOldInfo;var X=S.currentQualitativeRangePoint||{},G=ot&&ot.currentQualitativeRangePoint||{},Q=!ot||ot.itemPos!=o||ot.seriesPos!=P||ot.subseriesindex!=T||X.rangeIndex!=G.rangeIndex||X.targetIndex!=G.targetIndex||(S.highlightpoint&&S.highlightpoint.type||X.type)!=G.type;Q?(e.eventHandler.mouseMove({}),e.eventHandler.tapOldInfo={seriesPos:P,subseriesindex:T,itemPos:o,currentQualitativeRangePoint:X,type:S.highlightpoint&&S.highlightpoint.type||X.type}):(e.eventHandler.mouseOut(),e.eventHandler.tapOldInfo=null)}}else{var q=e.chartTypes[0].name,D=c[e.isNonAxisMultiSeriesCategory?i:0].plotoptions,R=r.chart.plot.plotoptions[q],j=rr(D,R,e,f);if(it(j)&&et(j,s,p),J(j,p)&&(g.hide(g.element),wt.hideCursor(e.eventHandler.trackerElement)),h&&"taphold"!==f&&J(j,p))if(ot=e.eventHandler.tapOldInfo,ot&&(s.level?s.level==ot.level:ot.itemPos==o&&ot.seriesPos==i&&0==ot.subseriesindex))t.defaultMouseOutFunc(n,o),e.eventHandler.tapOldInfo=null;else{if(t.defaultMouseOverFunc(n,i,o),ft){var K=e.svg.node();e.eventHandler.mousePos=pr(K,d3.event);var b=e.eventHandler.mousePos[0],w=e.eventHandler.mousePos[1],C={x:b,y:w},$={left:C.x,top:C.y},p=Tr(d3.event),tt=C.x-p.clientX,at=C.y-p.clientY;$.left-=tt,$.top-=at,$.dLeft=tt,$.dTop=at;var rt={seriesindex:s.seriesPos,subseriespos:s.subseriesPos,color:s.color||u,svgFillFunc:s.renderer.fillColorFunc,itempos:s.itemPos,d:e.dataObject.isHierarchy?s.data.data||s.data:null};g.show(e,$,null,!0,rt)}e.eventHandler.tapOldInfo={seriesPos:i,subseriesindex:0,itemPos:o,level:s.level}}}}},wt.doubleclick=function(t,a,n){if(e.chartRendered){e.noPropogate&&d3.event.stopPropagation();var i=d3.event&&d3.event.touches;i&&(e.eventHandler.mouseOut(),e.eventHandler.tapOldInfo=null);var o=d3.event||e.eventHandler.targetEvent,s=e.eventHandler.tooltipElement,c=e.seriesdata,d=e.dataObject.isPolarAxisCategory,u=e.zcEventType||"doubleclick";if(e.xymultiRenderer||d){nt=e.eventHandler.trackerElement.node();var h=pr(nt,d3.event),f=U(nt),g=h[0]-f.x-(d?e.plotarea_approx.x:0),p=h[1]-f.y-(d?e.plotarea_approx.y:0),m={x:g,y:p};nt=this;var v=e.dataObject.noofBarEnabledSeries>0,y=dt===_o&&v?x:O,b=y(m,l,ut,r),w=dc(b.customPoint,b.currentQualitativeRangePoint);
if(it(w)&&!it(A)){var k=rr(null,w,e,u);return it(k)&&et(k,w,o),void(e.eventHandler.oldInfo={customPoint:w,isNoInfo:!0})}var A=b.seriesPos;if(null==A)return;var S=b.itemPos,P=b.subseriesindex instanceof Array?b.subseriesindex[A]:b.subseriesindex,T=e.renderer[A],E=null!=T.seriesdataAfterUpdate?T.seriesdataAfterUpdate[P]:c[A].data[P],t=E[S],L=e.chartTypes[A].value,z=c[A].plotoptions,D=r.chart.plot.plotoptions[Ei.charttypenames.get(L)],R=rr(z,D,e,u,b.currentQualitativeRangePoint),j=rr(z,D,e,"cursor");if(lr(L)){if(wt.addCursor(j),it(R)&&et(R,b,o),J(R,o)){var M=dc(b.highlightpoint,{});C(null,A,S,E,M.x,M.y)}}else{var I=vt(c[A].yaxiscolumnorder),H=ut[I].eventscale,B=e.dataObject.getXYvalue(ht,kt(L),l,H,I,t,"x")+(d?e.plotarea_approx.x:0),F=e.dataObject.getXYvalue(ht,kt(L),l,H,I,t,"y")+(d?e.plotarea_approx.y:0),V=ir(L)||d?null:N({x:B,y:F},m),Y=sr(L)?e.zscale(e.dataset.getZ(t))/2:10;Y>=V&&(wt.addCursor(j),it(R)&&et(R,b,o,{x:B,y:F}),J(R,o)&&C(null,A,S,E,B,F)),J(R,o)&&wt.hideCursor(e.eventHandler.trackerElement)}}else{var _=e.chartTypes[0].name,z=c[e.isNonAxisMultiSeriesCategory?a:0].plotoptions,D=r.chart.plot.plotoptions[_],R=rr(z,D,e,u);it(R)&&et(R,{seriesPos:0,itemPos:a,point:t.data},o),J(R,o)&&C(n)}J(R,o)&&(s.hide(s.element),wt.hideCursor(e.eventHandler.trackerElement))}},wt.contextMenu=function(){var t=r.chart.plot.events.contextmenu;if(null!=t){var a=d3.event||e.eventHandler.targetEvent;tt(t,a,e),d3.event.preventDefault()}},wt.addCursor=function(t){var a=h(),t=t||($(r.chart,"zoom.type")&&e.systemConf.chart.zoom.type!=El?"crosshair":zl);a.style("cursor",t)},wt.hideCursor=function(){var e=h();e.style("cursor","default")},wt},function(){"use strict";function e(e,t,a,r,n){return{x:n?t:e,y:n?e:t,width:n?r:a,height:n?a:r}}function t(e,t,a,r){this.chart=e,this.barOptions=t,this.scale={x:a,y:r},this.barOptions=t,this.axesRotated=e.dataObject.getAxisRotated(),this.cache=ao()}t.prototype.getCurrentPoint=function(e,t){for(var a,r=this,n=r.getCurrentRectangles(t),i=n.length;i--;)if(a=n[i],kr(e.x,e.y,a))return a;return null},t.prototype.getCurrentRectangles=function(t){if(t.isDummy)return[];var r=this,n=r.chart,i=n.dataset.getX(t);if(r.cache.has(i))return r.cache.get(i);var l,o,s,c,d=r.scale.y,u=r.scale.x,h=n.systemConf.chart.plot.plotoptions.bullet.levelMarker,f=n.systemConf.chart.plot.plotoptions.bullet.targetMarker,g=r.barOptions,p=u(i)+g.levelMarkerPadding,m=u.bandwidth(),v=pl(h.maxBandWidth,m),y="y",x=n.dataset.getDataType(y,0),b=[],w=t[h.dataindex]||[],C=r.axesRotated,k=u.domain().indexOf(i),O=null;a(w)||(w=[w]);var A=w.slice(0);if(x===Wo){var S=n.dataset.getColumn(y,0);s=it(S.time)?S.time:null}A.push(0),A=A.map(function(e){return x===Wo?Mr(e,null,s).getTime():e}),A=A.sort(C?oo:so);var P,T=A.map(function(e){return d(e)});for(A.splice(A.indexOf(0),1),c=T.length-1,P=c-1;c--;)o=T[c+1]-T[c],o>0&&(l=T[c]),l=T[c],o>0&&(O=e(p,l,v,o,C),O.currentStage=A[c],O.type="levelMarker",O.data=t,O.rangeIndex=P-c,O.itemIndex=k,O.events=h.events,O.chartType=n.chartTypes[0],b.push(O));if(f.enabled===!0){var E=0;v=dc(f.size,g.levelMarkerWidth-2*dc(f.padding,g.padding/2)),it(f.size)&&(v=10*pl(v,m/10)),o="line"===f.symbol?gl(dc(f.outerStrokeWidth,f.innerStrokeWidth,0)):v;var L=t[f.dataindex];p=u(n.dataset.getX(t))-E,l=d(L)-E,p+=(m-v)/2,l-=o/2,5>o&&(o=5,l-=2.5);var z=f.events||{},D=z.triggerOffset||0;p-=D/2,l-=D/2,v+=D+2*E,o+=D+2*E,O=e(p,l,v,o,C),O.type="marker",O.data=t,O.currentStage=L,O.itemIndex=k,O.targetIndex=0,O.events=f.events,O.chartType=n.chartTypes[0],b.push(O)}return r.cache.set(i,b),b},t.prototype.getTooltipContent=function(e,t){var a,r=this,n=r.chart,i=n.systemConf.chart.plot.plotoptions.bullet,l=Cr(n,i.levelMarker),o=Cr(n,i.targetMarker),s=cc(i,"levelMarker.events")||{},c=cc(i,"targetMarker.events")||{},d=("marker"===this.type?o:l)||n.dataset.getColumn("y",0),u=e.currentStage,h=d.datatype,f=n.dataset.getMetaInfoObj(n,e.data,t),g=zr(d[h],u,h,n,"tooltip"),p={value:u,formattedValue:g,actualData:e.data,data:f};return a="marker"===e.type?tt(c.tooltipContent,p,n,"tooltip")||"Target: "+g:tt(s.tooltipContent,p,n,"tooltip")||"Range: "+g},Ei.BulletEvent=t}(),function(e){function t(e,a,r){return this instanceof t?(a=dc(a,[]),r&&(a=t.toCircle(a)),this.chart=e,void(this.points=t.addType(a))):new t(a)}function a(e,t,a,n,i,l){var o=e.eventHandler.oldInfo,s=e.systemConf.tooltip,c=e.systemConf.tooltip.sharedSeriesInfo,d=e.staticPaneSVG.selectAll("g.eventgroup"),u=s.enabled===!0||l===!0,h=e.eventHandler.tooltipElement;o&&o.isNoInfo===!1&&e.eventHandler.mouseOut(),clearTimeout(h.timeout),d.selectAll("#zcscatterhighlight,#zcbarhighlight,#zcareahighlight").style("display",El);var f=n.x+n.width/2,g=n.y+n.height/2;if(it(a)||(a={x:f,y:g}),it(t)&&(t=Tr(t)),!it(t)){var p=e.svg.node().getBoundingClientRect();t={clientX:f+e.plotarea.left+p.x,clientY:g+e.plotarea.top+p.y}}if(i&&"circle"===n._type&&r(n,f,g,d,e.plotarea),u){var m=wr(t,a,f,g,e,null,e.axes.rotated,c,null,!1,!1),v=[n.text,n.formattedValue].join(": "),y=n.marker,x=dc(n.events,{}),b=x.tooltipContent;if(it(b)){var w=tt(b,t,{data:[n.columnInfo],itemIndex:n.itemIndex,point:n.point,pointFormatted:n.formattedValue},e);it(w)&&(v=w)}m.helpers.backgroundColor=dc(s.backgroundColor,y.fillColor,n.color),m.helpers.borderColor=dc(s.borderColor,y.strokeColor,n.color),h.show(e,m,v,!1,m.helpers)}}function r(e,t,a,r,n){var i=r.selectAll("#zcscatterhighlight").style("display",null).attr("transform","translate("+n.left+","+n.top+")"),l=cc(e.marker,"hoveroptions")||{},o={color:e.color,symbolSize:{inner:e.size/2,outer:e.size},transform:[t,a]};V(i,null,l,o)}t.prototype.getClosest=function(e,t){it(t)||(t=Number.MAX_VALUE);for(var a,r,n=this,i=n.points,l=i.length,o=null,s=null,c=t,d=0;l--;)a=i[l],"circle"===a._type?(r=a.triggerOffset||0,d=Or(e.x,e.y,a),r>d&&c>d&&(0>=d&&(s=a),c=d,o=a)):"rect"===a._type&&kr(e.x,e.y,a)&&(o=s=a);return dc(s,o)},t.prototype.addPoints=function(e,a){return e?(a&&(e=t.toCircle(e)),Array.prototype.push.apply(this.points,t.addType(Et(e))),this):void 0},t.prototype.removePoints=function(e,t){return this.points.splice(e,t||1)},t.prototype.hoverPoint=function(e,t,r,n,i,l){n=n!==!1,i=i!==!1,n&&a(this.chart,t||d3.event,r,e,i,l)},t.prototype.leavePoints=function(){if(this.points.length){var e=this.chart;e.staticPaneSVG.selectAll("g.eventgroup").selectAll("#zcscatterhighlight").style("display",El),e.eventHandler.tooltipElement.hide()}},t.toCircle=function(e){return e.forEach(function(e){e._converted||it(e.r)||(e.cx=e.x+e.width/2,e.cy=e.y+e.height/2,e.r=gl(e.width,e.height)/2,e._converted=!0)}),e},t.addType=function(e){return e.forEach(function(e){e._type=it(e.r)?"circle":it(e.x)&&it(e.y)&&it(e.width)&&it(e.height)?"rect":"poly"}),e},e.CustomPoints=t}(Ei);var Rc=function(e){var t=e.legendarea.element.selectAll(".legseries").node();this.chartObj=e,this.legendSeries=t,this.legendElements=t?t.children:[],this.itemHighlighted=!1,this.hoveredSeriesIndex=Dl,this.previousHoveredSeriesIndex=Dl,this.legend_series_height=Dl,this.legendScrollable=Dl,t&&(this.legend_series_height=t.clientHeight,this.legendScrollable=t.scrollHeight>this.legend_series_height)};Rc.prototype.highlight=function(e){var t=this.chartObj,a=this.previousHoveredSeriesIndex,r=t.systemConf.legend,n=r.itemHoverStyle;if(n&&n.showOnDataHover&&(!xc.isContinousLegend(t)||n.type&&n.type!==El)){var i=t.eventHandler.oldInfo,l=t.legend.component.highlightItem;if(!t.isAxisCategory&&!t.dataObject.isPolarAxisCategory||i&&!i.isNoInfo){var o,s,c;t.isAxisCategory||t.dataObject.isPolarAxisCategory?(o=e.data,s=e.seriesPos,c=e.itemPos):(o=e.data.data||e.data,s=e.seriesPos,c=e.itemPos);var d=this.hoveredSeriesIndex=this.getLegendIndex(o,t.isAxisCategory||t.dataObject.isPolarAxisCategory||t.isNonAxisMultiSeriesCategory?s:c);if(xc.isContinousLegend(t)){var u,h=t.dataset.getClr(o),r=t.systemConf.legend,f=r.colorBand.ranges,g=t.axes.clr.brushScale;u=f&&f.length?g(f[d])+g.bandwidth()/2:g(h),l(u,!0,Dl,f&&f.length?d:[h]),this.itemHighlighted=!0}else{var p=this.legendElements;if(p[d]){var m=xc.getLegendData(t);d!==a&&null!==a&&l(p[a],m[a],a,r),l(p[d],m[d],d,r,!0),this.itemHighlighted=!0,!this.legendScrollable||t.systemConf.legend.expandable&&t.systemConf.legend.expandable.show||(this.legendSeries.scrollTop=p[d].offsetTop-this.legend_series_height/2)}}this.previousHoveredSeriesIndex=d}}},Rc.prototype.reset=function(){if(this.itemHighlighted){var e=this.legendElements,t=this.chartObj,a=this.hoveredSeriesIndex,r=t.legend.component.highlightItem;if(xc.isContinousLegend(t))r(Dl,!1);else if(it(e[a])){var n=xc.getLegendData(t),i=t.systemConf.legend;r(e[a],n[a],a,i)}this.hoveredSeriesIndex=null}this.itemHighlighted=!1},Rc.prototype.getLegendIndex=function(e,t){var a=this.chartObj,r=a.axes.clr;return r.scaleType?hc.getItemIndex(a,r.indexScale,e):null!=t?t:void 0};var jc={YYYY:"%Y",MMMM:"%B",EEEE:"%A",EEE:"%a",MMM:"%b",YY:"%y",MM:"%m",EE:"%U",dd:"%d",HH:"%H",hh:"%I",mm:"%M",ss:"%S",a:"%p",MILLI:"%L",z:"%Z",QT:"$Q"},Mc={decimal:"d",exponent:"e","float":"f",binary:"b",octal:"o",hexadecimal:"x",SIprefix:"s"},Ic={Q:Gr},Hc=Object.keys(Ic).map(function(e){return"\\$"+e}),Bc=new RegExp(Hc.join("|"));Ei.events.tooltip=function(e,r,n){"use strict";function i(e,t,a,r){e.staticPaneSVG.selectAll("g.crosshair").style("visibility","visible");var n=r.type;("x"==n||"xy"==n)&&l(e,t,a,r,"x"),("y"==n||"xy"==n)&&l(e,t,a,r,"y")}function l(e,t,a,r,n){var i=e.staticPaneSVG.selectAll("line."+n+"-crosshair"),l="x"==n&&!e.axes.rotated||"y"==n&&e.axes.rotated;i.attrs({x1:l?t:e.plotarea.left,y1:l?e.plotarea.top:a,x2:l?t:e.plotarea.left+e.plotarea.width,y2:l?e.plotarea.height+e.plotarea.top:a}).styles({"shape-rendering":"crispEdges",stroke:r.color,"stroke-width":r.strokeWidth,"stroke-dasharray":O(r.dashStyle,r.strokeWidth),"pointer-events":El})}function o(e,t,a,r,i,l){if($(Ei,"tooltip.getTheme")&&it(g.tooltip.theme)&&""!==g.tooltip.theme&&it(n.tooltip.content))return p.getCustomizedVal(n,n.tooltip.content,e,t,a,i,"tooltip",r);var o=d(n.chartTypes[e].name),s=p.getDataPoint(n,null,e,t,a,i),c=fa(n,o?a:e,s,e),u=(l||x).filter(function(r){return!(y[r]&&J(p.getDataPoint(n,r,e,t,a,i)))}),h=Nc.getContentTemplate(n,Dl,u);return p.getCustomizedVal(n,h,e,t,a,i,"tooltip",c)}function s(e,r,i,l,o,s,c,d){var u=p.getColumnIdx("clr"),h=n.seriesdata[e].yaxiscolumnorder||[0,0],f=n.dataObject.pieWithAxis&&!n.dataObject.isCombinationalChart?Vc.getPieColumnIndex(n):p.getColumnIdx("y",h),g=o.keys(),m=o.y_val_pattern,v=Nc.getRawSharedContent(n,o,x),y=0,b=function(e,t,a,r,i,o){if(n.ismultiy||null==u){var s=Z(n.seriesdata[t].seriesname)||o.replace(/val/gi,"col");e=e.replace("{{val(null)}}",s)}return p.getCustomizedVal(n,e,t,a,r,l,"tooltip",i,Dl,d&&d>1?d:Dl)},w=[];return v.forEach(function(d,u){var h=(a(d)?d:[d]).some(function(e){return"string"==typeof e&&(-1!=e.indexOf("{{val("+f+")}}")||-1!=e.indexOf("{{per("+f+")}}"))});if(a(d)||h){y%=n.seriesdata.length;var x=g[y];if(h&&y++,J(x))return void w.push(u);var C=t(x),k=t(o.get(x)),O=m,A=s;if(a(A)){var S=p.getDataPoint(n,null,C,r,k,l);A=fa(n,c?k:C,S,C)}a(d)?d.forEach(function(e,t){d[t]=b(d[t],C,r,k,A,O)}):v[u]=b(v[u],C,r,k,A,O)}else{var C,k,x=g[0];it(x)?(C=t(x),k=t(o.get(x))):(C=e,k=i),v[u]=p.getCustomizedVal(n,d,C,r,k,l,"tooltip",s,Dl)}}),v=v.filter(function(e,t){return-1==w.indexOf(t)}),Nc.getContentTemplate(n,v)}function c(e,t){return function(){var a=d3.interpolateRound(parseInt(e),parseInt(t));return function(e){return a(e)+"px"}}}function d(e){var t=/(bar|scatter|bubble$|bullet|gantt|wordcloud|waterfall)/.test(e)&&ya(g.chart.plot.plotoptions[e],n),a=/(^pie|funnel|pyramid)/.test(e);return t||a}var u="40%",h="100%",f={element:e},g=n.systemConf,p=n.dataset,m=g.metadata,v=m.axes,y=m.columns,x=v.tooltip||d3.range(y.length),b=g.tooltip,w=null,C=b.position||"relative",k="relative"===C,A={left:50,top:100,rotation:0};if(b.theme&&""!==b.theme){var S=$(Ei,"tooltip.getTheme")&&Ei.tooltip.getTheme(b.theme,n);null!==S&&(b=n.systemConf.tooltip=oc(b,S.borderStyle,!0,!0),n.tooltip.content=[S.body],w=S.maxWidth)}var P,T,E,L,z=20,D=rt(b.hookHeight,6),R=it(b.borderWidth)?b.borderWidth:1,j=it(b.borderRadius)?b.borderRadius:5,I=it(b.borderStyle)?b.borderStyle:"solid",H=it(b.padding)?b.padding+"":"5",B=rt(b.withinChart,!0),F=rt(b.hookBorderWidth,/ /g.test(R)?1:+R),V=n.dataObject.getTransRectValue("radius",null,null,null,null,j),N=aa(b.maxWidth||w||u,n.chartarea.width),Y=aa(b.maxHeight||h,n.chartarea.height),_=gl(.05*n.chartarea.width,2*D),W=b.headerContent,X=b.footerContent,U=b.crosshair;return f.initialize=function(){var t=ni(b,n),a=+t+.35*+t,r=null!=n.userdata.canvas?n.userdata.canvas.fontColor:null,i=ct(j),l=b.useChartEffect===!1,o=null;!l&&n.filterEffectsID&&(o="url(#"+n.filterEffectsID+")"),e.styles({width:"auto","box-shadow":b.shadow,opacity:b.opacity,"z-index":b.zindex,"border-radius":i,"border-width":ct(R),"border-style":I,"-webkit-transform-style":"preserve-3d","-moz-transform-style":"preserve-3d","-ms-transform-style":"preserve-3d","-o-transform-style":"preserve-3d","transform-style":"preserve-3d","pointer-events":b.pointerEvents,filter:o});var s=zt(e,"div",b.borderTop?[b.borderTop]:[],".","class","borderTop");s.styles({height:b.borderTop+"px","border-radius":i,"border-bottom-left-radius":"1px","border-bottom-right-radius":"1px"}),L=zt(e,"div",[1],"#","id","tooltipcontent"),L.styles({"box-sizing":"relative"===C?null:"border-box","max-width":"relative"===C?N+"px":null,"min-width":"relative"===C?_+"px":null,"line-height":(b.lineHeight||a)+"px","word-wrap":"break-word","white-space":"normal","overflow-y":"auto",padding:ct(H)}),Ht(L,[{fontColor:null==b.fontColor&&null==r?"white":b.fontColor||r},b,n.systemConf.canvas,qs],!0),P=zt(e,"div",k?[1]:[],"#","id","zctooltipbefore"),P.styles({"margin-left":-(D+2*F)+"px",border:D+2*F+"px solid transparent"}),T=zt(e,"div",k?[1]:[],"#","id","zctooltipafter"),T.styles({"margin-left":-D+"px",border:D+"px solid transparent"}),E=e.selectAll("div#zctooltipbefore,div#zctooltipafter"),E.styles({"border-color":Ll,"border-top-color":"white",position:"absolute",top:"100%",left:"50%",width:0,height:0,content:" "})},f.show=function(r,n,l,u,h){function f(){if(j)return R.keys().map(function(e){var a=t(e),n=t(R.get(e)),i=p.getColumnIdx("clr"),l=r.seriesdata[a].yaxiscolumnorder||[0,0],o=r.ismultiy||null==i?p.getColumnIdx("y",l):i,s=p.getDataPoint(r,o,a,x,n),c=p.getMetaInfoObj(r,s,a);return{actData:s,metaInfo:c}});var e=p.getDataPoint(r,null,y,x,k,h.d),a=r.dataset.getMetaInfoObj(r,e,y);return{actData:e,metaInfo:a,seriesIndex:y,subseriesIndex:x,itemIndex:k}}it(h)||(h={});var g,m=h.color,v=h.svgFillFunc,y=h.seriesindex,x=h.subseriespos,w=h.subseriesLength,k=h.itempos,O=h.backgroundColor||b.backgroundColor,S=h.borderColor||b.borderColor,R=h.tooltipSharedInfo,j=h.tooltipShared,I=null!=y&&r.chartTypes[y].name||h.chartType&&h.chartType.name;u=null==l&&u===!0,(u||h.inheritColors)&&(g=d(I));var H=m;if(u||h.inheritColors){var _=g?k:y,G=p.getDataPoint(r,null,y,x,k,h.d);H=fa(r,_,G,y)}else a(H)&&(H=H[y%H.length]);H=j?"black":H,S=null!=S?S:H,O=null!=O&&""!=O?O:H,e.styles({visibility:"visible","background-color":O,"border-color":S});var Z,Q,q="",K="",$="",J=L.node();u&&null!=W&&(K=tt(W,d3.event,Z=f(),r)),q+=u?b.content?tt(b.content,d3.event,Z=Z||f(),r):j?s(y,x,k,h.d,R,m,g,w):o(y,x,k,H,h.d):l,u&&null!=X&&($=tt(X,d3.event,Z=Z||f(),r)),L.html(q),Tt(K)||(Q=document.createElement("div"),Q.innerHTML=K,K=Q),Tt($)||(Q=document.createElement("div"),Q.innerHTML=$,$=Q),J.insertBefore(K,J.firstChild),J.appendChild($);{var et=e.node();et.offsetWidth,et.offsetHeight}U.type!=El&&r.isAxisCategory&&i(r,n.actLeft||n.left,n.actTop||n.top,U),e.interrupt().transition(),e.transition().delay(0);var at;if("relative"===C){var rt=parseFloat(et.style.left),nt=parseFloat(et.style.top);at=Fc.relative(n,e,r,D,z,B,F,V,N,Y),A=at.hookPosition,(!rt||isNaN(rt)||!nt||isNaN(nt))&&e.styles({left:at.x+"px",top:at.y+"px"}),rt=!rt||isNaN(rt)?at.x:(2*rt+at.x)/3,nt=!nt||isNaN(nt)?at.y:(nt+at.y)/2,e.transition().duration(100).ease(_l).styleTween("left",c(rt,at.x)).styleTween("top",c(nt,at.y))}else"fixed"===C?(at=Fc.fixed(n,e,r),e.styles({left:at.x+"px",top:at.y+"px"})):(at=Fc.block(n,e,r),e.styles({left:at.x+"px",top:at.y+"px"}).attr("align",at.align));if(L.styles({width:at.w,height:at.h,"max-width":at.maxw,"max-height":at.maxh}),b.borderTop){var lt=v?v(g?k:y,null,null,H,null,null,{width:pl(+at.w,+at.maxw)},!0):S,ot="object"==typeof lt?"url("+M(lt,!0).url+")":lt,st=e.selectAll("div.borderTop");st.styles({background:ot})}if(j)E.style("display",El);else{var ct="rotate("+A.rotation+"deg)",dt="50% 0%";E.styles({display:"",left:A.left+"%",top:A.top+"%",transform:ct,"-webkit-transform":ct,"-ms-transform":ct,"transform-origin":dt,"-webkit-transform-origin":dt,"-ms-transform-origin":dt}),P.style("border-top-color",S),T.styles({"border-top-color":O,opacity:1})}},f.hide=function(e){e=null==e?this.element:e,e.style("visibility","hidden"),n.systemConf.tooltip.crosshair.type!=El&&n.staticPaneSVG.selectAll("g.crosshair").style("visibility","hidden")},f.destroy=function(){this.element.remove()},f.getTooltipContent=function(){return o.apply(null,arguments)},f};var Fc={};Fc.relative=function(e,t,a,r,n,i,l,o,s,c){function d(t){var a;/(top|bottom)/.test(t)?e.left-S/2<E.left?(a=u(t==ks?"blx":"tlx"),L.x=E.left,T.left=gl(a,e.left-E.left)/S*100):e.left+S/2>E.right?(a=u(t==ks?"brx":"trx"),L.x=E.right-S,T.left=100*(1-gl(a,E.right-e.left)/S)):T.left=50:e.top-P/2<E.top?(a=u(t==bs?"trY":"tly"),L.y=E.top,T.top=gl(a,e.top-E.top)/P*100):e.top+P/2>E.bottom?(a=u(t==bs?"bry":"bly"),L.y=E.bottom-P,T.top=100*(1-gl(a,E.bottom-e.top)/P)):(L.y=e.top-P/2,T.top=50)}function u(e){return r+o[e]+yl(vl(l,2)+vl(l,2))}t.selectAll("#tooltipcontent").styles({width:null,height:null,"max-width":s+Tl,"max-height":c+Tl});var h=t.node(),f=h.offsetWidth,g=h.offsetHeight,p=2,m=a.canvasarea,v=a.chartarea,y=n+r+(e.distance||0),x=e.dTop||0,b=e.dLeft||0,w=a.systemConf.tooltip,C=(w.relative||{}).orient,k=(w.borderTop||0,v.width-v.left+v.right),O=v.height,A=Vc.getSize(w,[k,O],[f,g],[s,c]),S=A.w,P=A.h,T={left:50,top:100,rotation:0},E={left:ml(pl(b,0))+(a.scrolledX||0),top:ml(pl(x,0))+(a.scrolledY||0),right:m.width-p-gl(b,0)+ml(pl(b,0)),bottom:m.height-gl(x,0)+ml(pl(x,0))},L={x:e.left-S/2,y:e.top-P-y,maxw:s+Tl,maxh:c+Tl};if(i&&!a.scrolledX&&!a.scrolledY){var z=e.top-P-y,D=e.left+S+y,R=e.left-S-y,j=e.top+P+y;C=C||(z>E.top?ks:D<E.right?ws:R>E.left?bs:j<E.bottom?Cs:null),C==ks?(d(ks),T.rotation=0,T.top=100):C==ws?(L.x=e.left+y,d(ws),T.rotation=90,T.left=0):C==bs?(L.x=e.left-y-S,d(bs),T.rotation=-90,T.left=100):C==Cs&&(d(Cs),L.y=e.top+y,T.rotation=180,T.top=0)}return L.hookPosition=T,L},Fc.fixed=function(e,t,a){t.selectAll("#tooltipcontent").styles({width:null,height:null,"max-width":null,"max-height":null}),t.style("border-width",0);var r,n=t.node(),i=n.offsetWidth,l=n.offsetHeight,o=a.canvasarea,s=e.dTop||0,c=e.dLeft||0,d=a.systemConf.tooltip,u=(d.fixed||{}).orient,h=d.borderTop||0,f=dc(d.borderWidth,1),g=Lt(f),p=g.top,m=g.right,v=g.bottom,y=g.left,x=o.width-y-m,b=o.height-p-v,w=Vc.getSize(d,[x,b],[i,l]),C=w.w,k=w.h,O={left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},A={x:ml(pl(c,0)),y:ml(pl(s,0))},S=ml(pl(c,0)),P=ml(pl(s,0)),T=C,E=k,L=A.y-k,z=A.x+o.width+C,D=A.x-C,R=A.y+o.height+k,j=0>=s||s>0&&o.height-s>k;return u||(L>O.top?u=ks:z<O.right&&j?u=ws:D>O.left&&j?u=bs:R<O.bottom&&(u=Cs)),u===ks?(A.y=P-k-p-v,T=x-(c>0?c:0),r="40%"):u===ws?(A.x=S+o.width,E=b-(s>0?s:0)):u===bs?(A.x=S-C-m-y,E=b-(s>0?s:0)):u===Cs?(A.y=P+o.height-(s>0?s:0),T=x-(c>0?c:0),r="40%"):(A.y=P,T=x-(c>0?c:0),r="40%"),w=Vc.getSize(d,[x,b],[T,E]),A.w=w.w+Tl,A.h=w.h-h+Tl,A.maxw=x-(c>0?c:0)+Tl,A.maxh=pl(b-(s>0?s:0),J(d.height)&&J(d.maxHeight)&&it(r)?aa(r,b):1/0)+Tl,t.style("border-width",ct(f)),A},Fc.block=function(e,t,a){var r=a.chartarea,n=a.plotarea,i=a.systemConf.tooltip,l=i.block||{},o=i.borderTop||0,s=dc(i.borderWidth,1),c=Lt(s),d=c.top,u=c.right,h=(c.bottom,c.left),f=l.vAlign||ks,g=l.hAlign,p=e.dTop||0,m=e.dLeft||0,v=r.width-h-u,y=r.height,x=Vc.getSize(i,[v,y],["100%",a.tooltip.preCalculatedHeight]),b=x.w,w=pl(x.h,aa(Vc.MAXHEIGHT_BLOCK,y)),C={x:ml(pl(m,0))-gl(m,0)+r.left,y:ml(pl(p,0))-gl(p,0),w:b+Tl,h:w-o+Tl,align:g};return g===ws?C.x+=v-b:g===xs&&(C.x+=(v-b)/2),C.y+=f===Cs?n.top+n.height+(n.bottom-w)-d-u:r.top,C};var Vc={};Vc.MAXHEIGHT_BLOCK="50%",Vc.updatePlotarea4BlockTooltip=function(e){var t=e.systemConf.tooltip,a=t.block||{},r=t.position||"relative";if(t.enabled&&"block"===r){if(J(t.height)&&!t.content){var n=Ei.events.tooltip(e.tooltip.element,e.systemConf,e);n.initialize(),e.tooltip.element.selectAll("div#tooltipcontent").html(Nc.getContentTemplate(e,Dl,Dl,!0)),e.tooltip.preCalculatedHeight=e.tooltip.element.node().clientHeight}else e.tooltip.preCalculatedHeight="20%";var i=e.plotarea;e.tooltip.blockarea=sc(i);var l=a.vAlign||ks,o=dc(t.borderWidth,1),s=Lt(o),c=s.top,d=s.right,u=s.bottom,h=s.left,f=e.chartarea,g=f.width-h-d,p=f.height,m=Vc.getSize(t,[g,p],["100%",e.tooltip.preCalculatedHeight]),v=pl(m.h,aa(Vc.MAXHEIGHT_BLOCK,p))+c+u;l===xs&&(l=ks),i.height-=v,i[l]+=v}},Vc.getSize=function(e,t,a,r){r=r||[];var n=t[0],i=t[1],l=a[0],o=a[1],s=r[0],c=r[1],d=aa(e.width,n,aa(l,n)),u=aa(e.height,i,aa(o,i)),h=aa(e.maxWidth,n,s||d),f=aa(e.maxHeight,i,c||u);return{w:pl(h,d),h:pl(f,u),maxw:h,maxh:f}},Vc.getPieColumnIndex=function(e){var t,a=rt(e.systemConf.chart.plot.plotoptions.bubblepie.dataindex,3);return e.systemConf.metadata.columns.some(function(e,r){return e.dataindex===a?(t=r,!0):void 0}),it(t)?t:e.dataset.getColumnIdx("y",0)},Vc.hasSharedSeries=function(e){return e.systemConf.tooltip.sharedSeriesInfo&&e.isAxisCategory&&!hr(e.chartTypes[0].value)};var Nc={};Nc.getContentTemplate=function(e,t,r,n){var i,l,o=e.systemConf,s=o.metadata,c=s.axes,d=s.columns,u=r||c.tooltip||d3.range(d.length),h=to(c.y),f=o.tooltip,g=aa(f.maxWidth||"40%",e.chartarea.width),p=Vc.hasSharedSeries(e),m="column"===f.view,v=[];if(t)v=t;else{if(it(o.tooltip.theme)&&$(Ei,"tooltip.getTheme"))u=e.tooltip.content;else if(p){var y=ao();e.seriesdata.forEach(function(t,a){Nc.updateSharedInfo(e,y,a)}),u=Nc.getRawSharedContent(e,y,u)}u.forEach(function(e){var t,a=val="";if(d[e]){if(h.length>1&&h.indexOf(e)>-1&&!p){if(i)return;i=!0,u.forEach(function(e){h.indexOf(e)>-1&&(a+="{{col("+e+")}}",val+="{{val("+e+")}}")})}else a="{{col("+e+")}}",val="{{val("+e+")}}";t=[a,val]}else t=e;v.push(t)})}return m?(l=v.reduce(function(e,t){var r;return r=a(t)?"<tr style='vertical-align: top;'><td style='max-width:"+.4*g+"px;'>"+t[0]+": </td><td style='max-width:"+.6*g+"px;'><b>"+t[1]+"</b></td></tr>":"<tr style='vertical-align: top;'><td style='max-width:"+g+"px;'>"+t+"</td></tr>",e+r},""),l="<table cellspacing='0' cellpadding='0' border='0' style='border-spacing: 5px;'><tbody>"+l+"</tbody></table>"):l=v.reduce(function(e,t,r){var n;return n=a(t)?t[0]+" : "+t[1]:t,e+n+(r==v.length-1?"":"<br>")},""),n&&(l=l.replace(/{{clr}}/g,"black")),l},Nc.updateSharedInfo=function(e,t,a){var r=e.dataset,n=r.getColumnIdx("clr"),i=r.getColumnIdx("y",e.seriesdata[a].yaxiscolumnorder||[0,0]),l="{{val("+(e.dataObject.pieWithAxis&&!e.dataObject.isCombinationalChart?Vc.getPieColumnIndex(e):i)+")}}";t.y_val_pattern=t.y_val_pattern||"",t.y_col_pattern=t.y_col_pattern||"",-1==t.y_val_pattern.indexOf(l)&&(t.y_val_pattern+=l,t.y_col_pattern+=e.ismultiy||J(n)?""!=t.y_col_pattern?"":"{{val(null)}}":"{{val("+n+")}}")},Nc.getRawSharedContent=function(e,t,r){var n=e.systemConf.metadata,i=n.axes,l=n.columns,o=to(i.y),s=e.dataset,c=[],d="",u=e.dataObject.pieWithAxis&&!e.dataObject.isCombinationalChart?Vc.getPieColumnIndex(e):Dl,h=r.some(function(e){return rl.lastIndex=0,"string"==typeof e&&rl.test(e)}),f=function(e){var t=it(u)?u:e;return(a(d)?d:[d]).some(function(e){return"string"==typeof e&&(-1!=e.indexOf("{{val("+t+")}}")||-1!=e.indexOf("{{per("+t+")}}"))})},g=e.isAxisCategory;if(h)r.forEach(function(t){it(l[t])&&(t=["{{col("+t+")}}","{{val("+t+")}}"]),d=t,(a(t)||"string"==typeof t)&&o.some(f)&&g?e.seriesdata.forEach(function(){c.push(a(t)?q(t):t)}):c.push(t)});else{var p="{{val("+s.getColumnIdx("x")+")}}",m=t.y_val_pattern,v="{{clr}}",y=t.y_col_pattern,x=p,b=["<div style='margin-right:0.2em;display:inline-block;vertical-align:middle;border-radius: 50%;padding:0.4em;background:"+v+"''></div>"+y,m];c.push(x),e.dataObject.pieWithAxis&&!e.dataObject.isCombinationalChart&&(c.push(["{{col("+s.getColumnIdx("y",0)+")}}","{{val("+s.getColumnIdx("y",0)+")}}"]),c.push(["{{col("+s.getColumnIdx("z")+")}}","{{val("+s.getColumnIdx("z")+")}}"])),g?e.seriesdata.forEach(function(){c.push(q(b))}):c.push(q(b))}return c};var Yc=function(e){this.chartObj=e.chartObj,this.config=e.config;var t=this.container=zt(e.container,"g",this.config.enabled?[1]:[],".","class","tooltip");t.style("pointer-events",El).style("display",El),this.boundBoxEle=zt(t,Zo,[1]),this.textEle=zt(t,Uo,[1]),this.styleText(),this.styleBoundBox()};Yc.prototype.show=function(e,t){qt(this.container),this.container.styles({opacity:Dl,display:Dl}),this.updateTextContent(e),this.positionTooltip(t),this.drawBoundBox()},Yc.prototype.hide=function(e){this.container.transition().duration(e?0:250).style("opacity",0).on("end",function(){Hl(this).style("display",El)})},Yc.prototype.styleText=function(){var e=this.textEle,t=this.config.orient,a=this.chartObj.systemConf,r=t===ks||t===Cs;Ht(e,[this.config,a.chart,a.canvas,qs]),e.attrs({"text-anchor":r?"middle":t===bs?"start":"end",dy:r?t===ks?"0.9em":"-0.3em":"0.3em"})},Yc.prototype.styleBoundBox=function(){var e=this.config;this.boundBoxEle.styles({fill:e.backgroundColor,stroke:e.borderColor,"stroke-width":e.borderWidth})},Yc.prototype.updateTextContent=function(e){this.textEle.text(e)},Yc.prototype.positionTooltip=function(e){e&&this.container.attr("transform","translate("+e[0]+","+e[1]+")")},Yc.prototype.drawBoundBox=function(){var e=this.textEle.nodes(),t=this.config,a=t.padding,r=this.chartObj.dataObject.getTransRectValue("radius",null,null,null,null,t.borderRadius||0),n=0;this.boundBoxEle.attr("d",function(){var t=U(e[n++]);return ti(t.x-a,t.y-a,t.width,t.height,r,a,ks,{},0)})};var _c=function(e){this.chartObj=e.chartObj,this.config=e.config,this.container=e.container,this.type=e.type,this.isHorizontal=e.isHorizontal,this.bound=e.bound;var t=this.config.globalShadow!==cl?this.config.globalShadow:this.config.shadow;t&&(this.filter=this.getFilter(t))};_c.prototype.draw=function(){var e=this.chartObj,t=this.config,a=this.container,r=this.filter,n=this.type;switch(n){case"line":a.append(Zo).attr("d",F("vertical-line")(t.height)).styles({stroke:t.strokeColor,"stroke-width":t.strokeWidth});break;case"triangleUp":a.append(Zo).attr("d",F("triangle-down")(t.size)).styles({fill:t.fillColor,stroke:t.strokeColor,"stroke-width":t.strokeWidth});break;case"triangleDown":a.append(Zo).attr("d",F("triangle-up")(t.size)).styles({fill:t.fillColor,stroke:t.strokeColor,"stroke-width":t.strokeWidth});break;case"triangleUpDown":var i=t.padding/2;a.append(Zo).attr("d",F("triangle-down")(t.size)).attr("transform","translate("+(this.isHorizontal?[0,-i]:[-i,0])+")").styles({fill:t.fillColor,stroke:t.strokeColor,"stroke-width":t.strokeWidth}),a.append(Zo).attr("d",F("triangle-up")(t.size)).attr("transform","translate("+(this.isHorizontal?[0,i]:[i,0])+")").styles({fill:t.fillColor,stroke:t.strokeColor,"stroke-width":t.strokeWidth});break;case"box":var l=t.strokeWidth,o=t.width,s=t.height;a.append(Zo).attr("d",Mt(-(o-l)/2,-(s-l)/2,o-l,s-l,e.dataObject.getTransRectValue("radius"))).styles({stroke:t.strokeColor,"stroke-width":t.strokeWidth,fill:t.fillColor});break;case"enlarge":var l=t.strokeWidth,c=t.range||1,o=t.width*c,s=t.height*c;a.append(Zo).attr("d",Mt(-o/2,-s/2,o,s,e.dataObject.getTransRectValue("radius"))).styles({fill:t.fillColor});break;case"lever":var d=e.dataObject.getTransRectValue("radius",Dl,Dl,Dl,Dl,t.radius);a.append(Zo).attrs({d:Mt(-t.width/2,-t.height/2,t.width,t.height,d),filter:r}).styles({fill:t.fillColor,stroke:t.strokeColor}),a.append(Zo).attr("d","M"+-t.stripePadding/2+" "+-t.stripeHeight/2+" L"+-t.stripePadding/2+" "+t.stripeHeight/2+" M"+t.stripePadding/2+" "+-t.stripeHeight/2+" L"+t.stripePadding/2+" "+t.stripeHeight/2).styles({stroke:t.stripeColor});break;case"hollowCircle":a.append(Zo).attrs({d:F()(t.size),filter:r}).styles({fill:t.outerFillColor,stroke:t.outerStrokeColor}),a.append(Zo).attr("d",F()(.4*t.size)).styles({fill:t.innerFillColor,stroke:t.outerStrokeColor});break;case"circle":a.append(Zo).attrs({d:F()(t.size),filter:r}).styles({fill:t.outerFillColor,stroke:t.outerStrokeColor,"stroke-width":t.outerStrokeWidth}),a.append(Zo).attr("d",F()(.3*t.size)).styles({fill:t.innerFillColor,stroke:t.outerStrokeColor});break;case"vernier":var u=a.nodes(),h=Hl(u[0]),f=Hl(u[1]),o=t.width,s=t.height,g="M"+.5*-o+" "+.5*-s+" L"+.5*o+" "+.5*-s+" L"+.5*o+" "+.5*s+" L"+.5*-o+" "+.2*s+" Z",p="M"+.5*-o+" "+.5*-s+" L"+.5*o+" "+.5*-s+" L"+.5*o+" "+.2*s+" L"+.5*-o+" "+.5*s+" Z";h.append(Zo).attr("d",g),f.append(Zo).attr("d",p),a.selectAll(Zo).attr("filter",r).styles({fill:t.fillColor,stroke:t.strokeColor});break;case"pentagon":var m=t.size,v=t.bandWidth,s=t.height,y="M"+(.5*-m-v)+" "+(.5*-s-v)+" L"+(.5*m+v)+" "+(.5*-s-v)+" L"+(.5*m+v)+" "+.5*s+"L0 "+(.5*s+1.5*v+2)+" L"+(.5*-m-v)+" "+.5*s+"ZM"+.5*-m+" "+.5*-s+" L"+.5*m+" "+.5*-s+" L"+.5*m+" "+(.5*s-.5*v)+"L0 "+(.5*s+.5*v)+" L"+.5*-m+" "+(.5*s-.5*v)+"Z",x="M"+.5*-m+" "+.5*-s+" L"+.5*m+" "+.5*-s+" L"+.5*m+" "+.5*s+" L"+.5*-m+" "+.5*s+"Z";a.append(Zo).attr("d",x),a.append(Zo).attrs({d:y,filter:r}).styles({"fill-rule":"evenodd",fill:t.fillColor,stroke:t.strokeColor})}},_c.prototype.getPosition=function(){var e=this.config,t=this.type,a=this.isHorizontal,r=this.bound,n=r[0],i=r[1],l=[0,0],o=a?1:0,s=a?i:n;switch(t){case"lever":case"vernier":case"pentagon":case"hollowCircle":case"circle":case"box":case"enlarge":case"triangleUpDown":case"line":l[o]=s/2;break;case"triangleUp":l[o]=-e.size/2;break;case"triangleDown":l[o]=s+e.size/2}return l},_c.prototype.getFilter=function(e){var t=e.split(" "),a={dx:parseFloat(t[0]),dy:parseFloat(t[1]),color:t[3],blur:parseFloat(t[2]),x:"-50%",y:"-50%",width:"200%",height:"200%"},r=Js.get(rc,"dropShadow",a);return r="url("+this.chartObj.defsLocation+"#"+r+")"},Ji.bar=function(){function e(d){return d.each(function(d){var u=Hl(this);e.update=function(){u.transition().call(e)};var h=t.params,f=h.chartObj,g=h.xscale,p=h.stacked,m=h.datasetIndex,v=h.axisrotated,y=h.commonPlotOptions,x=h.color,b=h.labelQueue,w=h.hasNegValue,C=h.yaxiscolumnorder,k=h.dataset,A=f.systemConf,S=(f.plotarea,f.dataObject),P=(h.threshold,h.colorOverlay,A.chart.axes.yaxis[h.yaxiscolumnorder||0].reversed),T=f.systemConf.chart.axes.xaxis.reversed;i=h.yscale;var E=d[m],L=f.defsLocation,z=E.plotoptions,D=E.data,R=f.chartTypes[m].name,j=Ei.utils.getValueOfPlotOptions(z,y),M=lc.getDimension(f,m),I=f.patternPallete&&f.patternPallete.length,H=f.dataObject.noofBarEnabledSeries,B="bullet"==R,F="gantt"==R,V="waterfall"==R,N=f.dataset.getDataType("y",C),Y=g.domain(),_=N==_o?i.domain():null,W=(it(S.hierarchical)?S.getCategories("x"):Y,zt(u,"g",[E],".","class","barseries_"+m));if(!r||!n)return c=!0,void(e.chartRendered=!0);var X,U=z&&z.levelMarker?oc(y.levelMarker,z.levelMarker,!0):y.levelMarker,G=z&&z.border?oc(y.border,z.border,!0):y.border,Z=ya(y,f),Q=Xt(y,z,f,"bar"),K=Q.enabled,$=Q.easingType,J=Q.type,tt=K?100:0;s=c?K?300:0:Q.duration;var at=Ka(f.rendererConf[m],m),rt=at.barWidth,nt=(at.levelMarkerWidth,at.padding,at.levelMarkerPadding,at.addRangeBand),lt=f.userdata.seriesdata.stackGroup,ot=lt?Ja(m,lt):0;e.getParamValue=function(){return f.dataObject.getTransRectValue.apply(f.dataObject,et(arguments))};var ct,dt,ut;if(U&&(ut=U.color,U.overlayRange="below"),B||F){var ht=F?"marker":"targetMarker";ct=z&&z[ht]?oc(y[ht],z[ht],!0):y[ht],dt=zt(f.staticPaneSVG.selectAll("g.threshold"),"g",ct.enabled!==!0||E.disabled?[]:[m],".","class",F?"markerSeries"+m:"markerSeries")}var ft={tlx:0,tly:0,trx:0,trY:0,brx:0,bry:0,blx:0,bly:0},gt=ft,pt=0,mt=null,vt=null,yt=ft;it(G)&&st(G.show)&&(pt=G.size,mt=G.color,vt=G.style,gt=e.getParamValue("radius",null,null,null,at,G.radius));var xt=O(vt,null==pt?2:pt),bt=e.fillColorFunc=da(f,m,M),wt=ua(f,m);
e.seriesdataAfterUpdate=[],D.forEach(function(t,d){function b(t,a,r,n,l){switch(t){case"x":return v?i(a.y0):e.getParamValue("x",a,r,n,l);case"y":return v?e.getParamValue("y",a,r,n,l):i(a.y0);case"width":return v?1:rt;case"height":return v?rt:1}}function O(e){var t=k.getX(e);return D=p?r(t):r(t)+n(l+d),R=i.bandwidth?i.origRange[0]:v?p?null!=w?i(w):i.range()[0]:null!=w?i(w):i.range()[0]:p?null!=w?i(w):i.range()[0]:null!=w?i(w):null!=i(0)?pl(i(0),i.range()[0]):i.range()[0],R=V?i(e.y0):R,M=v?0:rt,N=v?rt:0,{x:D,y:R,width:M,height:N}}function A(t,a){return G=e.getParamValue("x",t,d,a,at),Q=e.getParamValue("y",t,d,a,at),K=e.getParamValue("width",t,d,a,at),et=e.getParamValue("height",t,d,a,at),{x:G,y:Q,width:K,height:et}}e.getGanttLevelMarkerProp=Ln;var D,R,M,N,G,Q,K,et,st=E.disabled,ht=f.dataObject.updateSeriesdatabyCategories(q(t),Y,_,C,!0);T&&(ht=ht.slice(0).reverse()),e.seriesdataAfterUpdate[d]=ht;var vt;if(null!=o){vt=q(t);for(var Ct=o.count,kt=0;Ct>=kt;kt++)vt.splice(kt,0,[null,null]);if(c){var Ot=g(k.getX(t[0])),At={name:"rect",id:f.id,x:Ot,y:0,width:f.plotarea.width,height:f.plotarea.height},St={chartObj:f},Pt=Js.get(ic,"rect",At,St);W.attr("clip-path","url("+L+"#"+Pt+")")}}var Tt=null!=o?vt:e.seriesdataAfterUpdate[d];X=J==ns||c?s:s/(Tt.length*H);var Et=U&&U.enabled===!0&&(p&&H>0||!st)&&!f.dataObject.isStackedPercentChart&&(lt?f.dataObject.groupedByStack.has(ot):!0),Lt=(p?u:W).selectAll(p?"g.levelMarkerSeries_"+ot:"g.subseries_levelMarker_"+d).data(function(e){return Et?[e]:[]});(p?W:u).selectAll(p?"g.subseries_levelMarker_"+d:"g.levelMarkerSeries_"+ot).remove(),Lt.exit().selectAll("path.levelMarker").transition().duration(tt).attr("d",function(t,a){if(F){var r=Hl(this).attr("d"),n=Vt(r),l=n[0].moves[0],o=n[3].moves[1],s=Ln(t,d,a,e,at),c=s.x||l,u=s.y+(v?0:s.height*(P?-1:1))||o,h=v?0:s.width,f=v?s.height:0;return Mt(c,u,h,f,gt,P,v)}var c=e.getParamValue("x",t,d,a,at)||Vt(Hl(this).attr("d"))[0].moves[0],u=i(i.domain()[0]),h=v?0:e.getParamValue("width",t,d,a,at),f=v?e.getParamValue("height",t,d,a,at):0;return Mt(c,u,h,f,gt,P,v)}).remove();var Dt=W.selectAll("g.subseries_"+d).data(function(e){return st?[]:[e]});Dt.exit().selectAll("path.zcbar").transition().duration(tt).attr("d",function(t,a){var r=Hl(this).attr("d"),n=Vt(r),l=n[0].moves[0],o=n[3].moves[1],s=e.getParamValue("x",t,d,a,at)||l,c=(v?e.getParamValue("y",t,d,a,at):F?e.getParamValue("y",t,d,a,at,null,0):(p?i(t.y0):null!=w?i(w):null!=i(0)?pl(i(0),i.range()[0]):i.range()[0])+2*nt())||o,u=v?0:e.getParamValue("width",t,d,a,at),h=v?e.getParamValue("height",t,d,a,at):0;return Mt(s,c,u,h,gt,P,v)}).remove();var Rt=Dt.enter().append("g").merge(Dt).attr("class","subseries_"+d);if(V){var jt=zt(p?u:W,"g",p||!st?[1]:[],".","class","connectorLines",null);sn(jt,Tt,{chart:f,yaxiscolumnorder:C,axisrotated:v,stacked:p,xscale:g,yscale:i,renderer:e,seriesindex:d,plotoptions:z,commonPlotOptions:y});var It=zt(p?u:W,"g",p||!st?[1]:[],".","class","comparisonLines",null);hn(It,Tt,{chart:f,yaxiscolumnorder:C,axisrotated:v,stacked:p,xscale:g,yscale:i,renderer:e,seriesindex:d,plotoptions:z,commonPlotOptions:y})}var Ht=F?Lt.enter().append("g").merge(Lt):Lt.enter().insert("g",":first-child").merge(Lt);Ht.attr("class",p?"levelMarkerSeries_"+ot:"subseries_levelMarker_"+d),Et&&p&&Y.length!=Tt.length&&$a(Tt,Y,k,C);var Bt=Ht.selectAll("path.levelMarker").data(Tt,function(e){return F?e:k.getX(e)}),Ft=Bt.enter().append("path").merge(Bt).attr("class","levelMarker");Ft.styles({fill:function(t,r){if(F)return U.color||(Z?f.seriesColor[r%f.seriesColor.length]:x);var n=Z?f.seriesColor[r%f.seriesColor.length]:x,i=a(U.color)?U.color[0]:U.color;if(I){var l=F?Ln(t,d,r,e,at):Zc(t,U,f,at,h,d,m),o=l.x,s=l.y,c=l.width,u=l.height;i=bt(Z?r:m,null,null,i,null,null,{x:o,y:s,width:c,height:u})}return kn(t,U,f,n,ut)||i||n},"fill-opacity":U?U.fillOpacity:null,opacity:function(e){if(it(S.hierarchical)&&it(f.cache.hierarchical)){var t=f.cache.hierarchical;if(t.active)return e.active===!0?1:.1}}}).attr("d",function(t,a){var r=F?Ln(t,d,a,e,at):Zc(t,U,f,at,h,d,m),n=r.x,i=r.y,l=r.width,o=r.height;return F?Mt(n,i,l,o,yt,P,v):v?Mt(i,n,l,o,gt,P,v):Mt(n,i,l,o,gt,P,v)}).attr("level",function(e){return it(S.hierarchical)?e.level:void 0}),U&&(U.color=ut),Bt.exit().remove(),B?(zn(dt,Tt,e,d,ct,Z,""),Ti.call(f,ct,e,Tt)):F&&(zn(dt,Tt,e,d,ct.start,Z,0),zn(dt,Tt,e,d,ct.end,Z,1));{var Nt=Rt.selectAll("path.zcbar").attr("class","zcbar").data(Tt,function(e){return F?e:k.getX(e)}),Yt=Nt.enter().append("path").style("fill-opacity",j("fillOpacity")).attrs({"class":"zcbar",height:0,d:function(e){var t=O(e);return d3.select(this).attr("y",t.y),v?Mt(t.y,t.x,t.width,t.height,ft,P,v):Mt(t.x,t.y,t.width,t.height,ft,P,v)}}).merge(Nt);Yt.attrs({stroke:function(e,t){return wt(Z?t:m,e,mt)},"stroke-width":pt,"stroke-dasharray":xt,level:function(e){return it(S.hierarchical)?e.level:void 0}}).styles({fill:function(t,a){return I?bt(Z?a:m,t,null,null,null,null,{x:e.getParamValue("x",t,d,a,at),y:e.getParamValue("y",t,d,a,at),width:e.getParamValue("width",t,d,a,at),height:e.getParamValue("height",t,d,a,at)}):bt(Z?a:m,t)},opacity:function(e){if(it(S.hierarchical)&&it(f.cache.hierarchical)){var t=f.cache.hierarchical;if(t.active)return e.active===!0?1:.1}},"fill-opacity":j("fillOpacity"),transition:"opacity ease 0.2s"})}if(null==o?Yt.transition().duration(c?X:0).delay(function(e,t){return J==ns||c?0:(t*H+m)*X}).attr("d",function(t,a){var r=Hl(this),n=parseFloat(r.attr("height"));return G=v&&!F?parseFloat(r.attr("y")):e.getParamValue("x",t,d,a,at),Q=v?e.getParamValue("y",t,d,a,at):F&&!n?e.getParamValue("y",t,d,a,at,null,0):parseFloat(r.attr("y")),K=v?parseFloat(r.attr("height")):e.getParamValue("width",t,d,a,at),et=v?e.getParamValue("height",t,d,a,at):n,Mt(G,Q,K,et,gt,P,v)}).on("end",function(e,t){Hl(this).transition().delay(function(){return J==ns||c?0:(t*H+m)*X}).duration(X).ease($).attr("d",function(e){var a=A(e,t);return Mt(a.x,a.y,a.width,a.height,gt,P,v)})}).attrs({y:function(t,a){var r=v?"x":"y";return e.getParamValue(r,t,d,a,at)},height:function(t,a){var r=v?"width":"height";return e.getParamValue(r,t,d,a,at)}}):Yt.transition().duration(c?X:0).attrs({d:function(e,t){var a=A(e,t);return Mt(a.x,a.y,a.width,a.height,gt,P,v)},y:function(t,a){var r=v?"x":"y";return e.getParamValue(r,t,d,a,at)},height:function(t,a){var r=v?"width":"height";return e.getParamValue(r,t,d,a,at)}}),Nt.exit().transition().duration(X).remove(),d>0&&p){var _t=zt(W,"g",st?[]:[1],".","class","subdividerseries_"+d),Wt=_t.selectAll("rect").data(Tt,function(e){return k.getX(e)}),Xt=Wt.enter().append("rect").merge(Wt).styles({fill:"white",opacity:.7,"shape-rendering":"crispedges"}).attrs({width:b("width"),height:b("height"),x:function(e,t){return b("x",e,d,t,at)},y:function(e,t){return b("y",e,d,t,at)}});Xt.transition().duration(X).ease($).styles({fill:"white",opacity:.7,"shape-rendering":"crispedges"}).attrs({width:b("width"),height:b("height"),x:function(e,t){return b("x",e,d,t,at)},y:function(e,t){return b("y",e,d,t,at)}}),Xt.exit().remove()}F&&On(e,Tt,W,d),e.getMarkerPosition=Dn}),b.push({renderer:e,charttype:"bar",chartObj:f,args:[E,m]})}),e.renderedTimer=setTimeout(function(){c=!0,e.chartRendered=!0},2*s+10),e}var t,r,n,i,l,o,s,c=!1;return e.commonRendererProp=function(a){return arguments.length?(t=a,e):t},e.bandwidth1=function(t){return arguments.length?(r=t,e):r},e.bandwidth2=function(t){return arguments.length?(n=t,e):n},e.barDatasetIndex=function(t){return arguments.length?(l=t,e):l},e.shiftInfo=function(t){return arguments.length?(o=t,e):o},e},Ji.line=function(){function e(j){return j.each(function(S){var j=r.params;C=j.chartObj,n=j.xscale,i=j.yscale,v=j.stacked,l=j.datasetIndex,s=j.axisrotated,x=j.commonPlotOptions,d=j.color,y=j.labelQueue,w=j.hasNegValue,c=j.yaxiscolumnorder,o=j.dataset,b=C.systemConf;var M=C.defsLocation,I=S[l],H=I.plotoptions,B=I.data,F=C.chartTypes[l],N=F.name,_=F.value,X=Ei.DataProcessor.helpers,U=Ei.utils.getValueOfPlotOptions(H,x),G=(_!=Ei.charttype.line,"arearange"==N),Z=C.dataObject.isPolarAxisCategory,Q=lc.getDimension(C,l),K=C.canvasarea,$=U("mode"),J=U("dashStyle"),et=rt(U("strokeWidth"),2),tt=U("strokeOpacity"),at=ua(C,l,Q),nt=hc.isQuantileColorScale(C),lt=Ks.IE||Ks.SAFARI||"stepBefore"==$||"stepAfter"==$||"step-before"==$||"step-after"==$||j.thresholdType||nt,ot=H&&H.marker?oc(x.marker,H.marker,!0):x.marker,st=Xt(x,H,C,N),ct=st.enabled,dt=st.easingType;E=st.duration,L=st.type,L=L==ls?is:L;var ut=H&&H.animation&&H.animation.blink?oc(x.animation.blink,H.animation.blink,!0):x.animation.blink,ht=nt||($t(C,"marker")&&Kt(C,"marker",pl(K.width,K.height))?ot.enabled:!1),ft=A(U("lineCap"),J);f=O(J,et);var gt=H&&H.animation&&H.animation.marquee?oc(x.animation.marquee,H.animation.marquee,!0):x.animation.marquee;g=gt.enabled,p=gt.duration;var pt=C.dataset.getDataType("x"),mt=C.dataset.getDataType("y",c),vt=pt==_o?n.domain():null,yt=mt==_o?i.domain():null,xt=pt!=_o||it(C.dataObject.hierarchical)?C.dataObject.getCategories("x"):vt,bt=b.chart.axes.yaxis[c].reversed;pt!=_o&&0==xt.length&&ct&&L==ds&&(xt=C.dataObject.findXCategories()),e.seriesdataAfterUpdate=[],B.forEach(function(t,a){var r;r=pt==_o||mt==_o?C.dataObject.updateSeriesdatabyCategories(q(t),vt,yt,c):t,e.seriesdataAfterUpdate[a]=r,z[a]=Kr(j,r,P,T)});var wt=Hl(this);e.update=function(){wt.transition().call(e)},u=zt(wt,"g",[I],".","class","lineseries_"+l),G&&(u=zt(u,"g",[I],".","class","rangePos_"+T));var Ct,kt=Z?{inner:.32,outer:.56}:{inner:.4,outer:.7};if(ht&&!lt&&(ot.color=I.color||C.seriesColor[l%C.seriesColor.length],Ct=W(ot,"marker")+W(ut,"blink"),m=V(u,Ct,ot,{color:ot.color,symbolSize:kt,strokeWidth:et}),delete ot.color),ht&&!lt&&ut.enabled&&Y(m.selectAll(".outer,.inner"),ut),ht&&lt?(D.commonRendererProp(r).shiftInfo(P).yrangePos(T),D.chartRendered=!1,wt.call(D)):wt.selectAll("g.scatterseries_"+l).remove(),B.forEach(function(r,g){function p(){var e=bo(z[g](D),z[g](A));return function(t){return e(t)}}var m=I.disabled;if(C.brush&&C.brush.extent){var y=C.axes.x.scale.domain(),x=(C.axes.x.ticks.tickValueObj.ticks,pt==Wo?y[0].getTime():pt==_o?xt.indexOf(y[0]):y[0]),b=pt==Wo?y[1].getTime():pt==_o?xt.indexOf(y[y.length-1]):y[1],O=pt==_o?function(e){return xt.indexOf(C.dataset.getX(e))}:function(e){return C.dataset.getX(e)};e.seriesdataAfterUpdate[g]=X.filterDataToViewPort(e.seriesdataAfterUpdate[g],x,b,O)}var A=e.seriesdataAfterUpdate[g];C.systemConf.chart.axes.xaxis.reversed&&(A=A.slice(0).reverse());var S,D=A,H=zt(u,"g",function(e){return m?[]:[e]},".","class","subseries_"+g);if(h=H.selectAll("path.line").data(function(e){return m?[]:[e]}),ct&&L!=cs){if(L==ds)D=null!=k?k.map(function(){return Object.create(k[0])}):A.map(function(){return Object.create(A[0])});else{var B=L==ss?o.xidx:o.yidx(c),F=L==ss?n:i,V=Z&&bt&&!v?F.domain().length-1:0;D=A.map(function(e){var t=Object.create(e);if(v&&L!=ss)t.y0=0,t.y=Z||null==w||null==F(w)?F.domain()[0]:gl(w,F.domain()[0]);else if(G&&L==is){var a=new Array(2),r=C.dataset.getY(e,c,0);a[0]=r,a[1]=null==t[B]?null:null!=w&&null!=F(w)?gl(w,r):r,t[B]=a}else t[B]=null==t[B]?null:Z||null==w||null==F(w)?F.domain()[V]:gl(w,F.domain()[0]);return t})}S=q(D)}if(null!=P&&R){var N=n(A[0][0])+(null!=n.bandwidth?n.bandwidth()/2:0),Y=C.dataObject.getXYvalue(s,v,n,i,c,A[A.length-1],"x",null,T)-C.dataObject.getXYvalue(s,v,n,i,c,A[0],"x",null,T),_={name:"rect",id:C.id,x:N,y:0,width:Y,height:C.plotarea.height},W={chartObj:C},Q=Js.get(ic,"rect",_,W);u.attr("clip-path","url("+M+"#"+Q+")")}var K=h.enter().append("path").attr("class","line").datum(D,function(e){return o.getX(e)}).attr("d",z[g]).style("stroke",I.color||d).style("fill",El).style("stroke-width",et).style("stroke-opacity",null==tt||""===tt?1:tt);ct&&(L==us||L==ds?Ut(D,S,A,xt,L,dt,E,j,function(e){return{d:z[g](e)}},K):L==cs?t(K,dt,E):K.transition().duration(E).ease(dt).attrTween("d",p));var $=(K.merge(h).datum(A,function(e){return o.getX(e)}).attrs({id:"line_"+l,"stroke-dasharray":f}).styles({"stroke-linecap":ft,"stroke-width":et,"stroke-opacity":rt(tt,1),fill:El,stroke:at(l,Dl,U("strokeColor")||d,Dl,tt,g)}),A);if(null!=P){var J=null!=P?Math.abs(C.dataObject.getXYvalue(s,v,e.oldXscale,i,c,A[0],"x",null,T)-C.dataObject.getXYvalue(s,v,n,i,c,A[0],"x",null,T)):null;h.datum($).attr("d",z[g]).transition().duration(E).ease(dt).attr("transform",function(){return null==J?null:"translate(-"+J+",0)"}),a(h)}else null==K.node()&&(h.datum($).attr("transform",null).transition().duration(E).ease(dt).attr("d",z[g]),a(h));var nt=ht&&!lt?"url("+M+"#"+Ct+")":null;K.attrs({"marker-end":nt,"marker-start":nt,"marker-mid":nt}),K.exit().remove()}),!lt||!ht){var Ot=ht?(ot.size||et)*kt.outer*10+et/2:0;y.push({renderer:e,charttype:"scatter",chartObj:C,args:[I,l,Ot,T]})}}),e.renderedTimer=setTimeout(function(){g&&S(u.selectAll("#line_"+l),p,f,e),e.chartRendered=!0,R=!0},R?2*E+20:E+20),e.oldXscale=n,e}function t(e,t,r){e.styles({"stroke-dasharray":function(){return this.getTotalLength()+" "+this.getTotalLength()},"stroke-dashoffset":function(){return this.getTotalLength()}}).transition().duration(r).ease(t).style("stroke-dashoffset",0).on("end",function(){a(Hl(this))})}function a(e){e.styles({"stroke-dasharray":f,"stroke-dashoffset":null})}var r,n,i,l,o,s,c,d,u,h,f,g,p,m,v,y,x,b,w,C,k,P,T,E,L,z=[],D=Ji.scatter(),R=!1;return e.commonRendererProp=function(t){return arguments.length?(r=t,e):r},e.shiftInfo=function(t){return arguments.length?(P=t,e):P},e.yrangePos=function(t){return arguments.length?(T=t,e):T},e},Ji.area=function(){function e(k){return k.each(function(k){var O=a.params;h=O.chartObj,r=O.xscale,n=O.yscale,v=O.stacked,m=O.datasetIndex,y=O.axisrotated,c=O.commonPlotOptions,o=O.color,s=O.labelQueue,u=O.hasNegValue,l=O.yaxiscolumnorder,i=O.dataset,d=h.systemConf;var A=h.defsLocation,S=h.dataObject.isPolarAxisCategory,P=k[m],T=P.plotoptions,E=P.data,L=h.chartTypes[m].name,z=Ei.utils.getValueOfPlotOptions(T,c),D=z("fillOpacity"),R=z("strokeWidth"),j=z("strokeColor"),M=hc.isQuantileColorScale(h),I=M||(it(T)?Ei.utils.getValueOfPlotOptions(T.marker,c.marker)("enabled"):c.marker.enabled),H=null!=R&&""!=R&&0!=t(R)||null!=j&&""!=j||I,B=Xt(c,T,h,L),F=B.enabled,V=B.easingType,N=B.type;f=B.duration,N=N==ls?is:N;var Y=h.dataset.getDataType("x"),_=h.dataset.getDataType("y",l),W=Y==_o?r.domain():null,X=_==_o?n.domain():null,U=Y!=_o||it(h.dataObject.hierarchical)?h.dataObject.getCategories("x"):W,G=d.chart.axes.yaxis[l].reversed;Y!=_o&&0==U.length&&F&&N==ds&&(U=h.dataObject.findXCategories());var Z="arearange"==L,Q=Z?1:null;e.seriesdataAfterUpdate=[],E.forEach(function(t,a){var i;if(i=Y==_o||_==_o?h.dataObject.updateSeriesdatabyCategories(q(t),W,X,l):t,h.brush&&h.brush.extent){var o=h.axes.x.scale.domain(),s=h.axes.x.ticks.tickValueObj.ticks,c=Y==Wo?s[0].getTime():Y==_o?U.indexOf(o[0]):o[0],d=Y==Wo?o[1].getTime():Y==_o?U.indexOf(o[o.length-1]):o[1],u=Y==_o?function(e){return U.indexOf(h.dataset.getX(e))}:function(e){return h.dataset.getX(e)};i=C.filterDataToViewPort(i,c,d,u)}e.seriesdataAfterUpdate[a]=i,h.systemConf.chart.axes.xaxis.reversed&&(i=i.slice(0).reverse()),p=null!=g?null==p||0==p?h.dataObject.getXYvalue(y,v,r,n,l,i[i.length-1],"x")-h.dataObject.getXYvalue(y,v,r,n,l,i[i.length-2],"x"):p:0,w[a]=$r(O,p,g,i,a)});var K=Hl(this);e.update=function(){K.transition().call(e)};var $;if(S?($=K.selectAll("g.areaseries_"+m).data([P]),$.enter().insert("g",":first-child").merge($).attr("class","areaseries_"+m),$=K.selectAll("g.areaseries_"+m)):$=zt(K,"g",[P],".","class","areaseries_"+m),H||I){if(b.commonRendererProp(a).shiftInfo(g),b.chartRendered=!1,Z){b.yrangePos(1);var J=Ji.line().commonRendererProp(a).shiftInfo(g).yrangePos(0);J.chartRendered=!1,K.call(J)}K.call(b)}else K.selectAll("g.lineseries_"+m+",g.scatterseries_"+m).remove();E.forEach(function(t,a){function s(){var e=bo(w[a](p),w[a](d));return function(t){return e(t)}}var c,d=e.seriesdataAfterUpdate[a],p=d;if(F){if(N==ds)p=d.map(function(){return Object.create(d[0])});else{var b=N==ss?i.xidx:i.yidx(l),C=N==ss?r:n,k=S&&G&&!v?C.domain().length-1:0;p=d.map(function(e){var t=Object.create(e);if(v&&N!=ss)t.y0=S&&N===cs?pl(0,C.domain()[0]):0,t.y=S||null==u||null==C(u)?C.domain()[0]:gl(u,C.domain()[0]);else if(Z&&N==is){var a=new Array(2),r=h.dataset.getY(e,l,0);a[0]=r,a[1]=null==t[b]?null:null!=u&&null!=C(u)?gl(u,r):r,t[b]=a}else t[b]=null==t[b]?null:S||null==u||null==C(u)?C.domain()[k]:gl(u,C.domain()[0]);return t})}c=q(p)}var T=P.disabled,E=zt($,"g",function(e){return T?[]:[e]},".","class","subseries_"+a),L=E.selectAll("path.area").data(function(e){return T?[]:[e]}),z=L.enter().append("path").datum(p,function(e){return i.getX(e)}).attr("class","area").style("opacity",D).style("fill",o).attr("d",w[a]);F&&(N==us||N==ds?Ut(p,c,d,U,N,V,f,O,function(e){return{d:w[a](e)}},z):null!=z.node()&&N==cs?z.transition().duration(0).delay(f).attr("d",function(e){return w[a](e)}):z.transition().duration(f).ease(V).attrTween("d",s));var R=lc.getDimension(h,m),j=e.fillColorFunc=da(h,m,R);if(null!=g&&x){var M=r(d[0][0])+(null!=r.bandwidth?r.bandwidth()/2:0),I=h.dataObject.getXYvalue(y,v,r,n,l,d[d.length-1],"x")-h.dataObject.getXYvalue(y,v,r,n,l,d[0],"x"),H={name:"rect",id:h.id,x:M,y:0,width:I,height:h.plotarea.height},B={chartObj:h},Y=Js.get(ic,"rect",H,B);$.attr("clip-path","url("+A+"#"+Y+")")}var _=d,W=z.merge(L).datum(d,function(e){return i.getX(e)}).styles({opacity:D,fill:j(m,null,null,o,Dl,Dl,Dl,Dl,a)});if(null!=g){var X=null!=g?Math.abs(h.dataObject.getXYvalue(y,v,e.oldXscale,n,l,d[0],"x",null,Q)-h.dataObject.getXYvalue(y,v,r,n,l,d[0],"x",null,Q)):null;L.datum(_).attr("d",w[a]).attr("transform",null).transition().duration(f).ease(V).attr("transform",function(){return null==X?null:"translate(-"+X+",0)"})}else null!=z.node()&&N==cs?W.datum(_).style("fill-opacity",0).transition().duration(0).delay(f).attr("d",w[a]).style("fill-opacity",null):W.datum(_).style("fill-opacity",null).transition().delay(N!=us&&N!=ds||null==z.node()?0:f).duration(f).ease(V).attr("d",w[a]);L.exit().remove()}),H||I||(Z?(s.push({renderer:e,charttype:"scatter",chartObj:h,args:[P,m,0,1]}),s.push({renderer:e,charttype:"scatter",chartObj:h,args:[P,m,0,0]})):s.push({renderer:e,charttype:"scatter",chartObj:h,args:[P,m,0]}))}),e.renderedTimer=setTimeout(function(){e.chartRendered=!0,x=!0},f),e.oldXscale=r,e}var a,r,n,i,l,o,s,c,d,u,h,f,g,p,m=0,v=!1,y=!1,x=!1,b=Ji.line(),w=[],C=Ei.DataProcessor.helpers;return e.commonRendererProp=function(t){return arguments.length?(a=t,e):a},e.shiftInfo=function(t){return arguments.length?(g=t,e):g},e},Ji.scatter=function(){function e(p){return p.each(function(p){var b=m.params;t=b.chartObj,a=b.xscale,r=b.yscale,o=b.stacked,n=b.datasetIndex,c=b.axisrotated,u=b.commonPlotOptions,l=b.color,d=b.labelQueue,f=b.hasNegValue,i=b.yaxiscolumnorder,s=b.dataset,h=t.systemConf;var w=t.defsLocation,C=h.chart.axes.xaxis.reversed,k=h.chart.axes.yaxis[i].reversed,S=Hl(this);e.update=function(){S.transition().call(e)};var P=p[n],T=P.plotoptions,E=t.chartTypes[n].value,L=t.chartTypes[n].name,z=E==Ei.charttype.bubble,D=or(E),R=t.dataObject.isPolarAxisCategory,j=P.data,M=zt(S,"g",[P],".","class","scatterseries_"+n);"arearange"===L&&(M=zt(M,"g",[P],".","class","rangePos_"+v));var I=Xt(u,T,t,L),H=I.enabled,B=I.easingType,V=I.type;g=I.duration;var N=T&&T.marker?oc(u.marker,T.marker,!0):u.marker,_=N.symbol,W=N.size,X=N.imageUrl;D?(W=rt(W,1),V=V==qo?Jo:V):(J(W)&&(W=(T?Ei.utils.getValueOfPlotOptions(T,u)("strokeWidth"):u.strokeWidth)||2),X||(W*=R?.56:.7),V=V==is||V==ls?ns:V,V=V==ss?os:V,l=P.color||l);var U=F(_,W),G=D?ya(u,t):!1,Z=10*W,Q=V==Jo?0:N.outerFillOpacity,K=V==Jo?0:N.outerStrokeOpacity,$=V==Jo?0:N.innerFillOpacity,et=V==Jo?0:N.innerStrokeOpacity,tt={name:N.imageUrl},at=O(N.outerDashStyle,N.outerStrokeWidth),nt=O(N.innerDashStyle,N.innerStrokeWidth),lt=A(N.outerLineCap,N.outerDashStyle),ot=A(N.innerLineCap,N.innerDashStyle),st=hc.isQuantileColorScale(t),ct=st&&N.enabled===!1?"hidden":Dl,dt=e.fillColorFunc=da(t,n,null,D?null:!0),ut=ua(t,n);e.seriesdataAfterUpdate=[];var ht=t.dataset.getDataType("x"),ft=t.dataset.getDataType("y",i),gt=x.isCatNull(s,"x"),pt=x.isCatNull(s,"y",i),mt=ht==_o?a.domain():null,vt=ft==_o?r.domain():null,yt=ht!=_o||null==a.domain||it(t.dataObject.hierarchical)?t.dataObject.getCategories("x"):mt;if(j.forEach(function(d,h){function p(e){switch(V){case ns:var n=null!=f&&null!=r(f)?r(gl(f,r.domain()[0])):r.origRange[0];return c?n:t.dataObject.getXYvalue(c,o,a,r,i,e,"x",null,v);case os:var n=(null!=f&&null!=a(f)?a(gl(f,a.domain()[0])):a.origRange[0])+(null!=a.bandwidth?a.bandwidth()/2:0);return c?t.dataObject.getXYvalue(c,o,a,r,i,e,"x",null,v):n;case Jo:case es:case ts:case ds:case us:case cs:return t.dataObject.getXYvalue(c,o,a,r,i,e,"x",null,v);default:var l=(c?r:a).origRange,s=c&&k||!c&&C?l.length-1:0;return l[s]}}function m(e){switch(V){case ns:var n=null!=f&&null!=r(f)?r(gl(f,r.domain()[0])):r.origRange[0];return c?t.dataObject.getXYvalue(c,o,a,r,i,e,"y",null,v):n;case os:var l=(null!=f&&null!=a(f)?a(gl(f,a.domain()[0])):a.origRange[0])+(null!=a.bandwidth?a.bandwidth()/2:0);return c?l:t.dataObject.getXYvalue(c,o,a,r,i,e,"y",null,v);case Jo:case es:case ts:case ds:case us:case cs:return t.dataObject.getXYvalue(c,o,a,r,i,e,"y",null,v);default:var s=(c?a:r).origRange,d=c&&C||!c&&k?s.length-1:0;return s[d]}}function O(e){return(!R||e&&!e.isDummy)&&(R||E===Ei.charttype.stkdarea||!gt(s.getX(e))&&!pt(s.getY(e,i)))?z?t.dataObject.getXYvalue(c,o,a,r,i,e,"z",t.zscale,v):Z:0}function A(e){var t=O(e);return t>0&&("line"==_||"vertical-line"==_)?"line"==_?{width:t,height:bt||1}:"vertical-line"==_?{height:bt||1,width:t}:void 0:null}var S;if(S=ht==_o||ft==_o?t.dataObject.updateSeriesdatabyCategories(q(d),mt,vt,i):d,t.brush&&t.brush.extent){var L=t.axes.x.scale.domain(),j=(t.axes.x.ticks.tickValueObj.ticks,ht==Wo?L[0].getTime():ht==_o?yt.indexOf(L[0]):L[0]),I=ht==Wo?L[1].getTime():ht==_o?yt.indexOf(L[L.length-1]):L[1],F=ht==_o?function(e){return yt.indexOf(t.dataset.getX(e))}:function(e){return t.dataset.getX(e)};S=x.filterDataToViewPort(S,j,I,F)}e.seriesdataAfterUpdate[h]=S;var W,J,rt,st=P.disabled;if(V==us||V==ds){if(W=S,C&&(W=W.slice(0).reverse()),J=W,V==ds)J=W.map(function(){return Object.create(W[0])});else if(V==us){var xt=R&&k&&!o?r.domain().length-1:0;J=W.map(function(e){var t=Object.create(e),a=R||null==f||null==r(f)?r.domain()[xt]:gl(f,r.domain()[0]);return o&&(t.y0=0,t.y=a),t[s.yidx(i)]=a,t})}rt=q(J)}var wt=zt(M,"g",function(){return st?[]:[S]},".","class","subseries_"+h),Ct=function(e){return e},kt=wt.selectAll("g.scatter").data(Ct).attr("class","scatter"),Ot=kt.enter().append("g").attr("class","scatter"),At=Ot.size(),St=V!=fs?g:g/At,Pt=function(e,a){return(!R||e&&!e.isDummy)&&(R||E===Ei.charttype.stkdarea||e&&!e.isDummy&&!gt(s.getX(e))&&!pt(s.getY(e,i)))?[{color:G?t.seriesColor[a%t.seriesColor.length]:l,index:G?a:n,data:e}]:[]};H&&(V==us||V==ds?Ut(J,rt,W,yt,V,B,g,b,function(e){return{transform:function(t,a){return"translate("+p(e[a])+","+m(e[a])+")"}}},Ot,"scatter"):Ot.attr("transform",function(e){return"translate("+p(e)+","+m(e)+")"+(X&&V===es?" scale(0)":"")}).transition().delay(function(e,t){return V==fs?t*St:0}).duration(St).ease(B).attr("transform",function(e){return"translate("+t.dataObject.getXYvalue(c,o,a,r,i,e,"x",null,v)+","+t.dataObject.getXYvalue(c,o,a,r,i,e,"y",null,v)+")"}));var Tt=Ot.merge(kt),Et=zt(Tt,"path",Pt,".","class","outer");Et.styles({"fill-opacity":Q,"stroke-opacity":K,visibility:ct});var Lt=zt(Tt,"path",X?[]:Pt,".","class","inner");Lt.styles({"fill-opacity":$,"stroke-opacity":et,visibility:ct}),y&&X&&Tt.attr("transform",function(e){var t=Hl(this).attr("transform"),a=Hl(this).attr("size"),r=O(e);return t+" scale("+a/r+")"}),Tt.transition().delay(function(e,t){return V!=us&&V!=ds||null==Ot.node()?V==fs?t*St:0:g}).duration(St).ease(B).attr("transform",function(e){return"translate("+t.dataObject.getXYvalue(c,o,a,r,i,e,"x",null,v)+","+t.dataObject.getXYvalue(c,o,a,r,i,e,"y",null,v)+")"}).attr("level",function(e){return it(t.dataObject.hierarchical)?e.level:void 0}).styles({transition:"opacity ease .2s",opacity:function(e){if(it(t.dataObject.hierarchical)&&it(t.cache.hierarchical)){var a=t.cache.hierarchical;if(a.active)return e.active===!0?1:.1}}});var Dt=V===ts?2*g/5:St,Rt=V===ts?function(){return Al()*(3*g/5)}:0,jt=Tt.selectAll("path.outer").attr("d",function(e){var t=Hl(this.parentNode).attr("size"),a=O(e.data),r=null!=t?X?a:t:V!=es&&V!==ts||X?a:0;return U(r)}).styles({"stroke-width":N.outerStrokeWidth,fill:function(e){var t=O(e.data);if(X)return tt.width=tt.height=parseFloat(t),tt.x=tt.y=-parseFloat(t)/2,"url("+w+"#"+Js.get(tc,"imageFill",tt)+")";var a=t/2;return dt(e.index,e.data,null,N.outerFillColor,null,D?[a,a]:null)},stroke:function(e){return ut(e.index,e.data,N.outerStrokeColor)},"stroke-dasharray":at,"stroke-linecap":lt}),Mt=Tt.selectAll("path.inner").attr("d",function(e){var t=Hl(this.parentNode).attr("size"),a=null!=t?t:V!=es&&V!==ts||X?O(e.data):0;return U(a/2)}).styles({"stroke-width":N.innerStrokeWidth,fill:function(e){var t=O(e.data)/4;return dt(e.index,e.data,null,N.innerFillColor,null,D?[t,t]:null)},stroke:function(e){return ut(e.index,e.data,N.innerStrokeColor)},"stroke-dasharray":nt,"stroke-linecap":ot});jt.transition().delay(Rt).duration(Dt).ease(B).attr("d",function(e){return U(O(e.data))}).styles({"fill-opacity":N.outerFillOpacity,"stroke-opacity":N.outerStrokeOpacity}),Mt.transition().delay(Rt).duration(Dt).ease(B).attr("d",function(e){return U(O(e.data)/2)}).styles({"fill-opacity":N.innerFillOpacity,"stroke-opacity":N.innerStrokeOpacity});var It=(T&&T.animation&&T.animation.blink?oc(u.animation.blink,T.animation.blink,!0):u.animation.blink)||{},Ht=It.enabled;Ht&&Y(kt.selectAll(".outer,.inner"),It),Tt.attr("size",function(e){return O(e)}),kt.exit().remove(),e.getSymbolSize=O,e.getSymbolBBox=A}),null!=Ei.labelRenderer){var xt;if(D||z)xt=Z+N.outerStrokeWidth;else{var bt=rt(Ei.utils.getValueOfPlotOptions(T,u)("strokeWidth"),2);xt=(N.size||bt)*Z*.5+bt/2}d.push({renderer:e,charttype:"scatter",chartObj:t,args:[P,n,xt,v]})}e.renderedTimer=setTimeout(function(){y=!0,e.chartRendered=!0},g)}),e}var t,a,r,n,i,l,o,s,c,d,u,h,f,g,p,m,v,y=!1,x=Ei.DataProcessor.helpers;return e.commonRendererProp=function(t){return arguments.length?(m=t,e):m},e.shiftInfo=function(t){return arguments.length?(p=t,e):p},e.yrangePos=function(t){return arguments.length?(v=t,e):v},e},Ji.pie=function(){function e(t){return t.each(function(t){function s(t,a){var r=Tr(d3.event);return{renderer:e,seriesPos:0,subseriesPos:0,itemPos:a,color:P[a%P.length],coordinates:[r.pageX,r.pageY],element:this,data:t}}var c=C.params;k=c.chartObj,M=c.commonPlotOptions,P=c.color,H=c.notesArray,I=k.systemConf;var d=c.labelQueue,u=c.yaxiscolumnorder,h=c.dataset,f=c.datasetIndex||0,U=k.defsLocation,et=k.seriesdata[f],at=M.maxRadius+" _ "+M.outerPadding+" _ "+M.innerRadius,nt=k.chartTypes[f].name;B=nt===Ns;var lt=nt===Vs,ot=!B&&!lt;q=ot?rt(M.dataindex,3):h.yidx(u),Q=Z||(B?k.plotarea_approx:k.plotarea),z=Q.width,L=Q.height,O=rt(Q.radius,pl(z,L)/2),m=!1;var st,ct=et.plotoptions,dt=M.datalabels,ut=Ei.utils.getValueOfPlotOptions(ct,M),ht=rt(ut("maxRadius"),250),ft=M.levelMarker,gt=lt?+ut("outerPadding"):0,pt=ut("strokeWidth");w=void 0!==M.baseValue?M.baseValue:0;var mt=ui(dt,k),vt=mt?+(dt.padding||0)+(qn(dt,k)?2*(Kn(dt,k)+$n(dt,k)):0):0,yt={},xt=0;if(v=qn(dt,k),gt+=lt?vt:0,F=pl(ht,O-gt),lt&&mt){var bt=z*K,wt=z-2*F;bt>wt&&(vt=yt.padding=5,xt=gl(bt-wt,0),F-=xt/2)}if(A=la(M,F),pt=rt(pt,1),B&&ft.enabled){var Ct,kt;if(it(M.bandWidth)||it(M.maxBandWidth)){var Ot=rt(M.maxBandWidth,F),At=pl(aa(M.bandWidth,F,F-A),Ot);Ct=-(F-A-At)/2,kt=-(F-A-At)/2,st=0===At?"hidden":null}else Ct=pl(0,aa(ft.innerPadding,O,0)),kt=pl(0,aa(ft.outerPadding,O,0));F+=kt,A-=Ct}F-=.5*pt,V=gl(A,F),W=(ct&&ct.models?oc(M.models,ct.models,!0):M.models)||{};var St=Xt(M,ct,k,nt),Pt=St.enabled,Tt=Pt?tt?200:St.duration:0,Et=tt?_l:St.easingType,Lt=St.type,Dt=0==rt(rr(ct,M,k,"enabled"),!0),Rt=Dt?null:rr(ct,M,k,"cursor")||zl;T=Hl(this),E=zt(T,"g",[t],".","class","piegroup"),E.styles({"stroke-width":pt,"fill-opacity":ut("fillOpacity"),"stroke-opacity":M.strokeOpacity,cursor:Rt,visibility:st}),$.startAngle(M.startAngle).endAngle(M.endAngle).value(function(e){return e.disabled?0:ml(e[q]||0)});var jt=$(t=ot?t:et.data[0]);e.data=jt,Y=jt.reduce(function(e,t){return e+(t.value?1:0)},0),e.total=S=jt.reduce(function(e,t){return e+t.value},0),e.arc=J;var Mt=!0;if(Mt)J.outerRadius(V).innerRadius(A);else{var It=aa(ft.interPadding,V,10),Ht=t.length,Bt=(V-A-(Ht-1)*It)/Ht;J.innerRadius(function(e,t){return t*(Bt+It)+A}).outerRadius(function(e,t){return(t+1)*Bt+t*It+A}).startAngle(M.startAngle).endAngle(function(e){return e.endAngle})}j=go().innerRadius(V).outerRadius(V+vt);var Ft=go().innerRadius(V).outerRadius(V);N=pt;var Vt=o(E),Nt=(Vt.height+pt)/F,Yt=(Vt.width+pt)/F,_t=F+pl((z-2*gt-xt-(Vt.width+pt))/Yt,(L-2*gt-xt-(Vt.height+pt))/Nt);if(_t=pl(ht,gl(F,_t)),B){at+=" _ "+M.bandWidth+" _ "+ft.bandWidth+" _ "+ft.innerPadding+" _ "+ft.outerPadding;var Wt=k.axes.y.groups[0].scale,Ut=Wt.domain();jt.forEach(function(e){var t=e.data[q];p=g,(g=0>t)?(e.startAngle=Wt(null!=w?Math.min(w,Ut[1]):Ut[1]),e.endAngle=Wt(Math.max(t,Ut[0]))):(e.startAngle=Wt(null!=w?Math.max(w,Ut[0]):Ut[0]),e.endAngle=Wt(Math.min(e.value,Ut[1])))})}else _t!=F&&(F=_t,A=la(M,F),V=gl(A,F),J.outerRadius(V).innerRadius(A),j=go().innerRadius(V).outerRadius(V+vt),Ft=go().innerRadius(V).outerRadius(V),o(E));var Gt=!B&&W.type?"url("+U+"#"+r(a())+")":null,Zt=[V,V],Qt=e.fillColorFunc=da(k,f,Zt),qt=ua(k,0);if(_=2*aa(ut("sliceOutHeight"),F,0),R=E.selectAll(Zo).data(),D=zt(E,Zo,jt),D.attrs({"clip-path":Gt,id:function(e,t){return"arc_"+t}}).styles({display:"block",fill:function(e,t){return Qt(t,e.data)},stroke:function(e,t){return qt(t,e.data,M.strokeColor)}}),br(k,D,Dt),!Dt){var Kt=function(e,t){var a=s(e,t);k.eventHandler.mouseMove(a)},$t=function(t,a){k.eventHandler.mouseOut(e,t,a)},Jt=function(t,a){var r=s(t,a);k.eventHandler.click(e,t,0,a,r)},ea=function(e,t){var a=Ei.annotation?In(e.data,null):e.data,r=j.centroid(e);r=[r[0]+X,r[1]+G];var n={coordinate:r,data:a,basedOn:"plot"};k.eventHandler.doubleclick(e,t,n)},ta={target:"plot",touchleave:!0,chartObj:k},ra={mousemove:Kt,mouseout:$t,click:Jt,dblclick:ea},na={singletouchmove:Kt,touchend:$t,tap:Jt,dbltap:ea};Sr(D,ra,na,ta)}if(/(\D)+onebyone/.test(Lt)&&!tt){var ia=Lt==gs,oa=ia?Tt:Tt/Y,sa=0;D.transition().ease(Et).duration(function(e){return ia?oa*(e.value/S):oa}).delay(function(e){var t=oa*sa;return sa+=ia?e.value/S:1,t}).call(ia?i:n)}else{var ca;ca=tt?at!=y?n:l:Lt==ps?l:Lt==ys?n:i,D.transition().duration(Tt).ease(Et).call(ca).on("end",function(e){var t=e.data.disabled||e.startAngle===e.endAngle;Hl(this).style("display",t?El:"block")})}e.renderedTimer=setTimeout(function(){if(y=at,x=A,b=V,B)k.renderer[0].endFunctions();else if(D.style("display",function(e){return e.data.disabled||!e.value?El:null}),Ei.labelRenderer&&!ot){var t=[X,G],a=[E.datum(),0,jt,V,S,j,Ft,J,t,yt];d.push({renderer:e,charttype:Vs,chartObj:k,args:a}),d.push({renderer:e,charttype:"pieInnerLabels",chartObj:k,args:a})}Ei.annotation&&!ot&&(H=Ei.annotation.preprocessAnnotations(k.seriesdata,0,function(e,t,a){var r=j.centroid(jt[a]);return[r[0]+X,r[1]+G]},H,k,c)),e.chartRendered=!0,tt=!0},Tt+1e3/60)}),e}function t(e){for(var t=[],a=[],r=0,n=0;e>n;n++)"gear1"==W.type?a.push([r++,0],[r++,1],[r++,1]):a.push([r,0],[r++,1],[r,1],[r++,0]);return t.push(a),t}function a(){var e=-1,a=W.count,r="zigzag"==W.type?-50+A/5:"sun"==W.type?-1:-10,n=t(a),i=Ul().range([0,2*Sl]).domain([0,"gear1"==W.type?3*a:2*a]),l=Ul().range([A,V]).domain([r,1]),o=uo().curve(Wl("linearClosed")).radius(function(e){return l(e[1])}).angle(function(t,a){return e="gear"==W.type?a%2==0?e+1:e:"gear1"!=W.type&&a%2!=0?e+1:e,i("gear1"==W.type?e++:e)});return o(n[0])}function r(e){var t={name:"pieModels",id:k.id,d:e},a={chartObj:k},r=Js.get(ic,"polygon",t,a);return r}function n(e){Jr(e,J,[tt?x:A,A],[tt?b:A,V])}function i(e){e.attrTween("d",function(e){var t=bo(e.startAngle,e.endAngle);return function(a){return e.endAngle=t(a),J(e)}})}function l(e){e.attrTween("d",function(e,t){var a,r,n=R[t]||R[R.length-1];
g?(a=tt&&n&&p?n.endAngle:e.startAngle,r=tt&&n&&p?n.startAngle:e.startAngle):(a=tt&&n&&!p?n.endAngle:B?e.startAngle:M.startAngle,r=tt&&n&&!p?R[t]?n.startAngle:n.endAngle:B?e.startAngle:M.startAngle);var i=bo(a,e.endAngle),l=bo(r,e.startAngle);return function(a){return e.endAngle=i(a)||0,e.startAngle=l(a)||0,J(e,t)}})}function o(t){var a=[];a[q]=1;var r=T.append(Zo).attr("d",J($([a])[0],e.data.length-1)).styles({fill:El,stroke:El}),n=U(r.node());r.remove();var i=ta(n,z,L,F,N);return X=B?Q.x:i[0],G=B?Q.y:i[1],t.attr("transform",function(){return"translate("+X+","+G+")"}),n}function s(){c=c||k.staticPaneSVG.selectAll("g."+dd+"_0"),d=d||k.staticPaneSVG.selectAll("g.link_0"),u=u||k.staticPaneSVG.selectAll("g.label_0"),f=f||k.staticPaneSVG.selectAll("g.boundboxseries_0"),h=h||k.staticPaneSVG.selectAll("g.innerboundboxseries_0"),m=!0}var c,d,u,h,f,g,p,m,v,y,x,b,w,C,k,O,A,S,P,T,E,L,z,D,R,j,M,I,H,B,F,V,N,Y,_,W,X,G,Z,Q,q,K=.3,$=mo().sort(null),J=go(),et=function(e){return Jt(_,(e.startAngle+e.endAngle)/2)},tt=!1;return e.commonRendererProp=function(t){return arguments.length?(C=t,e):C},e.plotarea=function(t){return arguments.length?(Z=t,e):Z||Q},e.innerRadius=function(t){return arguments.length?(A=t,e):A},e.defaultMouseOverFunc=function(t,a,r){if(1!=Y){m||s();var n=et(t),i={transform:"translate("+n[0]+","+n[1]+")"};D.transition().ease(_l).attr("transform","translate(0,0)"),E.selectAll("#arc_"+r).transition().ease(_l).attrs(i),c.selectAll("#innerlbl0_0_"+r).transition().ease(_l).attrs(i),v||d.selectAll("#link0_0_"+r).style("stroke-width",3*e.lineStrokeWidth),"circular"==e.showlabel&&(u.selectAll("#lbl0_0_"+r).transition().ease(_l).attrs(i),f.selectAll("#boundboxlbl0_0_"+r).transition().ease(_l).attrs(i)),u.selectAll("#lbl0_0_"+r).style("text-shadow","0 0 0 rgba(0,0,0,1)"),h.selectAll("#boundboxinnerlbl0_0_"+r).transition().ease(_l).attrs(i)}},e.defaultMouseOutFunc=function(t,a,r){m||s();var n={transform:"translate(0,0)"};return u.selectAll(Uo).style("text-shadow",null),v||d.selectAll(Zo).style("stroke-width",e.lineStrokeWidth),!Ac&&r?(D.attrs(n),c.selectAll(Uo).attrs(n),h.selectAll(Zo).attrs(n),void("circular"==e.showlabel&&(u.selectAll(Uo).attrs(n),f.selectAll(Zo).attrs(n)))):(D.transition().ease(_l).attrs(n),c.selectAll(Uo).transition().ease(_l).attrs(n),"circular"==e.showlabel&&(u.selectAll(Uo).transition().ease(_l).attrs(n),f.selectAll(Zo).transition().ease(_l).attrs(n)),void h.selectAll(Zo).transition().ease(_l).attrs(n))},e},Ji.funnel=function(){function e(i){i.each(function(i){function o(){e.renderedTimer=setTimeout(function(){var t=a(p);if(Ei.labelRenderer){var r=[g.seriesdata,0,p,m,z+2+q,O,dt,t];V.push({renderer:e,charttype:Ys,chartObj:g,args:r}),V.push({renderer:e,charttype:"funnelInnerLabels",chartObj:g,args:r})}Ei.annotation&&(G=Ei.annotation.preprocessAnnotations(g.seriesdata,0,function(e,t,a){return[A[A.length-1-a].bottomLeft[0]+(k/2-dt.width/2),A[A.length-1-a].bottomLeft[1]+(z+2+q)]},G,g,lt)),ft=!0,e.chartRendered=!0},bt?ft?Ct:300:0)}function h(e){e._groups[0].reverse(),e.data(p)}function F(t,a){var r=Tr(d3.event);return{renderer:e,seriesPos:0,subseriesPos:0,itemPos:a,color:P[a%P.length],coordinates:[r.pageX,r.pageY],element:this,data:t}}lt=f.params,g=lt.chartObj,X=lt.commonPlotOptions,P=lt.color,G=lt.notesArray,_=lt.yaxiscolumnorder,C=lt.dataset,U=g.systemConf;var V=lt.labelQueue;nt=g.defsLocation,k=g.plotarea.width,S=g.plotarea.height,ot=!1,W=i[0].plotoptions;var tt=Ei.utils.getValueOfPlotOptions(W,X);$=U.legend.imagePallete||nr(g),dt.canOverlap=tt("canOverlap"),Q=tt("split"),L=tt("threeDimension");var ut=X.emptyFunnel;Z=X.datalabels.padding;var pt=ui(X.datalabels,g),mt=ua(g,0);j=dc(X.minPadding,L?4:1),M=dc(X.maxPadding,10);var vt=Xt(X,W,g,Ys),yt=vt.type,xt=vt.easingType,bt=vt.enabled,wt=vt.duration,Ct=bt?200:0;q=aa(tt("outerPadding"),S,0)/2,x=tt("stemHeight"),b=tt("stemWidth"),et="width"===tt("weighted"),at=tt("weighted")===El,et&&(x=b=0,Q=!0),p=i=i[0].data[0],m=p.reduce(function(e,t){return e+(C.getY(t,_)&&!t.disabled?1:0)},0),y=m-1;var kt=s();dt.height=S-2*kt-.01*S-2*q;var Ot=tt("coneWidth");if(Ot=aa(Ot,dt.height,.95*dt.height),dt.width=pl(k,Ot),R=c(dt.height),dt.gapHeight=!bt||Q||ft?R:yt==os?R:0,(et||at)&&it(X.maxSliceHeight)&&(dt.height-=gl(0,dt.height-R*y-aa(X.maxSliceHeight,dt.height)*m)),pt){var At=k*ct,St=k-dt.width;At>St&&(Z=dt.datalabelPadding=5,dt.width-=gl(At-St,0))}x=aa(x,dt.height,.2*dt.height),w=b=aa(b,dt.width,x*dt.width/dt.height)/2,v=dt.height-x,z=.05*dt.height,z=gl(ht,(z-p.length)/p.length),D=z=L?dt.canOverlap?z+M/2:R/2-gt:0,e.total=O=p.reduce(function(e,t,a){return e+(p[a].disabled?0:ml(C.getY(p[a],_)||0))},0),J=gl.apply(null,p.map(function(e,t){return p[t].disabled?0:ml(C.getY(p[t],_))/O})),Y=Ul().domain(et?[0,J]:[x,dt.height]).range([dt.width/2-b,0]),N=Ul().domain(et?[0,J]:[x,dt.height]).range([dt.width/2+b,dt.width]),A=t(p),K=[dt.width,dt.height],st=e.fillColorFunc=da(g,0,K);var Pt=0==rt(rr(W,X,g,"enabled"),!0),Tt=Pt?null:rr(W,X,g,"cursor")||zl,Et=Hl(this);if(I=zt(Et,"g",[i],".","class","funnelgroup"),I.attr("transform","translate("+(k/2-dt.width/2)+","+(z+2+q)+")").styles({cursor:Tt,"stroke-opacity":tt("strokeOpacity"),"stroke-width":tt("strokeWidth")}),H=zt(I,"g",[1],".","class","ellipsegroup"),B=zt(I,"g",[1],".","class","trapezoidgroup"),T=zt(B,Zo,p),h(T),T.attr("id",function(e,t){return"funnel"+t}).styles({"fill-opacity":X.fillOpacity,fill:function(e,t){return st(t,e)},stroke:function(e,t){return mt(t,e,X.strokeColor)}}),E=zt(H,Zo,L?p:[]),h(E),E.attr("id",function(e,t){return"ellipse"+t}).styles({"fill-opacity":X.fillOpacity,fill:function(e,t){return st(t,e,.5)},stroke:function(e,t){return mt(t,e,X.strokeColor,.5)}}),br(g,T,Pt),br(g,E,Pt),!Pt){var Lt=function(e,t){var a=F(e,t);g.eventHandler.mouseMove(a)},Dt=function(t,a){g.eventHandler.mouseOut(e,t,a)},Rt=function(t,a){var r=F(t,a);g.eventHandler.click(e,t,0,a,r)},jt=function(e,t){var a=Ei.annotation?In(e,null):e,r=A[i.length-1-t].bottomLeft;r=[r[0]+(k/2-dt.width/2),r[1]+(z+2+q)];var n={coordinate:r,data:a,basedOn:"plot"};g.eventHandler.doubleclick(e,i.length-1-t,n)},Mt={target:"plot",touchleave:!0,chartObj:g},It={mousemove:Lt,mouseout:Dt,click:Rt,dblclick:jt},Ht={singletouchmove:Lt,touchend:Dt,tap:Rt,dbltap:jt};Sr(T,It,Ht,Mt),Sr(E,It,Ht,Mt)}var Bt=dt.canOverlap?2*b/dt.width*z:z+gt,Ft="M0,0L"+(dt.width/2-b)+","+v+"L"+(dt.width/2-b)+","+dt.height+"A"+b+","+Bt+",0,0,0,"+(dt.width/2+b)+","+dt.height+"L"+(dt.width/2+b)+","+v+"L"+dt.width+",0A"+dt.width/2+","+z+",0,0,0,0,0A"+dt.width/2+","+z+",0,0,0,"+dt.width+",0",Vt=zt(I,Zo,!ft&&ut.show&&bt?[1]:[],"#","id","emptyFunnel");if(Vt.attr("d",Ft).styles({stroke:ut.color||"grey",fill:El}),r(Ft),ft)T.transition().duration(Ct).ease(_l).attr("d",function(e,t){return d(A[p.length-1-t])}),E.transition().duration(Ct).ease(_l).attr("d",function(e,t){return u(A[p.length-1-t])}),l(i,Ct),o();else{l(i,0);var Nt=0,Yt=0;T.transition().duration(function(e){var t=C.getY(e,_);return yt==rs?e.disabled||!t?0:et||at?wt/m:ml(t)/O*wt:wt}).delay(function(e){var t=C.getY(e,_);Nt+=e.disabled||!t?0:et||at?wt/m:ml(t);var a=yt==rs?et||at?wt-Nt:(O-Nt)/O*wt:0;return a||0}).ease(xt).attrTween("d",function(e,t){return n(e,p.length-1-t,"funnel",yt)}).on("end",function(){Yt++}),Nt=0,E.transition().duration(function(e){var t=C.getY(e,_);return yt==rs?e.disabled||!t?0:et||at?wt/m:ml(t)/O*wt:wt}).delay(function(e){var t=C.getY(e,_);Nt+=e.disabled||!t?0:et||at?wt/m:ml(t);var a=yt==rs?et||at?wt-Nt:(O-Nt)/O*wt:0;return a||0}).ease(xt).attrTween("d",function(e,t){return n(e,p.length-1-t,"ellipse",yt)});var _t=setInterval(function(){Yt==p.length&&(yt!=os&&(dt.gapHeight=R,A=t(p),T.transition().duration(bt?250:0).delay(50).ease(_l).attr("d",function(e,t){return d(A[p.length-1-t])}),E.transition().duration(bt?250:0).delay(50).ease(_l).attr("d",function(e,t){return u(A[p.length-1-t])})),o(),I.selectAll(Zo+"#emptyFunnel").transition().duration(50).delay(310).style("stroke-opacity",0).remove(),clearInterval(_t))},10)}})}function t(e){var t=0,a=dt.height,r=0,n=0;return A=[],w=b,e.forEach(function(i,l){var o=e[e.length-1-l],s=C.getY(o,_),c=o.disabled;n=O?(c?0:et||at?s?1/m:0:ml(s)/O)*(dt.height-(m-1)*dt.gapHeight):0,n=n||0,t+=c?0:s,n=r+n;var d=s/O;d=d||0;var u={};t!=O||0!=s&&!c?et?(u.bottomLeft=[Y(d),dt.height-n],u.topLeft=[Y(d),a],u.middleLeft=[Y(d),dt.height-n],u.bottomRight=[N(d),dt.height-n],u.topRight=[N(d),a],u.middleRight=[N(d),dt.height-n]):(u.bottomLeft=[dt.height-n>=v?dt.width/2-b:Y(n),dt.height-n],u.topLeft=[a>=v?dt.width/2-b:Y(r),a],u.middleLeft=[a>=v?dt.width/2-b:u.bottomLeft[0],a>=v&&dt.height-n<=v?v:dt.height-n],u.bottomRight=[dt.height-n>=v?dt.width/2+b:N(n),dt.height-n],u.topRight=[a>=v?dt.width/2+b:N(r),a],u.middleRight=[a>=v?dt.width/2+b:u.bottomRight[0],a>=v&&dt.height-n<=v?v:dt.height-n]):(u.topLeft=u.bottomLeft=u.middleLeft=[Y(et?J:dt.height),0],u.topRight=u.bottomRight=u.middleRight=[N(et?J:dt.height),0]),A.push(u),a=!s||c?dt.height-n:dt.height-n-dt.gapHeight,r=!s||c?n:n+dt.gapHeight}),A}function a(e){var t=[],a=dt.height,r=0,n=0;return e.forEach(function(i,l){var o=e[e.length-1-l],s=C.getY(o,_),c=o.disabled;n=(c?0:et||at?s?1/m:0:ml(s)/O)*(dt.height-(m-1)*dt.gapHeight)/2,n=n||0;var d=n;n=r+n;var u=s/O;u=u||0;var h=et?Y(u):dt.height-n>=v?dt.width/2-b:Y(n),f=et?N(u):dt.height-n>=v?dt.width/2+b:N(n);t.push({rightx:f+Z,leftx:h-Z,y:ml(dt.height-n),y0:ml(dt.height-n+d)}),n+=d,a=!s||c?dt.height-n:dt.height-n-dt.gapHeight,r=!s||c?n:n+dt.gapHeight}),t}function r(e){var t;if(et)t=null;else{var a={name:"FunnelClipPath",id:g.id,d:e},r={chartObj:g};t=Js.get(ic,"polygon",a,r)}I.attr("clip-path",t?"url("+nt+"#"+t+")":null)}function n(e,t,a,r){var n=i(r,t),l=A[t],o="funnel"==a?bo(d(n),d(l)):bo(u(n),u(l));return function(e){return o(e)}}function i(e,t){var a=sc(A[e==ns?0:t]);return e===os?a.topLeft[0]=a.middleLeft[0]=a.bottomLeft[0]=a.topRight[0]=a.middleRight[0]=a.bottomRight[0]=dt.width/2:(a.middleLeft=a.bottomLeft=a.topLeft,a.middleRight=a.bottomRight=a.topRight),a}function l(e,t){E.each(function(a,r){var n=e[r].disabled||!C.getY(p[r],_),i=n?t:0;i?setTimeout(function(){o(r,n)},i):o(r,n)})}function o(e,t){var a=t?El:null;H.selectAll("#ellipse"+e).style("display",a),B.selectAll("#funnel"+e).style("display",a)}function s(){var e=S-2*q,t=.05*e,a=c(e);return t=(t-p.length)/p.length,t=gl(ht,t),t=L?dt.canOverlap?t+M/2:a/2-gt:0}function c(e){var t=X.padding;if(it(t))return tt(t,e,y,g);var a=e*ut;return pl(M,gl(j,a/y))}function d(e){var t=(e.topRight[0]-e.topLeft[0])/2,a=(e.bottomRight[0]-e.bottomLeft[0])/2,r=dt.canOverlap?2*t/dt.width*z:D,n=dt.canOverlap?2*a/dt.width*z:D;return"M"+e.topLeft[0]+" "+e.topLeft[1]+" A"+t+" "+r+" 0 0 0 "+e.topRight[0]+" "+e.topRight[1]+" L"+e.middleRight[0]+" "+e.middleRight[1]+" L"+e.bottomRight[0]+" "+e.bottomRight[1]+" A"+a+" "+n+" 0 0 1 "+e.bottomLeft[0]+" "+e.bottomLeft[1]+" L"+e.middleLeft[0]+" "+e.middleLeft[1]+"Z"}function u(e){var t=(e.bottomRight[0]-e.bottomLeft[0])/2,a=dt.canOverlap?2*t/dt.width*z+gt:D;return"M"+e.bottomLeft[0]+" "+e.bottomLeft[1]+" A"+t+" "+a+" 0 0 1 "+e.bottomRight[0]+" "+e.bottomRight[1]+" A"+t+" "+(dt.canOverlap?a:a+gt)+" 0 0 1 "+e.bottomLeft[0]+" "+e.bottomLeft[1]}function h(){V=V||g.staticPaneSVG.selectAll("g.link_0"),F=F||g.staticPaneSVG.selectAll("g.label_0"),ot=!0}var f,g,p,m,v,y,x,b,w,C,k,O,A,S,P,T,E,L,z,D,R,j,M,I,H,B,F,V,N,Y,_,W,X,U,G,Z,Q,q,K,$,J,et,at,nt,lt,ot,st,ct=.3,dt={},ut=.375,ht=1,ft=!1,gt=0;return e.commonRendererProp=function(t){return arguments.length?(f=t,e):f},e.defaultMouseOverFunc=function(e,t,a){ot||h(),$?(T.style("opacity",function(e,t){return t===a?null:.4}),E.style("opacity",function(e,t){return t===a?null:.4})):(T.style("fill",function(e,t){return st(t,e,t===a?.6:null)}),E.style("fill",function(e,t){return st(t,e,t===a?1:.5)})),F.selectAll("text").style("text-shadow",null),V.selectAll(Zo).style("stroke-width",null),F.selectAll("#lbl0_0_"+(p.length-1-a)).style("text-shadow","0 0 0 rgba(0,0,0,1)"),V.selectAll("#link0_0_"+(p.length-1-a)).style("stroke-width",1)},e.defaultMouseOutFunc=function(){ot||h(),$?(T.style("opacity",null),E.style("opacity",null)):(T.style("fill",function(e,t){return st(t,e)}),E.style("fill",function(e,t){return st(t,e,.5)})),F.selectAll("text").style("text-shadow",null),V.selectAll(Zo).style("stroke-width",null)},e},Ji.pyramid=function(){function e(a){a.each(function(a){function r(t,r){var n=Tr(d3.event);return{renderer:e,seriesPos:0,subseriesPos:0,itemPos:r,color:E[r%E.length],coordinates:[n.pageX,n.pageY],element:t,data:a[r]}}var n=d.params;z=n.chartObj,p=n.commonPlotOptions,E=n.color,v=n.notesArray,h=n.yaxiscolumnorder,u=n.dataset,m=z.systemConf;var i=n.labelQueue;x=z.defsLocation,f=z.plotarea.width,g=z.plotarea.height;var Y=pl(f,g);H=p.datalabels.padding;var _=ui(p.datalabels,z);if(_){var W=f*F,X=f-Y;W>X&&(H=V.datalabelPadding=5,Y-=gl(W-X,0))}V.width=Y,V.height=4*Y/5;var U=a[0].plotoptions,G=Ei.utils.getValueOfPlotOptions(U,p);y=m.legend.imagePallete||nr(z);var Z=G("strokeWidth"),Q=G("strokeOpacity"),q=G("threeDimension"),K=G("fillOpacity"),$=Xt(p,U,z,_s),J=$.enabled,et=$.easingType,tt=N?J?200:0:$.duration;c=$.type;var at=0==rt(rr(U,p,z,"enabled"),!0),nt=at?null:rr(U,p,z,"cursor")||"pointer",it=Hl(this);D=zt(it,"g",[a],".","class","pyramidgroup"),D.attr("transform","translate("+(f/2-V.width/2)+","+(g/2-V.height/2)+")").style("cursor",nt),I=a=a[0].data[0],M=a.length,L=[],b=V.height,C=V.width,k=q?V.height/6:0;var lt=25,ot=yl(vl(k/bl(lt*Sl/180),2)-vl(k,2));C-=ot,O=Ul().range([(C+ot)/2,0]).domain([0,b]),A=Ul().range([(C+ot)/2,C]).domain([0,b]),S=Ul().range([(C+ot)/2,C+ot]).domain([0,b]),P=Ul().range([(C+ot)/2,ot]).domain([0,b]),T=Ul().range([0,k]).domain([0,b-k/2]),R=[V.width,V.height],B=e.fillColorFunc=da(z,0,R);var st=ua(z,0),ct=0;e.total=w=a.reduce(function(e,t){return e+(t.disabled?0:(ct++,ml(u.getY(t,h)||0)))},0);var dt=0;if(a.forEach(function(e){L.push({height:(dt+(e.disabled?0:ml(u.getY(e,h))))/w*(b-k/2)||0,previousHeight:dt/w*(b-k/2)||0}),dt+=e.disabled?0:ml(u.getY(e,h))}),j=zt(D,"g",a),j.attr("id",function(e,t){return"section_"+(M-1-t)}).styles({stroke:function(e,t){return st(M-1-t,a[M-1-t],p.strokeColor)},"stroke-opacity":Q,"stroke-width":Z,"fill-opacity":K,fill:function(e,t){return B(M-1-t,a[M-1-t])}}).each(function(e,t){var a=Hl(this),r=zt(a,Zo,[e,e,e,e]);r.attr("class","section_"+(M-1-t))}),br(z,j,at),!at){var ut=function(){var e=this.parentNode,a=t(Hl(e).attr("id").replace(/section_/gi,"")),n=r(e,a);z.eventHandler.mouseMove(n)},ht=function(){var r=this.parentNode,n=t(Hl(r).attr("id").replace(/section_/gi,""));z.eventHandler.mouseOut(e,a[n],n)},ft=function(){var n=this.parentNode,i=t(Hl(n).attr("id").replace(/section_/gi,"")),l=r(n,i);z.eventHandler.click(e,a[i],0,i,l)},gt=function(e){var r=this.parentNode,n=t(Hl(r).attr("id").replace(/section_/gi,"")),i=Ei.annotation?In(a[n],null):a[n],l=L[n].previousHeight,o=[O(l+T(l)/2)+(f/2-V.width/2),T(l)/2+l+(g/2-V.height/2)],s={coordinate:o,data:i,basedOn:"plot"};z.eventHandler.doubleclick(e,n,s)},pt={target:"plot",touchleave:!0,chartObj:z},mt={mousemove:ut,mouseout:ht,click:ft,dblclick:gt},vt={singletouchmove:ut,touchend:ht,tap:ft,dbltap:gt};Sr(j.selectAll(Zo),mt,vt,pt)}var yt=0;j.each(function(e,t){var a=D.selectAll("#section_"+t).selectAll(Zo);if(N)a.transition().duration(tt).ease(_l).attr("d",function(e,a){return l(t,a)});else{var r=u.getY(e,h),n=c==rs?(e.disabled||!r?0:ml(r))/w*tt:tt;yt+=e.disabled||!r?0:ml(r);var i=c==rs?(w-yt)/w*tt:0;a.transition().duration(n).delay(i).ease(et).attrTween("d",function(a,r){return o(e,t,r)})}}),e.renderedTimer=setTimeout(function(){if(Ei.labelRenderer){var t=[z.seriesdata,0,a,ct,0,w,V,s(a)];i.push({renderer:e,charttype:Ys,chartObj:z,args:t}),i.push({renderer:e,charttype:"funnelInnerLabels",chartObj:z,args:t})}Ei.annotation&&(v=Ei.annotation.preprocessAnnotations(z.seriesdata,0,function(e,t,a){var r=L[a].previousHeight;return[O(r+T(r)/2)+(f/2-V.width/2),T(r)/2+r+(g/2-V.height/2)]},v,z,n)),N=!0,e.chartRendered=!0},tt+10)})}function a(e,t){return"M"+O(e+T(e)/2)+" "+(T(e)/2+e)+" L"+A(e+T(e)/2)+" "+(T(e)/2+e)+" L"+A(t+T(t)/2)+" "+(T(t)/2+t)+" L"+O(t+T(t)/2)+" "+(T(t)/2+t)+" L"+O(e+T(e)/2)+" "+(T(e)/2+e)}function r(e,t){return"M"+A(e+T(e)/2)+" "+(T(e)/2+e)+" L"+S(e+T(e)/2)+" "+(-T(e)/2+e)+" L"+S(t+T(t)/2)+" "+(-T(t)/2+t)+" L"+A(t+T(t)/2)+" "+(T(t)/2+t)+" L"+A(e+T(e)/2)+" "+(T(e)/2+e)}function n(e,t){return"M"+S(e+T(e)/2)+" "+(-T(e)/2+e)+" L"+P(e+T(e)/2)+" "+(-T(e)/2+e)+" L"+P(t+T(t)/2)+" "+(-T(t)/2+t)+" L"+S(t+T(t)/2)+" "+(-T(t)/2+t)+" L"+S(e+T(e)/2)+" "+(-T(e)/2+e)}function i(e,t){return"M"+P(e+T(e)/2)+" "+(-T(e)/2+e)+" L"+O(e+T(e)/2)+" "+(T(e)/2+e)+" L"+O(t+T(t)/2)+" "+(T(t)/2+t)+" L"+P(t+T(t)/2)+" "+(-T(t)/2+t)+" L"+P(e+T(e)/2)+" "+(-T(e)/2+e)}function l(e,t,l){var o=L[e].height,s="down"==l?o:L[e].previousHeight;switch(t){case 0:return n(o,s);case 1:return i(o,s);case 2:return a(o,s);case 3:return r(o,s)}}function o(e,t,a){var r=bo(l(c==rs?t:M-1,a,"down"),l(t,a));return function(e){return r(e)}}function s(e){var t=[];return e.forEach(function(a,r){var n=e.length-1-r,i=L[n].height,l=L[n].previousHeight,o=(i+l)/2,s={x:S(i+T(i)/2),y:-T(i)/2+i},c={x:S(l+T(l)/2),y:-T(l)/2+l},d={x:O(i+T(i)/2),y:T(i)/2+i},u={x:O(l+T(l)/2),y:T(l)/2+l},h=(s.x+c.x)/2,f=(s.y+c.y)/2,g=(d.x+u.x)/2,p=(d.y+u.y)/2,m=(O(o+T(o)/2)+A(o+T(o)/2))/2;t.push({rightx:h+H,leftx:g-H,y:f,y0:i+T(i)/2,midX:m,leftY:p})}),t}var c,d,u,h,f,g,p,m,v,y,x,b,w,C,k,O,A,S,P,T,E,L,z,D,R,j,M,I,H,B,F=.3,V={},N=!1;return e.commonRendererProp=function(t){return arguments.length?(d=t,e):d},e.defaultMouseOverFunc=function(e,t,a){y?j.style("opacity",function(e,t){return M-1-t==a?null:.2}):j.style("fill",function(e,t){return B(M-1-t,I[M-1-t],M-1-t==a?.5:null)})},e.defaultMouseOutFunc=function(){y?j.style("opacity",null):j.style("fill",function(e,t){return B(M-1-t,I[M-1-t])})},e},Ji.sunburst=function(){function e(a){return a.each(function(l){function c(t){var a=Tr(d3.event);return{renderer:e,seriesPos:i(t),coordinates:[a.pageX,a.pageY],element:this,data:t.data,level:o(t)}}var M=u.params;A=M.chartObj,E=M.commonPlotOptions,O=M.color,S=M.notesArray,b=M.yaxiscolumnorder,m=M.dataset,y=A.systemConf;var Y=M.labelQueue;w=A.plotarea.width,C=A.plotarea.height;var _,W=Ei.utils.getValueOfPlotOptions,X=E.datalabels,U=+E.outerPadding||0,G="absolute"===E.showAsNegative;j=null,H=0,F=[];var Z=ui(X,A),Q=Z&&qn(X,A)?Kn(X,A)+$n(X,A):0,q=0==rt(rr(null,E,A,"enabled"),!0),K=q?null:E.events?E.events.cursor||zl:y.chart.plot.events.cursor||zl;I=E.events&&E.events.highlightHierarchy;var $=Xt(E,null,A,Us),J=$.enabled,et=$.type,tt=$.easingType,at=V?J?200:0:$.duration;p=pl(w,C)/2-U-2*Q;var nt=pl(gl(0,aa(E.innerRadius,p)),aa("95%",p)),it=e.fillColorFunc=da(A,0,[p,p]),lt=ua(A,0);L=function(e){return gl(0,pl(2*Sl,h(e.x0)))},z=function(e){return gl(0,pl(2*Sl,h(e.x1)))},D=function(e){return f(e.y0)+_/2},R=function(e,t){return t=t||0,function(e){return f(e.y1)+t-_/2}},B=function(e){if(s(e))return 0;var t=m.getY(e,b)||0;return 0>t?G?ml(t):0:t},g=go().startAngle(L).endAngle(z).innerRadius(D).outerRadius(R(f)),v=go().startAngle(L).endAngle(z).innerRadius(D).outerRadius(R(f)),T=zt(a,"g",[l],".","class","hierarchychart"),T.attr("transform","translate("+w/2+","+C/2+")").style("cursor",K),x=[],T.selectAll(Zo).each(function(e){x.push({x0:e.x0,x1:e.x1})});var ot=d(l);e.total=ot[0].value,P=zt(T,Zo,ot);var st=[],ct=[],dt=[];if(l.forEach(function(e,t){ct[t]=[[]],ct[t].disabled=e.disabled,ct[t].plotoptions=e.plotoptions,dt[t]=[],dt[t].disabled=e.disabled,dt[t].plotoptions=e.plotoptions;var a=O[t%O.length];st[t]=Ul().domain([0,k(e)]).range([a,ca(a,1.5,"brighter")])}),P.attr("class",function(e){return null!=o(e)?"series_"+i(e):null}).attr("id",function(e){return"arcPath_"+o(e)}).each(function(e,t){e.index=t;var a=i(e),r=o(e);if(H=gl(H,e.depth),e.depth){if(e.data.color)e.data.arcColor=e.data.color;else{var n=l[a].plotoptions,s=null!=n?W(n,E)("childrenColors"):E.childrenColors;if(null!=s)e.data.arcColor=s[N[r]%s.length];else{var c=st[a](N[r]);e.data.arcColor=c}}e.children||ct[a][0].push(e),dt[a].push(e),F[r]=e}else e.data.arcColor=Ll}),h=Ul().range([0,2*Sl]),f=Ul().range([nt,p]).domain([ot[0].y1,1]),_=pl(gl(0,aa(E.padding,p,0)),.9*(p-nt)/H),P.transition().duration(at).ease(V?_l:tt).attrTween("d",V||et===ms?t:et===vs?n:r),P.styles({fill:function(e){return e.fillColor=it(i(e),e.data)},stroke:function(e){return e.depth?E.strokeColor?E.strokeColor:lt(i(e),e.data):"white"},"stroke-opacity":function(e){return e.depth?W(l[i(e)].plotoptions,E)("strokeOpacity"):1},"fill-opacity":function(e){return e.depth?W(l[i(e)].plotoptions,E)("fillOpacity"):0},"stroke-width":function(e){return e.depth?W(l[i(e)].plotoptions,E)("strokeWidth"):0}}),br(A,P,q),!q){var ut=function(e,t){var a=c(e,t);A.eventHandler.mouseMove(a)},ht=function(t){A.eventHandler.mouseOut(e,t,i(t))},ft=function(t,a){var r=c(t,a);A.eventHandler.click(e,t,i(t),t.itemPos,r)},gt=function(t){if(e.chartRendered){var a=null==t.children?null!=Ei.annotation?In(t,l.length>1?t.parent.data.seriesname:null):t:[t.data.seriesname,t.value],r=v.centroid(t);r=[r[0]+w/2,r[1]+C/2];var n={coordinate:r,data:a,basedOn:"plot"};A.eventHandler.doubleclick(t,i(t),n)}},pt={target:"plot",touchleave:!0,chartObj:A},mt={mousemove:ut,mouseout:ht,click:ft,dblclick:gt},vt={singletouchmove:ut,touchend:ht,tap:ft,dbltap:gt};Sr(P.filter(function(e){return 0!=e.depth}),mt,vt,pt)}e.renderedTimer=setTimeout(function(){if(null!=Ei.labelRenderer){var t=go().startAngle(L).endAngle(z).innerRadius(R(f)).outerRadius(R(f)),a=E.datalabels.padding+Q,r=go().startAngle(L).endAngle(z).innerRadius(R(f,a)).outerRadius(R(f,a));l.forEach(function(a,n){var i=function(a,i){return[ct,n,a,p,function(t,a){if(a===id)return e.total;var r=e.getProcessedNode(t);return r.parent.value},r,t,v,[w/2,C/2],i]};Y.push({renderer:e,chartObj:A,charttype:Vs,args:i(dt[n])}),Y.push({renderer:e,chartObj:A,charttype:"pieInnerLabels",args:i(ct[n][0])}),Y.push({renderer:e,chartObj:A,charttype:"pieInnerLabels",args:i(dt[n].filter(function(e){return e.children}),!0)})})}null!=Ei.annotation&&l.forEach(function(t,a){S=Ei.annotation.preprocessAnnotations(l,a,function(t){var a=e.getProcessedNode(t),r=v.centroid(a);return[r[0]+w/2,r[1]+C/2]},S,A,M)}),V=!0,e.chartRendered=!0},at+1e3/60)}),e}function t(e,t){var a=bo(V&&x[t]?L(x[t]):0,L(e)),r=bo(V&&x[t]?z(x[t]):0,z(e));return function(t){return g.startAngle(a(t)).endAngle(r(t)),g(e)}}function r(e){var t=bo(0,D(e)),a=bo(0,R(f)(e));return function(r){return g.innerRadius(t(r)).outerRadius(a(r)),g(e)}}function n(e){var t=bo(L(e),z(e));return function(a){return g.endAngle(t(a)),g(e)}}function i(e){var t=o(e);return t?+t.split("_")[0]:void 0}function l(e){var t=[],a=Zo+"#arcPath";if(I){var r=e.split("_");r.forEach(function(e){a=a+"_"+e,t.push(a)})}else t.push(a+"_"+e);return t}function o(e){return e.level||e.data&&e.data.level}function s(e){var t=i(e);return it(t)&&A.seriesdata[t].disabled}function c(e){var t=o(e),r=t&&t.split("_").length;return N[t]=1===r?Y=0:Y,!A.dataObject.hasHierarchyData&&1==r&&e.length<2&&e[0]&&a(e[0][0])?e[0]:a(e[0])?e:(Y++,null)}function d(e){partition=vo();var t=d3.hierarchy(e,c).sum(B).sort(oo);return partition(t),t.descendants()}var u,h,f,g,p,m,v,y,x,b,w,C,O,A,S,P,T,E,L,z,D,R,j,M,I,H,B,F,V=!1,N={};e.commonRendererProp=function(t){return arguments.length?(u=t,e):u},e.defaultMouseOverFunc=function(e,t){j||(j=A.staticPaneSVG.selectAll("g#zchierarchyhighlight").attr("transform","translate("+(A.plotarea.left+w/2)+","+(A.plotarea.top+C/2)+")"),M=zt(j,Zo,Co(I?H:1)));var a=A.legendHighlight.getLegendHighlightEffect(t,"selectedSeries","plot"),r=l(o(e));if(a!==El){j.style("opacity",null);var n=T.selectAll(r.join()).nodes();M.each(function(e,r){var i=Hl(this);if(n[r]){var l=Hl(n[r]),o=fa(A,t,l.datum(),t);i.attr("d",l.attr("d")).styles(A.legendHighlight.getEffect(a,Us,ll.test(a)?o:Ll,{fill:Ll,stroke:o},t))}else i.attr("d",null)})}},e.defaultMouseOutFunc=function(){j||(j=A.staticPaneSVG.selectAll("g#zchierarchyhighlight")),j.style("opacity",0)},e.getProcessedNode=function(e){return F[o(e)]};var Y;return e};var Wc=function(){};Wc.getValueWithinRange=function(e,t){return pl(gl(e,t[0]),t[1])},Wc.getNeedlePolygon=function(e,t,a){var r=dc(e.width/2,7),n=-aa(e.innerRadius,t.radius,0),i=-aa(e.radius,t.radius,a)+e.padding,l=-3*r;switch(i=pl(i,l),e.type){case"clock":return"M"+r+" "+n+" A"+r+" "+r+" 0 0 1 "+-r+" "+n+" A"+r+" "+r+" 0 0 1 "+r+" "+n+" M0 "+(n-r)+" L0 "+i+" M"+-r+" "+(r+i)+" L0 "+i+" L"+r+" "+(r+i)+" L0 "+i;case"sharp":return"M"+r+" "+n+" L0 "+(n+r)+" L"+-r+" "+n+" L0 "+i+" L"+r+" "+n;default:return"M"+r+" "+n+" A"+r+" "+r+" 0 0 1 "+-r+" "+n+" L0 "+i+" L"+r+" "+n}},Wc.createLevelsNColors=function(e,t,a,r){var n=[],i=[];if(dt=e[0].data[0],origValues=dt[0][t.dataindex]||t.values||[],clr=t.color,origValues instanceof Array||(origValues=[origValues]),void 0===clr&&origValues.length<=1&&(clr=["#d1d1d1"]),origValues.length>0){var l=origValues.slice(0);if(!clr)var o=a[0],s=[0,l.length-1],c=[t.colorGamma[0],t.colorGamma[1]],d=X(o,s,c);l.sort(oo);var u=r[0];l.forEach(function(e,t){var a=origValues.indexOf(e),o=Wc.getValueWithinRange(e,r),s=Wc.getValueWithinRange(it(l[t+1])?l[t+1]:0,r);n[t]=0>o?[o,s]:[u,o],i[t]=clr?clr[a]:d(t),u=0>o?s:o})}else dt.forEach(function(e,t){n[t]=r,i[t]=(clr instanceof Array?clr[t]:clr)||"#d1d1d1"});return{values:n,colors:i}},Wc.targetMarker=function(e,t,a,r,n){function i(e){var t=e[p.dataindex];if(it(t)){t=Wc.getValueWithinRange(t,f);var a=h(t),r=Jt(S,a),n=ia(a)+x;return"translate("+r[0]+","+r[1]+") rotate("+n+",0,0)"}}function l(e){var t=e[p.dataindex];return it(t)?null:El}function o(e){var r=p.events&&p.events.triggerOffset||0;C.strokeWidth=(w+2*r)/10,e.attrs({transform:i,"class":function(e,t){return"ZCtargetmarker_eventhandler_"+t}}).styles({display:l,opacity:0}).each(function(){var e=Hl(this);if(V(e,null,p,C),"line"===p.symbol){var n=w>=t-a?w:gl(w+r,t-a),i=r||1;e.selectAll("*").attr("d",F("rect")(n,i))}})}var s=r.systemConf,c=s.chart.plot.plotoptions.dial,d=r.dataset,u=0,h=r.axes.y.groups[0].scale,f=h.domain(),g=r.seriesdata,p=c.targetMarker,m=p.align,v=p.dAlign,y=+(p.padding||0),x=/line/.test(p.symbol)?90:0,b=!/(outer|inner)/g.test(m)&&/line/.test(p.symbol)?(t-a-2*y)/10:1,w=10*rt(p.size,b),C={symbolSize:{outer:1,inner:.5},color:r.seriesColor[0],strokeWidth:b},k=v===Ts?w/2+y:v===Ps?-(w/2)-y:0,S=m===Ts?t+k:m===Ps?a+k:(t+a)/2,P=zt(e,"g",p.enabled?[g[0].data[0][0]]:[],".","class","targetmarker"),T=zt(e,"g",p.enabled&&n?[g[0].data[0][0]]:[],".","class","targetmarker-eventhandler");P.attr("transform",i).styles({display:l,"stroke-dasharray":O(p.dashStyle,rt(p.outerStrokeWidth,1)),"stroke-linecap":A(p.lineCap,p.dashStyle)}).each(function(){var e=Hl(this);V(e,null,p,C)}),o(T),Wc.handleEvents(r,T,p,"targetmarker",g);var E=p.label||{},L=rt(E.padding,2),z=m===Ts?S+w/2+L:m===Ps?(v===Ts?a:S-w/2)-L:t+L,D=zt(e,"text",p.enabled&&dc(E.enabled,!0)&&!r.renderer[0].firedList.targetSeries?[g[0].data[0][0]]:[]);Ht(D,[E,s.chart,s.canvas,qs]),D.each(function(e){var t=Hl(this);t.style("display",El);var a=e[p.dataindex];if(it(a)){if(a=Wc.getValueWithinRange(a,f),JSON.parse(c.minmaxlabels.show)&&-1!=f.indexOf(a))return;var n=h(a),i=ea(n),l=Jt(z,n),o=r.userdata.metadata.columns,s=o.filter(function(e){return e.dataindex===p.dataindex}),g=s.length?s[0]:o[d.getColumnIdx("y",0)],v=g.datatype,y=g[v],x=m===Ps?0>i||i>Sl?null:"end":0>i||i>Sl?"end":null,b=m===Ps?i>Sl/2&&3*Sl/2>i?null:-ra(i)+"em":i>Sl/2&&3*Sl/2>i?ra(i)+"em":null,w=it(E.text)?d.getCustomizedVal(r,E.text,u,null,null,e,"targetLabel"):zr(y,a,v,r,"targetLabel");t.text(w).style("display",null).attrs({"text-anchor":x,dy:b,transform:"translate("+l[0]+","+l[1]+")"})}})},Wc.handleEvents=function(e,t,a,r,n){function i(){var t=pr(e.svg.node(),d3.event),a={x:t[0],y:t[1]},r={left:a.x,top:a.y},n=Tr(d3.event),i=a.x-n.clientX,l=a.y-n.clientY;return r.left-=i,r.top-=l,r.dLeft=i,r.dTop=l,r}function l(t,a,r,n){return tt(v[a],r,o(n),e)}function o(t){var r=h?t[1]:t[a.dataindex];return{value:r,formattedValue:zr(c,r,d,e),actualData:u,data:s=s||e.dataset.getMetaInfoObj(e,u,0)}}var s,c,d,u=n[0].data[0][0],h="levelmarker"===r,f=e.renderer[0].levelMarker,g=f&&f.values.length,p=e.systemConf.chart.plot.plotoptions.dial,m=e.systemConf.tooltip.enabled,v=a.events||{},y=rt(v.enabled,p.events.enabled),x=y?v.cursor||zl:null;if(t.style("cursor",x),y){var b=e.dataset,w=e.userdata.metadata.columns,C=n[0].data[0].length,k=w.filter(function(e){return e.dataindex===a.dataindex}),O=k.length?k[0]:w[b.getColumnIdx("y",0)],A=function(t){var r=(h?t[1]:t[a.dataindex],o(t)),n=wr(d3.event,{x:0,y:0},0,0,e,{seriesPos:0,subseriesindex:0,itemPos:0});if(m){var l=tt(v.tooltipContent,r,e)||(h?"Range: ":"Target: ")+r.formattedValue,s=e.eventHandler.tooltipElement;s.show(e,i(),l,!1,n.helpers)}},S=function(){if(m){var t=e.eventHandler.tooltipElement;t.hide(t.element)}};d=O.datatype,c=O[d];var P=function(t,a){Sc=Dl;var r=e.eventHandler.tooltipElement;r&&r.timeout&&clearTimeout(r.timeout),e.stopPropogate!==!1&&d3.event.stopPropagation();var n=e.zcEventType||"mousemove";l(u,n,d3.event,t),A(t,a)},T=function(t){var a=e.zcEventType||"mouseout";l(u,a,d3.event,t),S()},E=function(t,a){var n=d3.event&&d3.event.touches,i=e.zcEventType||"click",o=C+a+1+("targetmarker"===r?g:0);if(l(u,i,d3.event,t),n&&"taphold"!==i){Lc(e),Ac=(new Date).getTime(),Tc=this,Pc=[e.renderer[0],t,0,o],Sc=e;var s=e.eventHandler.tapOldInfo;s&&s.itemPos==o?(S(),e.eventHandler.tapOldInfo=null):(A(t,a),e.eventHandler.tapOldInfo={seriesPos:0,subseriesindex:0,itemPos:o,type:r})}},L=function(t){var a=e.zcEventType||"doubleclick";l(u,a,d3.event,t)},z={target:"plot",touchleave:!0,chartObj:e},D={mousemove:P,mouseout:T,click:E,dblclick:L},R={singletouchmove:P,touchend:T,tap:E,dbltap:L};Sr(t,D,R,z)}},Ji.dial=function(){function e(A){return A.each(function(A){var S=r.params;n=S.chartObj,o=S.commonPlotOptions,l=S.color,s=S.dataset,c=S.yaxiscolumnorder,h=n.systemConf;var P=A[0].plotoptions;d=s.getY(A[0].data[0][0],c),v=m,m=0>d;var E=n.defsLocation,L=S.labelQueue;f=n.axes.y.groups[0].scale,p=f.domain(),u=n.plotarea_approx,o=P?oc(o,P,!0):o;var z=Xt(o,P,n,Ns),D=z.enabled,R=z.easingType,j=k?D?200:0:z.duration,M=Hl(this).data(t(A));g=M.selectAll(Zo+".dial").data();var I=o.levelMarker;w=o.innerRadius+" _ "+o.outerPadding+" _ "+o.maxRadius+" _ "+o.bandWidth+" _ "+I.bandWidth+" _ "+I.innerPadding+" _ "+I.outerPadding;var H,B=u.radius,F=rt(I.strokeWidth,1),V=!0,N=la(o,B);if(C=go().endAngle(function(e){return f(e[1])}),V){var Y,_;if(it(I.bandWidth)||it(I.maxBandWidth)){var W=rt(I.maxBandWidth,B),X=Math.min(aa(I.bandWidth,B,B-N),W);Y=(B-N-X)/2,_=(B-N-X)/2,H=0===X?"hidden":null}else Y=gl(0,aa(I.innerPadding,B,0)),_=gl(0,aa(I.outerPadding,B,0));C.innerRadius(N+Y).outerRadius(B-_-.5*F).startAngle(function(e){return f(e[0])})}else{var U=aa(I.interPadding,B,10),G=A[0].data[0].length,Z=(B-N-(G-1)*U)/G;C.innerRadius(function(e,t){return t*(Z+U)+N}).outerRadius(function(e,t){return(t+1)*Z+t*U+N}).startAngle(o.startAngle)}var Q=e.levelMarker=Wc.createLevelsNColors(A,I,l,p);levelmarkerClr=Q.colors;var q=zt(M,"g",[1],".","class","levelmarkerSeries"),K=zt(q,Zo,I.enabled?Q.values:[]);K.attr("class",function(e,t){return"ZClevelmarker_"+t}).attr("transform","translate("+u.x+","+u.y+")").styles({stroke:function(e,t){return I.strokeColor||levelmarkerClr[t]},"stroke-width":F,"stroke-opacity":I.strokeOpacity,"fill-opacity":I.fillOpacity,fill:function(e,t){var a=levelmarkerClr[t],r=T(o.gradients,[B,B],a),n=r?Js.get(ac,"svgGradientFill",r,{offset:"pie"}):null;return n?"url("+E+"#"+n+")":a},visibility:H}),k&&w!=y?K.transition().duration(j).ease(_l).call(function(e){Jr(e,C,[b,C.innerRadius()()],[x,C.outerRadius()()])}):K.attr("d",C),Wc.handleEvents(n,K,I,"levelmarker",A),r.commonPlotOptions(o),O.commonRendererProp(r),O.chartRendered=!1,M.call(O),i=O.innerRadius();var $=zt(M,"g",[1],".","class","targetSeries");Wc.targetMarker($,u.actualRadius,u.innerRadius,n,!0),$.attr("transform","translate("+u.x+","+u.y+")");var J=o.needle,et=zt(M,Zo,J.show?[d]:[],".","class","dial");et.attr("d",Wc.getNeedlePolygon(J,u,i)).styles({stroke:J.strokeColor||"black","stroke-width":J.strokeWidth,fill:J.fillColor||El}).transition().duration(j).ease(R).call(a),Ei.labelRenderer&&L.push({renderer:e,charttype:Ns,chartObj:n,args:[A,0]})
}),e}function t(e){var t=e[0].data[0];return e[0].data[0]=[t[0]],[e]}function a(e){var t,a,r,n,i=u.x,l=u.y,s=void 0!==o.baseValue?o.baseValue:0;e.attrTween("transform",function(e){k?n=jt(this).rotate:(a=m?p[1]:p[0],null!=s&&(a=m?pl(s,a):gl(s,a)),n=ia(f(a))),t=pl(gl(e,p[0]),p[1]),r=ia(f(t));var o=bo(n,r);return function(e){return"translate("+i+","+l+") rotate("+o(e)+",0,0)"}})}var r,n,i,l,o,s,c,d,u,h,f,g,p,m,v,y,x,b,w,C,k=!1,O=Ji.pie();return e.commonRendererProp=function(t){return arguments.length?(r=t,e):r},e.endFunctions=function(){y=w,x=C.outerRadius()(),b=C.innerRadius()(),e.chartRendered=!0,k=!0},e.defaultMouseOutFunc=function(){if(n.systemConf.tooltip.enabled){var e=n.eventHandler.tooltipElement;e.hide(e.element)}},e},Ji.packedbubble=function(){function e(t){return t.each(function(a){function r(t){var a=Tr(d3.event);return{renderer:e,seriesPos:n(t),subseriesPos:0,itemPos:i(t),coordinates:[a.pageX,a.pageY],element:this,data:t}}var m=c.params;h=m.chartObj;var v=m.color,O=m.notesArray,A=m.yaxiscolumnorder,S=m.dataset,P=h.systemConf,T=m.labelQueue;f=m.commonPlotOptions;var E=e.fillColorFunc=da(h,0),L=ua(h,0),z=a.filter(function(e,t){return e.seriesIndex=t,k[t]=[],!e.disabled}),D=h.plotarea.width,R=h.plotarea.height,j=1===z.length,M=nr(h)||h.patternPallete,I=h.systemConf.notes,H=I&&I.enabled===!0&&I.plotValues;g=f.mode,y=ya(f,h);var B="absolute"===f.showAsNegative,F=+f.interPadding||0,V=+f.outerPadding||0,N=pl(D,R)-V;p=[h.plotarea.left+(D-N)/2,h.plotarea.top+(R-N)/2],x=function(e){if(!b&&o(e))return 0;var t=S.getY(e,A)||0;return 0>t?B?ml(t):0:t};var Y=0==rt(rr(null,f,h,"enabled"),!0),_=f.events?f.events.cursor||"pointer":P.chart.plot.events.cursor||"pointer",W=Xt(f,null,h,Gs),X=W.enabled,U=W.type,G=W.easingType,Z=C?X?200:0:W.duration,Q=function(){var e=Hl(this).attr("transform");return null!=e?e:"translate("+N/2+","+N/2+")"},q=function(e){return"translate("+e.x+","+e.y+")"},K=function(){var e=Hl(this).attr("r");return null!=e?e:0},$=function(e){return e.r},J=function(){return f.fillOpacity},et=function(){return f.strokeOpacity},tt=!C&&(U===Jo||U===qo);w.size([N,N]).padding(F),d=zt(t,"g",[1],".","class","hierarchychart"),d.attr("transform","translate("+(D-N)/2+","+(R-N)/2+")").style("cursor",_),u=zt(d,Qo,s(a,!0)),u.attrs({"class":function(e){return"series_"+n(e)}}).style("visibility",function(e){return o(e)?"hidden":null}),u=u.filter(function(e){return!o(e)});var at=s(z);e.total=at[0].value,u=u.data(at),u.attrs({transform:tt?q:Q,r:tt?$:K}).styles({fill:function(e,t){e.index=t,e.r=e.r||0,e.x=e.x||0,e.y=e.y||0,e.data.parent=e.parent,H&&(e.data.x=e.x,e.data.y=e.y),!e.children&&e.parent&&k[n(e)].push(e),e.arcColor=e.depth?"flat"!==g&&1===e.depth&&y?"grey":v[(y?i(e):n(e))%v.length]:"flat"==g||y||j?El:"grey";var a=l(e);return e.fillColor=!e.depth&&M?El:E(y?i(e):n(e),e.data,null,a)},"fill-opacity":tt?0:J,"stroke-opacity":tt?0:et,stroke:function(e){return e.arcColor===El?El:f.strokeColor?f.strokeColor:e.children?e.arcColor:L(y?i(e):n(e),e.data)},"stroke-width":function(){return f.strokeWidth}});var nt=u.size(),it=C||U!==Jo?Z:Z/nt,lt=U===Jo?it:0;if(u.transition().delay(function(e,t){return C?0:t*lt}).duration(it).ease(C?_l:G).attrs({transform:q,r:$}).styles({"fill-opacity":J,"stroke-opacity":et}),br(h,u,Y),!Y){var ot=function(e,t){var a=r(e,t);h.eventHandler.mouseMove(a)},st=function(t){h.eventHandler.mouseOut(e,t,n(t))},ct=function(t,a){var l=r(t,a);h.eventHandler.click(e,t,n(t),i(t),l)},dt=function(t){if(e.chartRendered){var r=Ei.annotation?In(t.data,a.length>1?a[n(t)].seriesname:null):t.data,i=[t.x,t.y];i=[i[0]+(D-N)/2,i[1]+(R-N)/2];var l={coordinate:i,data:r,basedOn:"plot"};h.eventHandler.doubleclick(t,n(t),l)}},ut={target:"plot",touchleave:!0,chartObj:h},ht={mousemove:ot,mouseout:st,click:ct,dblclick:dt},ft={singletouchmove:ot,touchend:st,tap:ct,dbltap:dt};Sr(u.filter(function(e){return!e.children}),ht,ft,ut)}e.renderedTimer=setTimeout(function(){if(Ei.annotation&&a.forEach(function(e,t){O=Ei.annotation.preprocessAnnotations(a,t,function(e){var t=[e.x,e.y];return[t[0]+(D-N)/2,t[1]+(R-N)/2]},O,h,m)}),Ei.labelRenderer){var t=[(D-N)/2,(R-N)/2],r=function(t,a){return a===id?e.total:t.parent.value};a.forEach(function(n,i){T.push({renderer:e,charttype:"hierarchy",chartObj:h,args:[a[i],i,null,null,r,k[i],t]})})}C=!0,e.chartRendered=!0},Z+17)}),e}function t(e){function t(e,i){var l=r(e);l?l.forEach(function(e,r){var n=it(i)?i+"_"+r:e.seriesIndex+"";a(e,n),t(e,n)}):(a(e,i),"flat"==g&&n.push(e))}function a(e,t){var a=t.split(/_/);e.seriesPos=+a[0],e.itemPos=+a[a.length-1]}var n=[];return t(e),"flat"==g?n:e}function r(e){var t=e.level&&e.level.split("_").length;return!h.dataObject.hasHierarchyData&&1==t&&e.length<2&&e[0]&&a(e[0][0])?e[0]:a(e[0])?a(e[0][0])?e:e.filter(function(e){return a(e[0])||x(e)>0}):null}function n(e){var t=e.level||e.data&&e.data.level;return t?+t.split("_")[0]:void 0}function i(e){return e.data.itemPos}function l(e){return e.children?e.arcColor:null}function o(e){var t=n(e);return it(t)&&h.seriesdata[t].disabled}function s(e,a){b=a;var n=d3.hierarchy(t(e),r).sum(x).sort(oo);return w(n),n.descendants()}var c,d,u,h,f,g,p,m,v,y,x,b,w=po(),C=!1,k=[];return e.commonRendererProp=function(t){return arguments.length?(c=t,e):c},e.defaultMouseOverFunc=function(e,t,a){m||(m=h.staticPaneSVG.selectAll("g#zchierarchyhighlight"),v=zt(m,Zo,[1]));var r=Hl(u.nodes()[e.index]),n=jt(r).translate,i=h.legendHighlight.getLegendHighlightEffect(t,"selectedSeries","plot"),l=fa(h,y?a:t,e.data,t);m.style("opacity",null),v.attrs({transform:"translate("+(p[0]+n[0])+","+(p[1]+n[1])+")",d:F("circle")(2*+r.attr("r"))}).styles(h.legendHighlight.getEffect(i,Gs,ll.test(i)?l:Ll,{fill:Ll,stroke:l},y?a:t))},e.defaultMouseOutFunc=function(){m||(m=h.staticPaneSVG.selectAll("g#zchierarchyhighlight")),m.style("opacity",0)},e};var Xc={};Xc.filterBySum=function(e,t){var a=function(e,a){return e+(a.disabled?0:ml(a[t]||0))};return e.filter(function(e){return e.reduce(a,0)>0})},Xc.getKey=function(e,t,a,r){if(!r){var n=a.dataset,i=Ei.DataProcessor.helpers.getParsedYAxisOrder(a.seriesdata[t].yaxiscolumnorder);r=[n.getX(e),n.getY(e,i)]}return"x("+r[0]+") y("+r[1]+")"},Ji.bubblepie=function(){function e(t){return t.each(function(t){var n=a.params,i=n.chartObj,l=n.datasetIndex,o=n.commonPlotOptions,s=n.axisrotated,c=n.stacked,d=n.xscale,u=n.yscale,h=n.yaxiscolumnorder,f=n.labelQueue,g=Hl(this),p=t[l],m=p.plotoptions;if(el.saveSeriesdataInRenderer(i,l),l!==i.bubblePieRendererIndex)return void(e.chartRendered=!0);var v=Xt(o,m,i,Fs),y=v.duration,x=i.dataObject.bubblepieData,b=i.subrenderer,w=rt(o.dataindex,3),C=zt(g,"g",x?[1]:[],".","class","scatterseries");x&&x.forEach(function(e,t){b[t]=b[t]||{};var r=function(e){e.reference;return Xc.getKey(Dl,Dl,Dl,[e.x,e.y])},n=zt(C,"g",[1],".","class","subseries_"+t),l=zt(n,"g",Xc.filterBySum(e,w),".","class","scatter",Dl,r);l.each(function(e){var r=e.reference,n=Xc.getKey(Dl,Dl,Dl,[e.x,e.y]),l=i.dataObject.getXYvalue(s,c,d,u,h,r,"x")||0,o=i.dataObject.getXYvalue(s,c,d,u,h,r,"y")||0,f=i.dataObject.getXYvalue(s,c,d,u,h,r,"z",i.zscale);b[t][n]=(b[t][n]||Ji.pie()).commonRendererProp(a).plotarea({width:f,height:f,left:l-f/2,top:o-f/2}),b[t][n].chartRendered=!1,Hl(this).attr("transform","translate("+(l-f/2)+","+(o-f/2)+")").call(b[t][n])})}),e.renderedTimer=setTimeout(function(){r=!0,e.chartRendered=!0;var t=i.seriesdata;t.forEach(function(e,a){if(i.chartTypes[a].value===Ei.charttype.bubblepie){var r=i.renderer[a];f.push({renderer:r,charttype:Hs,chartObj:i,args:[e,a]}),f.push({renderer:r,charttype:"pieInnerLabels",chartObj:i,args:[t,a,x]})}})},y)}),e}var t,a,r=!1;return e.commonRendererProp=function(t){return arguments.length?(a=t,e):a},e.shiftInfo=function(a){return arguments.length?(t=a,e):t},e},Ji.heatmap=function(){function e(r){return r.each(function(r){var n=t.params,i=n.chartObj,l=n.xscale,o=n.yscale,s=n.datasetIndex,c=n.commonPlotOptions,d=n.labelQueue,u=n.yaxiscolumnorder,h=r[s],f=h.data,g=Xt(c,null,i,Xs),p=g.enabled,m=g.type,v=g.easingType,y=a?p?200:0:g.duration,x=m===ts||m===$o;delay=a?0:x?function(){return Al()*(3*y/5)}:0,duration=a?y:x?2*y/5:y;var b=e.fillColorFunc=da(i,s),w=ua(i,s),C=i.dataObject.getTransRectValue("radius",null,null,null,null,c.borderRadius),k=c.symbol&&F(c.symbol),O=l.domain(),A=o.domain(),S=Hl(this),P=zt(S,"g",[1],".","class","heatmapseries_"+s);e.seriesdataAfterUpdate=[],f.forEach(function(t,r){var n=e.seriesdataAfterUpdate[r]=i.dataObject.updateSeriesdatabyCategories(q(t),O,A,u),d=zt(P,"g",[1],".","class","subseries_"+r),h=zt(d,Zo,n);h.styles({fill:function(e){var t=vr(i,e,l,o,u);return b(s,e,null,null,null,[t.width,t.height])},"fill-opacity":c.fillOpacity,stroke:function(e){return w(s,e,c.strokeColor)},"stroke-width":c.strokeWidth,"stroke-opacity":c.strokeOpacity}).attr("transform",function(e){var t=vr(i,e,l,o,u);return"translate("+(t.x+t.width/2)+","+(t.y+t.height/2)+")"}).attr("d",function(e){var t=vr(i,e,l,o,u);return k?k(pl(t.width,t.height)):Mt(-t.width/2,-t.height/2,t.width,t.height,C)}),a||(qt(h),h.attr("opacity",0).transition().delay(delay).duration(duration).ease(v).on("start",function(){Hl(this).attr("opacity",null)}).call(x?Zt:function(){}).call(m===es||m===ts?Qt:m===Jo||m===$o?Zt:Gt))}),Ei.labelRenderer&&d.push({renderer:e,charttype:"hierarchy",chartObj:i,args:[h,s,null,null,null,to(e.seriesdataAfterUpdate)]}),e.renderedTimer=setTimeout(function(){a=!0,e.chartRendered=!0},y+17)}),e}var t,a=!1;return e.commonRendererProp=function(a){return arguments.length?(t=a,e):t},e};var Uc={};Uc.getTileBound=function(e,t){var a=e.axes.x.scale,r=e.axes.y.groups[0].scale,n=t.x0||0,i=t.x1||0,l=t.y0||0,o=t.y1||0;return{x:a(n),y:r(l),width:a(i)-a(n),height:r(o)-r(l)}},Uc.getLevel=function(e){return e.level||e.data&&e.data.level},Uc.getSeriesIndex=function(e){var t=Uc.getLevel(e);return t?+t.split("_")[0]:void 0},Uc.getItemIndex=function(e){var t=Uc.getLevel(e);if(t){var a=t.split("_");return+a[a.length-1]}},Uc.getParentColor=function(e,t){var a=e.params,r=a.color,n=a.commonPlotOptions.parent.fillColor,i=Ll;if(t.depth){var l=r[Uc.getSeriesIndex(t)%r.length];i="{{clr-tint}}"===n?ca(l,.5,"brighter",d3.hsl):"{{clr-shade}}"===n?ca(l,.5,"darker",d3.hsl):"{{clr}}"===n?l:n?n:sa(l,1e-4)}return i},Uc.isDisabled=function(e,t){var a=Uc.getSeriesIndex(t);return it(a)&&e.seriesdata[a].disabled};var Gc=function(e){var t=this,a=t.rp=e.params,r=t.chartObj=a.chartObj;t.commonRendererProp=e,t.dimension=yc.getAvailableBound(r,a.commonPlotOptions),t.createScale(),t.layout=t.getLayout(),t.processData()};Gc.prototype.createScale=function(){var e=this.chartObj,t=this.dimension;e.axes.x.scale=Ul().domain([0,t.width]).range([0,t.width]),e.axes.y.groups[0]=e.axes.y.groups[0]||{},e.axes.y.groups[0].scale=Ul().domain([0,t.height]).range([0,t.height])},Gc.prototype.getLayout=function(){var e=this,t=e.dimension,a=this.rp.commonPlotOptions,r=a.parent,n=Lt(a.padding),i=a.mode;return yo().size([t.width,t.height]).tile(Xl(i)).round(!0).paddingInner(function(e){return e.value?(e.children[0]&&e.children[0].children?r:a).interPadding||0:0}).paddingTop(function(e){return e.depth&&e.value?n.top:0}).paddingBottom(function(e){return e.depth&&e.value?n.bottom:0}).paddingLeft(function(e){return e.depth&&e.value?n.left:0}).paddingRight(function(e){return e.depth&&e.value?n.right:0})},Gc.prototype.getValue=function(e){var t=this,a=t.chartObj,r=t.rp,n=Uc.getSeriesIndex(e),i=Ei.DataProcessor.helpers.getParsedYAxisOrder(a.seriesdata[n||0].yaxiscolumnorder),l=a.dataset.getY(e,i)||0,o="absolute"===r.commonPlotOptions.negativeAs;return Uc.isDisabled(a,e)?0:0>l?o?ml(l):0:l},Gc.prototype.getChildren=function(e){var t=Uc.getLevel(e),r=t&&t.split("_").length;return!this.chartObj.dataObject.hasHierarchyData&&1==r&&e.length<2&&e[0]&&a(e[0][0])?e[0]:a(e[0])?e:Dl},Gc.prototype.processData=function(){var e=this,t=e.chartObj,a=e.commonRendererProp,r=e.dimension,n=e.rp,i=n.commonPlotOptions,l=n.color,o=i.colorScheme||"solid",s=0,c={},d=[],u=[],h=[],f=[],g=[],p=[],m=d3.hierarchy(e.chartObj.seriesdata,function(t){return e.getChildren(t)}).sum(function(t){return e.getValue(t)}),v=e.layout(m).descendants();e.chartObj.seriesdata.forEach(function(e,a){var n=l[a%l.length];p[a]=da(t,a,[r.width,r.height]),u[a]=0,h[a]=[],h[a].disabled=e.disabled,h[a].plotoptions=e.plotoptions,d[a]=Ul().domain([0,k(e)]).range([n,ca(n,"solid"===o?0:"shades"===o?-1:1,"brighter",d3.hsl)])}),v.forEach(function(e,r){var n=Uc.getLevel(e),o=Uc.getSeriesIndex(e),p=Uc.getItemIndex(e);if(e.index=r,e.depth){if(e.data.color)e.data.arcColor=e.data.color;else{var m=ya(i,t)?l[p%l.length]:d[o](u[o]);e.data.arcColor=m}g[n]=e}e.children?e.data.arcColor=Uc.getParentColor(a,e):(f[o]||(f[o]=[]),f[o].push(e),u[o]++),e.depth&&h[o].push(e),Uc.isDisabled(t,e)||(c[n]=s++)}),t.renderer[0].fillColorFunc=p[0],e.processedData=v,e.previousSiblingsCount=c,e.seriesWiseNodes=h,e.leafNodes=f,e.nodes=g,e.fillColor=p},function(){function e(e,t,a){var r=Tr(d3.event);return{renderer:a,seriesPos:Uc.getSeriesIndex(e),coordinates:[r.pageX,r.pageY],element:this,data:e.data,level:Uc.getLevel(e)}}function t(e){var t,r=e.chartObj,n=e.dimension,i=e.processedData,l=e.rp.commonPlotOptions,o=r.dataset,s=r.eventHandler.trackerElement.node(),c=r.eventHandler.mousePos=pr(s,d3.event),d=U(s),u=c[0]-d.x,h=c[1]-d.y,f={x:u,y:h};if(r.chartRendered)return i.some(function(e){var i=Uc.getSeriesIndex(e),s=J(i)||0==rt(rr(r.seriesdata[i].plotoptions,l,r,"enabled"),!0);if(!s){var c=Uc.getTileBound(r,e),d=c.x,u=c.y,h=c.width,g=c.height,p=ha(o.getClr(e.data),r),m={x:d+n.x,y:u+n.y,width:h,height:g},v=a(m,f);return p&&0==v&&!e.children?(t=e,!0):void 0}}),t}function a(e,t){var a=e.x,r=e.y,n=a+e.width,i=r+e.height;return a<=t.x&&t.x<=n&&r<=t.y&&t.y<=i?0:Dl}function r(e){var t={click:Dl,dblclick:Dl,contextmenu:Dl},a={mousemove:Dl,mouseout:Dl},r={tap:null,dbltap:null,singletouchmove:null,touchend:null};Pr(e,"chart",t),Pr(e,"chartmove",a),Pr(e,null,r)}Uc.addEvents=function(a){function n(){var r=t(a);if(r){var n=e(r,Dl,v);u.eventHandler.mouseMove(n);var i=rr(u.seriesdata[Uc.getSeriesIndex(r)].plotoptions,f,u,"cursor");u.eventHandler.addCursor(i)}else d&&(u.eventHandler.mouseOut(v,d,g(d)),u.eventHandler.hideCursor());d=r}function i(){var e=d;e?u.eventHandler.mouseOut(v,e,g(e)):c()}function l(){var r=t(a);if(r){var n=e(r,Dl,v);u.eventHandler.click(v,r,g(r),p(r),n),d=r}}function o(){var e=t(a);if(e){var r=Ei.annotation?In(e,m.length>1?m[g(e)].seriesname:Dl):e,n=Uc.getTileBound(u,e),i=[n.x+h.x,n.y+h.y],l={coordinate:i,data:r,basedOn:"plot"};u.eventHandler.doubleclick(e,g(e),l),d=e}}function s(e,t,a){e=e.data||e;var r=u.dataObject.getTransRectValue("radius",Dl,Dl,Dl,Dl,f.borderRadius),n=ya(f,u),i=u.staticPaneSVG.selectAll("g#zchierarchyhighlight"),l=i.selectAll(Zo),o=u.legendHighlight.getLegendHighlightEffect(t,"selectedSeries","plot"),s=fa(u,n?a:t,e,t);i.style("opacity",Dl),l.attr("d",function(){var t=v.getProcessedNode(e),a=Uc.getTileBound(u,t);return"canvas"===u.plot.renderer.mode&&(r=It(r,a.width,a.height,!0)),Mt(a.x,a.y,a.width,a.height,r)}).styles(u.legendHighlight.getEffect(o,"treemap",ll.test(o)?s:Ll,{fill:Ll,stroke:s},n?a:t))}function c(){u.staticPaneSVG.selectAll("g#zchierarchyhighlight").style("opacity",0)}var d,u=a.chartObj,h=a.dimension,f=a.rp.commonPlotOptions,g=Uc.getSeriesIndex,p=Uc.getItemIndex,m=u.seriesdata,v=u.renderer[0],y=[u.plotarea.left+h.x,u.plotarea.top+h.y],x=u.eventHandler.trackerElement;_(x,u.plotarea),r(x),v.defaultMouseOverFunc=s,v.defaultMouseOutFunc=c;var b=u.staticPaneSVG.selectAll("g#zchierarchyhighlight").attr("transform","translate("+y+")");zt(b,Zo,[1]);var w={target:"plot",touchleave:!0,chartObj:u},C={mousemove:n,mouseout:i,click:l,dblclick:o},k={singletouchmove:n,touchend:i,tap:l,dbltap:o};Sr(x,C,k,w)}}(),Ji.treemap=function(){function e(g){return g.each(function(p){var m=t.params;n=m.chartObj,i=m.commonPlotOptions;var v=m.notesArray,y=n.systemConf,x=m.labelQueue;l=new Gc(t),o=l.dimension,s=l.nodes,c=l.leafNodes,d=l.seriesWiseNodes;var b=i.strokeWidth,w=i.strokeOpacity,C=i.fillOpacity,k=l.fillColor,O=ua(n,0),A=n.dataObject.getTransRectValue("radius",Dl,Dl,Dl,Dl,i.borderRadius),S=[o.x,o.y],P=Xt(i,Dl,n,"treemap"),T=P.enabled,E=P.type,L=u?_l:P.easingType,z=u?T?200:0:P.duration,D=n.dataObject.totalnoofdatas,R=u?z:E===Ko?z/D:z,j=u?0:E===Ko?function(e){return l.previousSiblingsCount[h(e)]*(z/D)}:E===$o?function(){return Al()*D*(z/D)}:0,M=E===qo||E===$o||E===Ko?0:Dl,I=i.events?i.events.cursor||zl:y.chart.plot.events.cursor||zl,H=i.parent,B=H.events.cursor;a=zt(g,"g",[p],".","class","hierarchychart"),a.attr("transform","translate("+o.x+","+o.y+")").styles({"stroke-width":b,"stroke-opacity":w,"fill-opacity":C,cursor:I});var F=l.processedData;e.total=F[0].value,r=zt(a,Zo,F),e.total||r.remove(),r.styles({fill:function(e){if(e.children)return e.fillColor=e.data.arcColor;var t=Uc.getTileBound(n,e),a=f(e);return e.fillColor=k[a](a,e.data,Dl,Dl,Dl,[t.width,t.height])},stroke:function(e){var t=(e.children?H.strokeColor:Dl)||i.strokeColor;return e.depth?t?t:e.children?e.data.arcColor:O(f(e),e.data):Ll},visibility:function(e){return e.value?Dl:"hidden"}}).attr("class",function(e){return it(h(e))?"series_"+f(e)+(e.children?" zchierarchyparent":""):void 0}).attr("id",function(e){return"tree_"+h(e)});var V=a.selectAll(Zo+".zchierarchyparent");V.styles({"stroke-width":H.strokeWidth,"stroke-opacity":H.strokeOpacity,"fill-opacity":H.fillOpacity,cursor:B}),u||r.attr("transform",function(e){var t=Uc.getTileBound(n,e),a=t.x+t.width/2,r=t.y+t.height/2;return E===as?(a=o.width/2,r=o.height/2):E===os?a=t.width/2:E===ns&&(r=t.height/2),"translate("+a+","+r+")"}).attr("d",function(e){var t=Uc.getTileBound(n,e),a=-t.width/2,r=-t.height/2,i=t.width,l=t.height;return E===os?i=0:E===ns&&(l=0),Mt(a,r,i,l,A)}).style("opacity",M),r.transition().duration(R).delay(j).ease(L).attr("transform",function(e){var t=Uc.getTileBound(n,e);return"translate("+(t.x+t.width/2)+","+(t.y+t.height/2)+")"}).attr("d",function(e){var t=Uc.getTileBound(n,e);return Mt(-t.width/2,-t.height/2,t.width,t.height,A)}).style("opacity",Dl),e.renderedTimer=setTimeout(function(){if(Ei.labelRenderer){var t=function(t,a){if(a===id)return e.total;var r=e.getProcessedNode(t);return r.parent.value};p.forEach(function(a,r){x.push({renderer:e,charttype:"hierarchy",chartObj:n,args:[d[r],r,Dl,Dl,t,c[r],S]}),x.push({renderer:e,charttype:"hierarchy",chartObj:n,args:[d[r],r,Dl,Dl,t,[d[r][0]],S,!0]})})}Ei.annotation&&p.forEach(function(t,a){v=Ei.annotation.preprocessAnnotations(p,a,function(t){var a=e.getProcessedNode(t),r=Uc.getTileBound(n,a);return[r.x+o.x,r.y+o.y]},v,n,m)}),Uc.addEvents(l),u=!0,e.chartRendered=!0},z+17+(j?4*D:0))}),e}var t,a,r,n,i,l,o,s,c,d,u=!1,h=Uc.getLevel,f=Uc.getSeriesIndex;return e.commonRendererProp=function(a){return arguments.length?(t=a,e):t},e.getProcessedNode=function(e){return l.nodes[h(e)]},e};var Zc=function(e,t,a,r,n,i,l){var o,s,c=e[t.dataindex]||[],d=it(t.dataindex),u=a.datalabels.hasFixedPosition,h=a.systemConf.chart.axes.yaxis[n.yaxiscolumnorder||0].reversed,f=a.userdata.seriesdata.stackGroup,g=f?Ja(l,f):0,p=a.plotarea,m=n.stacked,v=n.axisrotated,y=n.hasNegValue,x=n.yaxiscolumnorder,b=n.dataset,w=n.yscale;null==c||c instanceof Array||(c=[c]),d&&!c.length?o=s=0:(o=Fl(c),s=Vl(c));var C=b.getX(e),k=(m?r.bandwidth1(C)+(r.bandwidth2(g)||0):r.bandwidth1(C)+r.bandwidth2(r.barDatasetIndex+i))+r.levelMarkerPadding,O=d?w(v?pl(0,o):gl(0,s)):v&&null!=y?w(y):0,A=v?d?w(gl(0,s))-w(pl(0,o)):null!=y?p.width-w(y):p.width:r.levelMarkerWidth,S=v?r.levelMarkerWidth:d?w(pl(0,o))-w(gl(0,s)):null!=y?w(y):p.height;if(!d)if(w.bandwidth){var P=w.ordinalRange,T=w.bandwidth()/2;v?(O=w.origRange[0],A=P[h?0:P.length-1]+T):(O=P[P.length-1]+T,S=P[h?P.length-1:0]+T)}else{var E;if(u){var L=Qc(a,x);E=m?L[x][1]:L[1]}else E=w.domain()[1];var z=[w(E),w(it(y)?y:w.domain()[0])];v?(z.reverse(),O=z[0],A=ml(z[1]-z[0])):(O=z[0],S=ml(z[1]-z[0]))}return{x:k,y:O,width:A,height:S}},Qc=function(e,t){var a=e.dataObject.actual_yRange[t];return io(to([a,[0]]))};Ei.axis.threshold=function(e,t){function a(e,t,a,r){return e?(e.threshold||(e.threshold={}),e.threshold[r]=t.show?"line"==r?Ei.axis.threshold.line():Ei.axis.threshold.range():null,e.threshold[r]):null}function r(t,a,r,n,l,o){var s;return i.axisObj=function(e){return arguments.length?(a=e,i):a},i.thresholdIndex=function(e){return arguments.length?(r=e,i):r},i.type=function(e){return arguments.length?(n=e,i):n},i.values=function(e){return arguments.length?(s=e,i):s},i.chartObj=function(t){return arguments.length?(e=t,i):e},i.thresholdIndex(r).type(n).values(o.values).chartObj(e),"line"==l&&i.axisObj(a),t.parentObj(i),t}function n(t,n,i,l,o,s,c){var d=c&&c.underlay,u=(d?e.svg:e.staticPaneSVG).selectAll("g.threshold"),h=e.svg.selectAll("g."+o+"-axis-"+i),f=null==h||h.empty()||""!=h.style("visibility")&&"visible"!=h.style("visibility")?"hidden":"visible",g=zt(u,"g",c.show&&"visible"==f?[n]:[],".","class","threshold"+s+"-"+o+"-axis-"+i);if(null!=t&&n.show){var p=l&&null!=t.threshold&&null!=t.threshold[s]?t.threshold[s]:a(t,n,i,s);p=r(p,t,i,o,s,c),g.call(p)}}var i={},l=e.systemConf,o=l.chart.axes.xaxis,s=$(e.userdata,"chart.axes.xaxis")?e.userdata.chart.axes.xaxis:{};null!=s.threshold&&null!=s.threshold.line&&n(e.axes.x,o.threshold.line,0,t,"x","line",s.threshold.line),null!=s.threshold&&null!=s.threshold.range&&n(e.axes.x,o.threshold.range,0,t,"x","range",s.threshold.range);for(var c=l.chart.axes.yaxis,d=$(e.userdata,"chart.axes.yaxis")?e.userdata.chart.axes.yaxis:{},u=0;u<e.axes.y.count;u++)null!=d&&null!=d[u]&&null!=d[u].threshold&&null!=d[u].threshold.line&&n(e.axes.y.groups[u],c[u].threshold.line,u,t,"y","line",d[u].threshold.line),null!=d&&null!=d[u]&&null!=d[u].threshold&&null!=d[u].threshold.range&&n(e.axes.y.groups[u],c[u].threshold.range,u,t,"y","range",d[u].threshold.range)},Ei.axis.threshold.textAlign=function(e,t,a,r,n,i){var l;return n=n||0,"left"==e?l=r?"left"==i||"bottom"==i?"x"==t?n:a.height-n:"x"==t?n:a.height-n:"left"==i||"bottom"==i?"x"==t?a.height-n:n:"x"==t?n:a.width-n:"center"==e?l=r?"left"===i||"bottom"===i?"x"==t?(a.width+n)/2:(a.height-n)/2:"x"==t?(a.width-n)/2:(a.height+n)/2:"left"==i||"bottom"==i?"x"==t?(a.height-n)/2:(a.width+n)/2:"x"==t?(a.height+n)/2:(a.width-n)/2:"right"==e&&(l=r?"x"==t?a.width:0:"left"==i||"bottom"==i?"x"==t?0:a.width:"x"==t?a.height:0),l},Ei.axis.threshold.line=function(){function e(f){f.each(function(f){var g=Hl(this);e.update=function(){g.transition().call(e)},o=d.chartObj(),n=d.thresholdIndex(),c=d.type(),u=d.axisObj(),h=d.values(),i=o.plotarea;var p=u.scale,m=p.range();m=m.slice(0,m.length),m.sort(function(e,t){return e-t});var v=null!=p.bandwidth?p.bandwidth()/2:0,y=f.label;y=jn(y,$(o.userdata,"chart.axes."+c+"axis"+("x"===c?"":"."+n)+".threshold.line.label",!0));var x=f.marker||{},b=dc(x.enabled,!0);s=o.axes.rotated,l=o.systemConf;var w=[],C=[],k=[],A={x:2,y:2},S=l.chart.axes.xaxis.axisline,P=l.chart.axes.yaxis[n].axisline;it(S)&&S.show&&(A.x+=+S.strokeWidth-1),it(P)&&P.show&&(A.y+=+P.strokeWidth-1);var T,E=0,L=[],z=[],D=[],R=[],j=[],M=[],I=[],H=[],B=o.dataset.getDataType(c,n),V=cc(f.events,"enabled")!==!1,N=o.dataset.getColumn(c,n),Y=o.dataset.getColumnIdx(c,n);B==Wo&&(T=cc(N,Wo)||null),h.map(function(e,t){var r=null!=e&&""!=e?B==Wo?Mr(e,null,T).getTime():e:null;null!=e&&""!==e&&p(r)+v>=m[0]&&p(r)+v<=m[m.length-1]&&(w[E]=r,C[E]=Mn(cc(f,"label.text["+t+"]")||"",h,N,o),k[E]=(a(f.color)?f.color[t]:f.color)||"black",L[E]=it(f.label)?(a(f.label.hAlign)?f.label.hAlign[t]:f.label.hAlign)||"center":"center",D[E]=(a(f.strokeWidth)?f.strokeWidth[t]:f.strokeWidth)||1,z[E]=a(f.dashStyle)?f.dashStyle[t]:f.dashStyle,R[E]=it(f.marker)&&f.marker.enabled?(a(f.marker.strokeWidth)?f.marker.strokeWidth[t]:f.marker.strokeWidth)||2:null,M[E]=f.marker&&f.marker.enabled?(a(f.marker.size)?f.marker.size[t]:f.marker.size)||1:null,E++)});var _=o.container.node().getBoundingClientRect(),W={left:_.left+i.left,top:_.top+i.top,width:i.width,height:i.height,right:_.left+i.left+i.width,bottom:_.top+i.top+i.height},X=W.left,U=W.top,Z=u.component.orient(),Q={top:0,left:0,right:0,bottom:0},q="..",K=o.cache.thresholdCustomPoints=dc(o.cache.thresholdCustomPoints,[]),J=t(f,o);g.attr("transform","translate("+i.left+","+i.top+")");var et=zt(g,"g",[f],".","class","thresline-"+n),tt=o.container.selectAll("g.plotareaBorder-property").node(),at=tt.border||tt["border-"+Z],rt=tt.border||tt["border-"+Pa(Z)],nt=at&&at.clr!==Ll?at.size:0,lt=rt&&rt.clr!==Ll?rt.size:0,ot=nt+lt,st=zt(et,"path",null!=x&&b?w:[],".","class","marker");st.attr("d",function(e,t){return F(a(x.symbol)?x.symbol[t]:x.symbol)(10*M[t])}).style("stroke-width",function(e,t){return R[t]||2}).style("stroke",function(e,t){return(a(x.strokeColor)?x.strokeColor[t]:x.strokeColor)||k[t]}).attr("fill",function(e,t){var r=a(x.fillColor)?x.fillColor[t]:x.fillColor;return r||(null===r?k[t]:"white")}),st.attr("transform",function(e,t){var a=R[t]/2,r=Hl(this).node().getBBox();j[t]=r.width+nt;var l="bottom"==Z||"top"==Z?p(e)+v:"left"==Z?a+nt+r.width/2:i.width-(a+nt+r.width/2),s="bottom"==Z?i.height-r.width/2-nt-a:"top"==Z?a+r.height/2+nt:p(e)+v;return V&&K.push({x:l-j[t]/2,y:s-j[t]/2,width:j[t],height:j[t],color:k[t],text:C[t],type:"threshold-marker",triggerOffset:J,size:M[t],marker:x,point:h[t],formattedValue:zr(N[N.datatype],h[t],N.datatype,o,"threshold",!1),thresholdType:c,columnIndex:Y,columnInfo:N,yColumnIndex:n,itemIndex:t,events:f.events||{}}),"translate("+l+","+s+")"});var ct=zt(et,"line",w);ct.attr("x1",function(e,t){return"bottom"==Z||"top"==Z?p(e)+v:"left"==Z?(j[t]||0)+R[t]:lt}).attr("y1",function(e,t){return"bottom"==Z?nt:"top"==Z?(j[t]||0)+R[t]:p(e)+v}).attr("x2",function(e,t){return"bottom"==Z||"top"==Z?p(e)+v:"left"==Z?i.width-lt:i.width-R[t]-(j[t]||0)}).attr("y2",function(e,t){return"bottom"==Z?i.height-R[t]-(j[t]||0):"top"==Z?i.height-lt:p(e)+v}).attr("stroke",function(e,t){return"    "+k[t]}).attr("stroke-width",function(e,t){return D[t]+"px"}).attr("shaperendering","crispedges").attr("stroke-dasharray",function(e,t){return O(z[t],D[t])});var dt=zt(et,"text",null!=y?w:[]);dt.text(function(e,t){return G(C[t])}).attr("x",function(e,t){var a=10*M[t]+A[c]+(R[t]||2),r="x"==c&&!s||"y"==c&&s?-Ei.axis.threshold.textAlign(L[t]||"right",c,i,s,a,Z):Ei.axis.threshold.textAlign(L[t]||"right",c,i,s,a,Z);return r}).attr("y",function(e){var t="x"==c&&!s||"y"==c&&s?p(e)+v:p(e)+v;return t-5}).attr("transform","x"==c&&!s||"y"==c&&s?"rotate(-90)":"rotate(0)").styles({"font-family":function(e,t){return H[t]=(a(y.fontFamily)?y.fontFamily[t]:y.fontFamily)||l.chart.fontFamily||l.canvas.fontFamily||qs.fontFamily,H[t]},"font-size":function(e,t){return I[t]=Ei.utils.getVal((r(y.fontSize)||a(y.fontSize)?y.fontSize[t]:y.fontSize)||l.chart.fontSize||l.canvas.fontSize),I[t]+"px"},fill:function(e,t){return(a(y.fontColor)?y.fontColor[t]:y.fontColor)||l.chart.fontColor||l.canvas.fontColor||qs.fontColor},"font-weight":function(e,t){return(a(y.fontWeight)?y.fontWeight[t]:y.fontWeight)||l.chart.fontWeight||l.canvas.fontWeight||qs.fontWeight},"font-style":function(e,t){return(a(y.fontStyle)?y.fontStyle[t]:y.fontStyle)||l.chart.fontStyle||l.canvas.fontStyle||qs.fontStyle},"text-Anchor":function(e,t){return"left"==Z||"bottom"==Z?"center"==L[t]?"middle":"right"==L[t]?"end":"start":"center"==L[t]?"middle":"right"==L[t]?"start":"end"}}).each(function(e,t){var a,r=G(C[t]),n=10*M[t],l=pc.getTextWidth(r,I[t],H[t])+n,o="top"===Z||"bottom"===Z?i.height:i.width;l>o&&(a=pl(l-o,n)+ot,W.left=X+a,W.top=U+a,Dt(this,this.textContent,this.getBoundingClientRect(),W,Rn(Z),q,Q))})})}function t(e,t){return dc(cc(e,"events.triggerOffset"),Ar(t,t.chartTypes[0].value))}var n,i,l,o,s,c,d,u,h;return e.parentObj=function(t){return arguments.length?(d=t,e):d},e.getMetaInfo=function(e){return{itemIndex:e.itemIndex,point:e.point,data:oc(o.systemConf.metadata.columns[e.columnIndex],{columnindex:e.columnIndex})}},e},Ei.axis.threshold.range=function(){function e(e){e.each(function(e){var l=Hl(this);r=i.chartObj(),t=i.thresholdIndex(),n=i.type();var o=r.systemConf,s=e.label;s=jn(s,$(r.userdata,"chart.axes."+n+"axis"+("x"===n?"":"."+t)+".threshold.range.label",!0));var c=[],d=[],u=[],h=[],f=[],g=[],p=[],m=[],v=[],y=[],x=[],b=[],w=r.container.node().getBoundingClientRect(),C=r.plotarea,k={left:w.left+C.left,top:w.top+C.top,width:C.width,height:C.height,right:w.left+C.left+C.width,bottom:w.top+C.top+C.height},S=r.axes[n].orient,P=i.axisObj().component.orient(),T={top:0,left:0,right:0,bottom:0},E="..",L=zt(l,"g",e.show?[e]:[],".","class","thresholdrangegroup-"+n),z=r.axes.rotated;if(e.show){var D,R=r.dataset.getDataType(n,t),j=r.dataset.getColumn(n,t);R==Wo&&(D=null!=j.time?j.time:null);var M=[],I=[],H={x:2,y:2},B=o.chart.axes.xaxis.axisline,F=o.chart.axes.yaxis[t].axisline;it(B)&&B.show&&(H.x+=+B.strokeWidth-1),it(F)&&F.show&&(H.y+=+F.strokeWidth-1);var V=z?r.axes.y.groups[t].scale:r.axes.x.scale,N=z?r.axes.x.scale:r.axes.y.groups[t].scale,Y=r.dataObject.noofBarEnabledSeries,_=null!=V.bandwidth&&Y?V.bandwidth():0,W=null!=N.bandwidth&&Y?N.bandwidth():0,X=null==V.bandwidth||Y?0:V.bandwidth()/2,U=null==N.bandwidth||Y?0:N.bandwidth()/2,Z=0,Q=("x"==n&&!z||"y"==n&&z?V:N).domain(),q=Q.length-1;e.values.map(function(t,n){I=null!=t&&""!=t?t.map(function(e){return R==Wo?Mr(e,null,D).getTime():e}):null,I&&!(I[0]>Q[q]||I[1]<Q[0])&&(I[0]=gl(I[0],Q[0]),I[1]=pl(I[1],Q[q]),M[Z]=I,c[Z]=(a(e.fillColor)?e.fillColor[n]:e.fillColor)||"grey",d[Z]=rt(a(e.fillOpacity)?e.fillOpacity[n]:e.fillOpacity,"0.2"),u[Z]=(a(e.strokeColor)?e.strokeColor[n]:e.strokeColor)||"black",h[Z]=a(e.dashStyle)?e.dashStyle[n]:e.dashStyle,f[Z]=a(e.lineCap)?e.lineCap[n]:e.lineCap,g[Z]=(a(e.label.hAlign)?e.label.hAlign[n]:e.label.hAlign)||"center",p[Z]=Mn(cc(e,"label.text["+n+"]")||"",e.values,j,r),m[Z]=a(s.fontColor)?s.fontColor[n]:s.fontColor,b[Z]=a(s.fontStyle)?s.fontStyle[n]:s.fontStyle,y[Z]=a(s.fontFamily)?s.fontFamily[n]:s.fontFamily,x[Z]=a(s.fontWeight)?s.fontWeight[n]:s.fontWeight,v[Z]=s.fontSize instanceof Function||a(s.fontSize)?s.fontSize[n]:s.fontSize,Z++)});var K=zt(L,"g",M,".","class","rangebox-"+t);K.append("rect"),K.append("text");var J=K.select("rect"),et=K.select("text");J.attrs({x:function(e){return"x"==n&&!z||"y"==n&&z?V(e[0])+X+r.plotarea.left:r.plotarea.left+H[n]},y:function(e){return"x"==n&&!z||"y"==n&&z?r.plotarea.top:N(e[1])+U+r.plotarea.top},width:function(e){return"x"==n&&!z||"y"==n&&z?V(e[1])-V(e[0])+_:r.plotarea.width-H[n]},height:function(e){return"x"==n&&!z||"y"==n&&z?r.plotarea.height-H[n]:N(e[0])-N(e[1])+W}}).styles({fill:function(e,t){return c[t]},"fill-opacity":function(e,t){return d[t]},stroke:function(e,t){return u[t]},"stroke-dasharray":function(e,t){return O(h[t])},"stroke-linecap":function(e,t){return A(f[t],h[t])}}),et.attrs({transform:function(e,t){var a=J.nodes()[t].getBBox(),i=Ei.axis.threshold.textAlign(g[t],n,r.plotarea,z,H[n],S);return"x"==n&&!z||"y"==n&&z?"translate("+(a.x+a.width/2)+","+(i+r.plotarea.top)+") rotate(-90)":"translate("+(i+r.plotarea.left)+","+(a.y+a.height/2)+")"},dy:"0.3em"}).styles({"font-family":function(e,t){return y[t]||o.chart.fontFamily||o.canvas.fontFamily||qs.fontFamily},"font-size":function(e,t){return Ei.utils.getVal(v[t]||o.chart.fontSize||o.canvas.fontSize)+"px"},fill:function(e,t){return m[t]||o.chart.fontColor||o.canvas.fontColor||qs.fontColor},"font-weight":function(e,t){return x[t]||o.chart.fontWeight||o.canvas.fontWeight||qs.fontWeight},"font-style":function(e,t){return b[t]||o.chart.fontStyle||o.canvas.fontStyle||qs.fontStyle},"text-Anchor":function(e,t){return"center"==g[t]?"middle":"right"==g[t]?"end":"start"}}).text(function(e,t){return G(p[t])}).each(function(){Dt(this,this.textContent,this.getBoundingClientRect(),k,Rn(P),E,T)})}})}var t,r,n,i;return e.parentObj=function(t){return arguments.length?(i=t,e):i},e},Ei.axis.threshold.overlay=function(e,t,a){var r=e.dataObject.getAxisRotated();if("discrete"==t){var n=a.values.slice(0),i=a.overlayRange,l=a.defaultColor;return n.sort("below"==i||"equalandbelow"==i?oo:so),function(e,t,r,o){if(null==a.values||0==a.length)return o;for(var s=0;s<n.length;s++){var c,d=n[s];
switch(i){case"equal":c=r===d;break;case"equalandbelow":c=d>=r;break;case"equalandabove":c=r>=d;break;case"below":c=d>r;break;default:c=r>d}if(c){var u=a.values.indexOf(d);return null==t||null==t[u]?l?o:"black":t[u]}}return o}}return"continous"==t?function(t,a,n,i){var l="x"==i?e.axes.x.scale:e.axes.y.groups[0].scale,o=n,s=a.values;if(null==s||0==s.length)return t;var c=s.slice(),d=a.color,u=a.overlayRange,h=a.defaultColor;u&&(u=u.replace("equaland",""));var f,g=e.dataset.getDataType(i,n);if("time"==g){var p=e.dataset.getColumn(i,n);f=null!=p.time?p.time:null}c=c.map(function(e){return"time"==g?Mr(e,null,f).getTime():e}),c.sort("x"==i&&!r||"y"==i&&r?function(e,t){return t>e?-1:e>t?1:0}:function(e,t){return e>t?-1:t>e?1:0});var m=l.domain().length,v="x"==i&&!r||"y"==i&&r?l(l.domain()[m-1])-l(l.domain()[0]):l(l.domain()[0])-l(l.domain()[m-1]),y=[];y.push(0);for(var x=0;x<c.length;x++){var b=l(c[x])+(null!=l.bandwidth?l.bandwidth()/2:0),w=b/v*100;100>w&&(y.push(w),y.push(w))}y.push(100);var C=[];("y"==i&&"below"==u&&!r||"x"==i&&"above"==u&&!r||"y"==i&&"above"==u&&r||"x"==i&&"below"==u&&r)&&C.push(t);for(var x=0;x<c.length;x++){var n=s.indexOf(c[x]);C.push(null==d||null==d[n]?h?t:"black":d[n])}("y"==i&&"above"==u&&!r||"x"==i&&"below"==u&&!r||"y"==i&&"below"==u&&r||"x"==i&&"above"==u&&r)&&C.push(t);for(var k=[],x=0;x<y.length;x++){var O={};O.offset=y[x]+"%",O.color=x%2==0?C[x/2]:C[(x-1)/2],k.push(O)}var A={};A.type="thresholdLinear",A.options={};var S=A.options,P=r?e.axes.y.groups[0].scale:e.axes.x.scale,E=r?e.axes.x.scale:e.axes.y.groups[0].scale,L="x"==i&&!r||"y"==i&&r;S.x1=L?P(P.domain()[0]):0,S.x2=L?P(P.domain()[m-1]):0,S.y1=L?0:E(E.domain()[m-1]),S.y2=L?0:E(E.domain()[0]),S.values=c,S.color=C,S.seriesclr=t,S.overlayRange=u;var z=(L?P:E).domain();S.scale=z[0]+"_"+z[1];var D=e.plot.renderer.mode,R=e.chartTypes[o].name,j=e.systemConf.chart.plot.plotoptions[R],M="line"===R?j.strokeOpacity:j.fillOpacity,I=[S.x1,S.x2,S.y1,S.y2],H=T(A,I,C,M),B={offset:R,chartObj:e,offset:k,dimension:I,color:C},F="svg"==D?Js.get(ac,"svgGradientFill",H,B):Js.get(canvas_gradients,"canvasGradientFill",H,B);return"svg"==D?"url("+e.defsLocation+"#"+F+")":F}:void 0},Ei.annotation=function(){},Ei.annotation.draw=function(e,t){"use strict";var a=e.systemConf.notes,r=it(a)&&a.enabled===!0;if(r){var n=e.dataObject.isPolarAxisCategory,i=dc(a.chartValues,[]);if(i.forEach(function(t){Ei.annotation.addNotes(e,{coordinate:[t.x,t.y],conf:t})}),e.isAxisCategory||n)for(var l=0,o=e.seriesdata.length;o>l;l++){var s=e.renderer[l];"image"===e.plot.renderer.mode&&el.setRendererProp(e,s,e.seriesdata,l,{image:!0});var c,d=e.rendererConf[l].params,u=d.xscale,h=d.yscale,f=d.stacked,g=d.datasetIndex,p=d.axisrotated,m=d.yaxiscolumnorder,v=e.dataset.getDataType("x")==_o?u.domain():e.dataObject.getCategories("x"),y=e.chartTypes[g].value;c=lr(y)?function(t,a,r){var n=s.commonOption||Ka(e.rendererConf[g],g);return[e.dataObject.getTransRectValue("x",t,a,r,n),e.dataObject.getTransRectValue("y",t,a,r,n)]}:function(t){var a=n?[e.plotarea_approx.x,e.plotarea_approx.y]:[0,0];return[e.dataObject.getXYvalue(p,f,u,h,m,t,"x")+a[0],e.dataObject.getXYvalue(p,f,u,h,m,t,"y")+a[1]]},t=Ei.annotation.preprocessAnnotations(e.seriesdata,g,c,t,e,d,v)}t.forEach(function(t){Ei.annotation.addNotes(e,t)})}return t=[]},Ei.annotation.addNotes=function(e,t){var a,r,i,l,o=e.systemConf.notes,s=e.plotarea,c=e.canvasarea,d=c.width,u=c.height,h=t.coordinate,f=t.basedOn||"chart",g=t.data,p=t.conf||{},m=t.disabled,v=dc(p.type,o.type,"stickyNote"),y="block"===f||"plot"===f?s:c,x=p.overflow||o.overflow||"scroll";"block"===f&&(i="scroll"===x?"auto":"hidden",a=aa(o.maxWidth||"100%",y.width)),"block"===f&&(l="scroll"===x?"auto":"hidden",r=aa(o.maxHeight||"10%",y.height));var b="plot"==f?n(g):"block"==f?W(p,""):n(h);b="plot"!=f&&null!=p.id?p.id:f+b.replace(/[`~!@#$%^&*( )_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,""),p.id=b;var w=zt(e.notes,"div",[1],"#","id",f);w.styles({width:"0",height:"0"});var C=zt(w,"div",[t],"#","id",b);C.styles({display:m?El:null,position:"absolute",left:"0",top:"0","overflow-x":i,"overflow-y":l,"max-width":a+Tl,"max-height":r+Tl});var k=Ei.annotation["stickyNote"===v?"stickyNote":"customNote"](),O=oc(o.options[v],t.conf||{},!0);if(k.chartObj(e).conf(O),Ht(C,[O,e.systemConf.canvas,qs],!0),C.call(k),!m){var A=C.node(),S="stickyNote"===v?gl(parseFloat(C.selectAll(".head").style("width")),parseFloat(C.selectAll(".body").style("width"))):0,P="stickyNote"===v?parseFloat(C.selectAll(".head").style("height"))+parseFloat(C.selectAll(".body").style("height")):0;h=h.map(function(t,a){var r="plot"===f?t+e.plotarea[0==a?bs:ks]:tt(t,e,r,A);return isNaN(+r)?aa(t,0==a?d:u,0):r});var T="plot"===f||"block"===f?p.transform:null;h=tt(T,e,p,A,h)||h,k.coordinate(h),h=Bn(h[0],h[1],S,P,d,u),C.styles({left:h[0]+Tl,top:h[1]+Tl});var E="plot"==f?g:b,L=Fn(o,E,f);return-1==L&&Hn(o,E,"",t.coordinate,f),C}},Ei.annotation.preprocessAnnotations=function(e,t,a,r,i,l,o){function s(e,t){var a=e[0],r=e[1];return a>=0&&r>=0&&a<=t.width&&r<=t.height}function c(e,t,a,n){r.push({coordinate:e,data:t,conf:a,disabled:n,basedOn:"plot"})}if(!i.destroying){var d=i.systemConf.notes;if(!it(d)||d.enabled===!1)return r;var u=d.plotValues,h=i.isAxisCategory,f=i.isNonAxisMultiSeriesCategory,g=l.dataset,p=l.stacked,m=i.plotarea,v=l.yaxiscolumnorder,y=e[t],x=i.dataObject.isHierarchy?y:y.data,b=(h||f)&&e.length>1?y.seriesname:null,w=i.chartTypes[t].name,C=i.dataObject.seriesNames||(i.dataObject.seriesNames=i.seriesdata.map(function(e){return e.seriesname})),k=h&&e.length>1?u.filter(function(e){var t=e.data[e.data.length-1];return b==t||-1==C.indexOf(t)}):u;return k.forEach(function(t){for(var r=!1,i=t.data,l=0,d=h?x.length:1;d>l&&!r;l++)for(var u=0,k=x[l].length;k>u&&!r;u++){var O=x[l][u],A=In(O,b);if(n(A)==n(i)){r=!0;var S=a(O,l,u),P=h&&!s(S,m)?!0:h||f?y.disabled:O.disabled;c(S,A,t,P)}}if(h&&!r&&("bar"===w?-1!=o.indexOf(g.getX(i)):!0)){r=!0;var O=In(i);p&&(O.y=g.getY(i,v),O.y0=0);var S=a(O,0,u),P=h&&!s(S,m)?!0:h&&e.length>1&&-1==C.indexOf(i[i.length-1])?!1:y.disabled;c(S,O,t,P)}if(!r&&"sunburst"===w){var T=[b,y.value];n(T)===n(i)&&c(a(y),T,t,y.disabled)}}),r}},Ei.annotation.addBlockAnnotations=function(e){var t=e.systemConf.notes;if(it(t)&&t.enabled!==!1){{Ei.setDefaultOptions("notes",e.systemConf,e.globalProp)}t=e.systemConf.notes;var a,r,n=t.blockValues,i=e.plotarea,l=aa(t.maxWidth||"100%",i.width),o=aa(t.maxHeight||"10%",i.height),s=i.width,c=i.height,d=i.left,u=i.top,h=i.bottom;n.forEach(function(n){var f=n.hAlign,g=n.vAlign,p=n.overflow||t.overflow||"scroll",m=f===ws,v=f===bs,y=g===ks,x=g===Cs;if(!(r&&y||a&&x)){{var b=function(e,t,a){var r=a.getBoundingClientRect(),n=m?d+s:v?d:d+s/2,i=m?r.width:v?0:r.width/2;return gl(n-i,0)},w=function(e,t,a){var r=a.getBoundingClientRect(),n=y?u:u+c,i=y?0:r.height;return n-i},C=Ei.annotation.addNotes(e,{coordinate:[b,w],conf:n,basedOn:"block"}),k=C.node(),O=k.getBoundingClientRect(),A=O.height;O.width}"fire"===p&&(k.scrollHeight>o||k.scrollWidth>l)?C.remove():(i.height=c-A,y?i.top=u+A:x&&(i.bottom=h+A)),r=r||y,a=a||x}})}},Ei.annotation.stickyNote=function(){function e(e){e.each(function(e){var n=Hl(this),i=t.systemConf.notes,l=t.canvasarea.width,o=t.canvasarea.height,s=t.notes,c=e.basedOn||"chart",d=(e.data,e.coordinate),u="string"==typeof d[0]&&d[0].indexOf("%")>-1,h="string"==typeof d[1]&&d[1].indexOf("%")>-1,f=a.text,g=s.selectAll(".head").size(),p=a.color,m="open"===a.mode,v=rt(a.bodyWidth,100),y=rt(a.bodyHeight,100),x=rt(a.headWidth,15),b=rt(a.headHeight,15),w=m?0:1;p=p instanceof Array?p[g%p.length]:p;no().on("drag",function(){if(!d3.event.defaultPrevented){var e=Hl(this.parentNode),t=parseFloat(e.style("left"))+d3.event.x,a=parseFloat(e.style("top"))+d3.event.y,n=gl(w%2!=0?0:v,x),s=(w%2!=0?0:y)+b;t=t>l-n?l-n:0>t?0:t,a=a>o-s?o-s:0>a?0:a,r[0]=t,r[1]=a;var d=t+Tl,f=a+Tl;if(e.styles({left:d,top:f}),"plot"!=c){var g=e.attr("id"),p=Fn(i,g,c);-1!=p&&(i.chartValues[p].x=u?t/l*100+"%":t,i.chartValues[p].y=h?a/o*100+"%":a)}}});n.attr("class","group").styles({width:0,height:0,"z-index":2});var C=zt(s,"textarea",[1]);C.styles({width:v+Tl,height:y+Tl,position:"absolute","border-color":Ll,"border-radius":(a.bodyBorderRadius||0)+Tl,"background-color":Ll,overflow:"hidden",display:El,resize:El,"z-index":2,outline:El}).on("blur",function(){var e=C.attr("eleID");if(C.style("display",El),null!=e){var t=Hl("#"+e),a=t.selectAll(".body");a.style("color",null),t.style("z-index",2)}}).on("input",function(){var e=Hl(this);if(e.style("display")!==El){var t=Hl("#"+e.attr("eleID")),a=t.selectAll(".body"),r=t.attr("id"),n=C.node().value,l=t.datum(),o=l.basedOn||"chart",s=l.data;a.text(n);var c="plot"==o?s:r,u=Fn(i,c,o);-1==u?Hn(i,c,n,d,o):i[o+"Values"][u].text=n}}).text(f);var k=zt(n,"div",[1],".","class","head");k.attr("customColor")||k.style("background-color",p).attr("customColor",p),k.styles({width:x+Tl,height:b+Tl,border:a.border,"border-radius":(a.headBorderRadius||0)+Tl,"z-index":"auto"});var O=function(){if(!d3.event.defaultPrevented){var e=w%2==0,t=Hl(this.nextSibling),a=Hl(this.parentNode);if(C.on("blur")(),e)a.transition().delay(250).duration(0).styles({left:r[0]+Tl,top:r[1]+Tl});else{var n=Bn(parseFloat(a.style("left")),parseFloat(a.style("top")),v,b+y,l,o);a.styles({left:n[0]+Tl,top:n[1]+Tl})}t.style("color",null).transition().ease(_l).styles({width:e?0+Tl:v+Tl,height:e?0+Tl:y+Tl,display:e?null:"block"}),t.transition().delay(250).style("display",e?El:null),s.selectAll(".group").style("z-index",1),a.style("z-index",2),w++}},A={click:O},S={tap:O};Sr(k,A,S);var P=n.selectAll("div.body").empty()?{"background-color":p}:{},T=zt(n,"div",[1],".","class","body");T.styles({width:m?v+Tl:"0",height:m?y+Tl:"0",display:m?null:El,border:a.border,overflow:"hidden","box-shadow":a.shadow,"border-radius":(a.bodyBorderRadius||0)+Tl,"z-index":"auto"}).styles(P).text(f);var O=function(){var e=Hl(this),t=Hl(this.parentNode);C.on("blur")(),C.styles({display:null,left:t.style("left"),top:parseFloat(t.style("top"))+b+Tl,color:t.style("color"),"font-size":t.style("font-size"),"font-family":t.style("font-family"),"font-weight":t.style("font-weight"),"font-style":t.style("font-style")}).attr("eleID",t.attr("id")),C.node().value=e.text(),C.node().focus(),e.style("color",Ll),s.selectAll(".group").style("z-index",1),t.style("z-index",2),C.style("z-index",3)},A={click:O},S={tap:O};Sr(T,A,S)})}var t,a,r;return e.chartObj=function(a){return arguments.length?(t=a,e):t},e.conf=function(t){return arguments.length?(a=t,e):a},e.coordinate=function(t){return arguments.length?(r=t,e):r},e},Ei.annotation.customNote=function(){function e(e){e.each(function(e){Hl(this).html(tt(t.htmlEl,r,e.conf))})}var t,a,r;return e.coordinate=function(t){return arguments.length?(a=t,e):a},e.conf=function(a){return arguments.length?(t=a,e):t},e.chartObj=function(t){return arguments.length?(r=t,e):r},e},Ei.events.zoom=function(e,t,a){"use strict";function r(t,r,n,i){a.chart.axes[t+"axis"].disableBaseValue=!0;var l=g[t]={};i==_o?l.categories=n:(l.minRange=n[0],l.maxRange=n[1]),e.updateScale(f[r],t,n)}function n(t,a){return t=tt(t,e,c),t=null!=t?t:a}function i(e){return{x:pl(gl(e[0]-m.left,0),m.width),y:pl(gl(e[1]-m.top,0),m.height)}}var l,o,s,c,d=!1,u={},h=e.svg,f=a.seriesdata.chartdata,g=a.chart.zoom,p=2,m=e.plotarea,v=g.selectionArea,y=g.resetButton,x=y.border,b=y.shadow,w=y.label,C=g.type,k=x.show,S=y.x,P=y.y,T=k?x.radius:0,E=null;b.show&&(E=Js.get(rc,"dropShadow",b),E=E?"url("+e.defsLocation+"#"+E+")":null);var L=g.events||{};return u.zmInit=function(){s=zt(h.selectAll(".seriesholder"),"rect",[1],".","class","zmarea"),s.styles({fill:v.fillColor||"grey","fill-opacity":v.fillOpacity,visibility:"hidden"});var t=zt(e.staticPaneSVG.select(".eventgroup"),"rect",[1],".","class","zmbtn"),r=O(x.style,x.size);t.attrs({rx:T,ry:T,filter:E}).styles({fill:y.fillColor,"fill-opacity":y.fillOpacity,stroke:x.color,"stroke-width":k?x.size:0,"stroke-dasharray":r,"stroke-linecap":A(x.lineCap,r),visibility:"hidden",cursor:zl});var i={click:u.reset},l={tap:u.reset};Sr(t,i,l);var o=zt(e.staticPaneSVG.select(".eventgroup"),"text",[1],".","class","zmbtn");o.attr("dy","0.9em").styles({visibility:"hidden","pointer-events":El}).text(w.text),Ht(o,[w,a.chart,a.canvas,{fontColor:"white",fontSize:11,fontFamily:"verdana"},qs]);var d=o.node().getBBox();t.attrs({width:d.width+w.marginLeft+w.marginRight,height:d.height+w.marginTop+w.marginBottom}),c=t.node().getBBox(),S=n(S,m.left+m.width-c.width),P=n(P,10),t.attrs({x:S,y:P}),o.attrs({x:S+w.marginLeft,y:P+w.marginTop})},u.zoomInitialized=!1,u.zmStart=function(a){C=g.type,d=!0,l=i(a);var r={};s.style("visibility","visible");var n=C.indexOf("x")>-1&&!t||C.indexOf("y")>-1&&t,o=C.indexOf("y")>-1&&!t||C.indexOf("x")>-1&&t;n?r.x=l.x:r.width=m.width,o?r.y=l.y:r.height=m.height,s.attrs(r),u.zoomInitialized=!0,tt(!0,L.zoomstart,l,{x:g.x,y:g.y},e)},u.zmMove=function(a){if(C=g.type,d){var r=i(a),n={},c=C.indexOf("x")>-1&&!t||C.indexOf("y")>-1&&t,u=C.indexOf("y")>-1&&!t||C.indexOf("x")>-1&&t;Yn(d3.event)&&(l=i(Vn(e.eventHandler.trackerElement.node(),0)),r=i(Vn(e.eventHandler.trackerElement.node(),1))),o=r,c&&(n.x=(r.x<l.x?r:l).x,n.width=ml(r.x-l.x)),u&&(n.y=(r.y<l.y?r:l).y,n.height=ml(r.y-l.y)),s.attrs(n)}tt(!0,L.zoom,r,{x:g.x,y:g.y},e)},u.zmEnd=function(e){return u.zoomInitialized?(Yn(d3.event)||(o=i(e)),s.attrs({height:0,width:0}).style("visibility","hidden"),d=!1,u.zoomInitialized=!1,{startPt:l,endPt:o}):!1},u.zoomed=function(n,i,l,s){C=g.type;var c=null!=i,d=t?"y":"x",h=t?"x":"y",f=C.indexOf("x")>-1&&(c||ml(n.startPt[d]-n.endPt[d])>p),m=C.indexOf("y")>-1&&(c||ml(n.startPt[h]-n.endPt[h])>p),v=C.indexOf("x")>-1&&(c?l[0]!=l[1]:n.startPt[d]!=n.endPt[d])||C.indexOf("y")>-1&&(c?s[0]!=s[1]:n.startPt[h]!=n.endPt[h]);if(v){if(ar(e,a.chart.axes.events,null,"init"),f){var y=e.dataset.getDataType("x");if(!c){var x=e.axes.x.scale,b=a.chart.axes.xaxis.reversed,w=Ei.scale.invert(y,n.startPt,x,t,"x",b),k=Ei.scale.invert(y,n.endPt,x,t,"x",b);if(w>k){var O=w;w=k,k=O}l=y==_o?x.domain().slice(w,k+1,0):[w,k]}r("x",c?i:0,l,y)}if(m)for(var A=c?i:0,S=c?i+1:e.axes.y.groups.length;S>A;A++){var y=e.dataset.getDataType("y",A);if(!c){var P=e.axes.y.groups[A].scale,b=a.chart.axes.yaxis[A].reversed,T=Ei.scale.invert(y,n.startPt,P,t,"y",b),E=Ei.scale.invert(y,n.endPt,P,t,"y",b);T>E&&(T=T+E-(E=T)),s=y==_o?P.domain().slice(T,E+1,0):[T,E]}r("y",A,s,y)}ar(e,a.chart.axes.events,null,"onreload"),e.updatePlotareaProp(),e.plot.renderer.draw(!0),e.eventHandler.updateParams(e),u.clipMarker||(e.drawPlotareaClippath(),u.clipMarker=!0),e.drawThreshold(!0),e.staticPaneSVG.selectAll(".zmbtn").style("visibility","visible"),tt(!0,L.zoomend,o,{x:g.x,y:g.y},e)}},u.reset=function(){if(delete g.x,delete g.y,ar(e,a.chart.axes.events,null,"init"),C=g.type,C.indexOf("x")>-1&&(a.chart.axes.xaxis.disableBaseValue=!1,e.updateScale(f[0],"x",null)),C.indexOf("y")>-1)for(var t=0;t<e.axes.y.groups.length;t++)a.chart.axes.yaxis.disableBaseValue=!1,e.updateScale(f[t],"y",null);ar(e,a.chart.axes.events,null,"onreload"),e.updatePlotareaProp(),e.plot.renderer.draw(!0),e.eventHandler.updateParams(e),e.drawThreshold(!0);var r=setInterval(function(){e.chartRendered&&(e.drawPlotareaClippath(),u.clipMarker=!1,clearInterval(r))},10);e.staticPaneSVG.selectAll(".zmbtn").style("visibility","hidden"),tt(L.reset,e)},u};var qc=function(e,t){function a(){x=e.dataObject.getAxisRotated(),b=x?"left":"bottom";var r=e.axes.x.scrollScale=Ei.scale.getScale(e,e.dataObject,e.plotarea,b,0,e.dataset,t,null,0),i=f(e,e.plotarea),l=p(r,i);return(w=Math.abs(l-e.plotarea[x?"height":"width"])>=1||z)?(a.initialized,a.component=x?Yo():No(),a.component.on("brush",function(){return e.isBrushing=!0,O&&k?(O=!1,null):(O=k?!0:!1,void a.scrollNrender())}).on("start",function(){k=!1,e.isBrushing=!0;var t=n(d3.event.selection);t[0]===t[1]?a.scrollNrender(!0):k=!1}).on("end",function(){k=!1,O=!1,e.isBrushing=!1}),a.context||(a.context=zt(e.svg,"g",[1],".","class","brush")),void(x?(e.plotarea.width-=P.height||T.scrollHeight,a.context.attr("transform","translate("+(e.plotarea.left+e.plotarea.width)+","+e.plotarea.top+")")):(e.plotarea.bottom+=P.height||T.scrollHeight,e.plotarea.height-=P.height||T.scrollHeight,a.context.attr("transform","translate("+e.plotarea.left+","+(e.plotarea.top+e.plotarea.height)+")")))):void e.svg.selectAll("g.brush").remove()}function r(e){return x?[{x:0,y:e[0]},{x:0,y:e[1]}]:[{x:e[0],y:0},{x:e[1],y:0}]}function n(a){if(y==_o)return[a[0],a[1]];var n=r(a),i=Ei.scale.invert(y,n[0],e.axes.x.scrollScale,x,t),l=Ei.scale.invert(y,n[1],e.axes.x.scrollScale,x,t);return[e.axes.x.scrollScale(i),e.axes.x.scrollScale(l)]}function i(t){var r=n(t),i=a.categoryPosInScreen,l=a.scrollBarLength||p(e.axes.x.scrollScale,i);if(a.scrollBarLength=l,A=O?!1:r[0]===r[1],k=k||A){if(!A){var o=l*(x?-1.5:.5);r[0]+=r[1]-S[1]+o,r[1]=r[0]+l}r[0]-=l/2,r[1]-=l/2,x?(r[0]=r[0]<0?0:r[0],r[1]=r[0]+l,r[1]=r[1]>e.plotarea.height?e.plotarea.height:r[1],r[0]=r[1]-l):(r[0]=r[1]>e.plotarea.width?r[0]-(r[1]-e.plotarea.width):r[0]<0?0:r[0],r[1]=r[0]+l,r[0]=r[0]+l>e.plotarea.width?r[0]-(r[1]-e.plotarea.width):r[0],r[1]=r[0]+l),A&&(S=r)}return r}function l(a){var r,n=Ei.scale.invert(y,a[0],e.axes.x.scrollScale,x,t),i=Ei.scale.invert(y,a[1],e.axes.x.scrollScale,x,t);return r=y==_o?x?e.axes.x.scrollScale.domain().slice(i,n+1,0):e.axes.x.scrollScale.domain().slice(n,i+1,0):[n,i]}function o(){var t,r,n=jt(a.context).translate;x?(t=e.plotarea.left+e.plotarea.width,r=e.plotarea.top):(t=e.plotarea.left,r=n[1]),a.context.attr("transform","translate("+t+","+r+")"),L&&C.styles({left:t+"px",top:r+"px"});var i={};i[x?"width":"height"]=P.height||T.scrollHeight;var l={};s(a.context.selectAll("rect.selection"),P.slider,T.slider,i),s(a.context.selectAll("rect.overlay"),P.tracker,T.tracker,i),s(a.context.selectAll("rect.handle"),P.resizer,T.resizer,l),c()}function s(e,t,a,r){t=t||{},e.styles({visibility:"visible",cursor:t.cursor||a.cursor,fill:t.fillColor||a.fillColor,"fill-opacity":t.fillOpacity,"stroke-opacity":t.strokeOpacity,"stroke-width":t.strokeWidth,stroke:t.strokeColor}).attrs({rx:t.radius,ry:t.radius,opacity:null}).attrs(r)}function c(){var e=P.resizer||{};e.enabled||a.context.selectAll(".handle").remove()}function d(e,t,a){e.axes.x.scrollScale=Ei.scale.getScale(e,e.dataObject,t,b,0,e.dataset,a,null,0)}function u(t,a,r,n){var i=e.axes.x.scrollScale,l=x?t.height:t.width,o=e.dataObject.getCategories("x"),o=o&&o.length?o:e.dataObject.findXCategories(),s=o.length;n=n>s?s:n;var c=i?g(i,n-1,o[n-1]):hl((l-r)/s*n);return c}function h(t,a,r,n){var i=e.axes.x.scrollScale,l=(x?t.height:t.width,ja(n,a)),o=m(e,t,r,l);r=i&&i.bandwidth?Ma(i.range(),o,a,r,l):2*l*r;var o=m(e,t,r,l),s=u(t,a,r,o);return s}function f(e,t){var a,r=(x?t.height:t.width,P.visibleCategories),n=e.chartTypes[0].name,i="gantt"==n||"bullet"==n||"bar"==n?e.systemConf.chart.plot.plotoptions[n].padding||.2:.2,l=e.systemConf.chart.plot.plotoptions[n].outerPadding||.02;return a=r?u(t,i,l,r):h(t,i,l,P.categoryThickness||E)}function g(e,t,a){return e.bandwidth?e.ordinalRange[t]:e(a)}function p(e,t){return e.bandwidth?x?e.range()[0]-t:t+e.bandwidth():x?e.range()[0]-t:t}function m(e,t,a,r){return hl(x?(t.height-a)/r:(t.width-a)/r)}function v(){var t=e.plotarea,a=e.userdata;a.chart.scroll.enabled=!1,a.chart.axes.xaxis.show=!1,a.chart.axes.yaxis[0].show=!1,a.canvas.title.show=!1,a.canvas.subtitle.show=!1,a.chart.plot.renderer?a.chart.plot.renderer.mode="canvas":a.chart.plot?a.chart.plot.renderer={mode:"canvas"}:a.chart.plot={renderer:{mode:"canvas"}},a.chart.marginTop=0,a.chart.marginBottom=0,a.chart.marginLeft=0,a.chart.marginRight=0,a.canvas.intelligence={},a.credits?a.credits.show=!1:null,a.chart.plot.datalabels?a.chart.plot.datalabels.show=!1:null,a.legend.enabled=!1,C=e.container.selectAll("div.zcoverview"),C.styles({position:"absolute",width:t.width+"px",height:+P.height+"px","pointer-events":El,"box-sizing":"border-box"}),Ei.charts(C.node(),a)}var y,x,b,w,C,k,O,A,S,P=e.systemConf.chart.scroll,T={slider:{fillColor:"#B3B6B7",cursor:zl},tracker:{fillColor:"#ECF0F1",cursor:zl},resizer:{fillColor:El},scrollHeight:10},E=15,L=(P.overview||{}).enabled,z=(P.resizer||{}).enabled;return e.isBrushing=null,a.initialize=function(r){if(!w)return void e.svg.selectAll("g.brush").remove();y=e.dataset.getDataType(t),b=x?"left":"bottom",d(e,r,t),a.categoryPosInScreen=f(e,r),a.extent=[];var n=x?"y":"x",i=x?[{y:a.categoryPosInScreen||.01,x:0},{y:r.height,x:0}]:[{x:0,y:0},{x:a.categoryPosInScreen||.01,y:0}];a.setExtent(i),a.initialized=!1,a.context.call(a.component),a.context.call(a.component.move,[i[0][n],i[1][n]]),a.initialized=!0,L&&v(),o()},a.scrollNrender=function(r){a.updateExtentPosition(r),a.initialized&&(e.updateScale(e.seriesdata[0],t,a.extent),e.drawThreshold(!0),e.drawPlotareaClippath(),e.plot.renderer.draw(!0),e.eventHandler.updateParams(e))},a.updateExtentPosition=function(e){var t=i(d3.event.selection),n=x?"y":"x",l=r(t);a.setExtent(l),(e||O)&&(a.context.call(a.component.move,[l[0][n],l[1][n]]),c()),e&&(A=!1)},a.setExtent=function(t){var r=x?[P.height,e.plotarea.height]:[e.plotarea.width,P.height];a.component.extent([[0,0],r]);var n=l(t);a.extent=n},a};_n.initialize=function(e){if(e.isAxisCategory&&(e.systemConf.chart.width||e.systemConf.chart.height)){a?e.scrolledY=e.scrolledY||0:e.scrolledX=e.scrolledX||0;var t=zt(e.container.selectAll(".d3container"),DIV_ELEMENT,[1],".","class","zohocharts_scroll");t.styles({width:100+Tl,height:100+Tl,overflow:"auto",position:"absolute",margin:0,padding:0,"background-color":"rgba(0,0,0,0)","box-sizing":"content-box","-webkit-tap-highlight-color":Ll,"-webkit-overflow-scrolling":"touch"}),zt(t,DIV_ELEMENT,[1],".","class","child").styles({width:200+Tl,height:200+Tl});var a=e.dataObject.getAxisRotated(),r=e.defaultScroll,n=t.node(),i=a?n.offsetWidth-n.clientWidth:n.offsetHeight-n.clientHeight;t.attr("scrollbarSize",i),r||(r=e.defaultScroll={},r.tickmarkSize=+e.systemConf.chart.axes.xaxis.tickmark.size,r.marginRight=+e.systemConf.chart.marginRight),a?(e.plotarea.bottom+=i,e.plotarea.width-=i):e.systemConf.chart.axes.xaxis.tickmark.size=+r.tickmarkSize+i}};var Kc;!function(){Kc=function(e,t){function a(e){i.attr("transform",function(t,a){return"translate("+(d?e[a]:0)+","+(d?0:e[a])+")"})}function r(e){u.initialized=!1,d3.event.selection=e,n.call(u.move,e),u.initialized=!0,t.onBrush(u),a(e)}this.chartObj=e,this.options=t,this.isResizeInitiated=null;var n,i,l,o,s=(t.scale,t.orient),c=t.dimension,d=s===ks||s===Cs,u=this.component=(d?No:Yo)(),h=t.initialExtent,f=[0,c[d?0:1]],g=this,p=t.onClick;u.on("brush",function(){if(g.updateTrackerBound(),u.initialized){var e=d3.event.selection;e[0]===e[1]&&f.indexOf(e[0])>-1?(e=g.resizeFilterRange(e[0],f,!0),r(e)):(a(e),t.onBrush(u),o.show()),h=e,l=d3.event.type}}).on("start",function(){this.isResizeInitiated=!1,l=d3.event.type}).on("end",function(){if(u.initialized){var e=d3.event.selection=d3.event.selection||h,a=d3.event.sourceEvent,i="start"===l;if(i){var s=pr(n.node(),d3.event),c=s[d?0:1];Ks.FIREFOX&&(c-=Wt(n)[d?0:1]),c=pl(gl(c,f[0]),f[1]),e="reposition"===p?g.repositionFilterRange(c,h):g.resizeFilterRange(c,h),r(e),o.show()}else n.node().contains&&n.node().contains(a.srcElement||a.target)||o.hide();t.onEnd(u,i),h=d3.event.selection,l=d3.event.type}}),this.context||(this.context=n=zt(t.element||e.svg,"g",t.brushOptions.enabled?[1]:[],".","class","brush",{"pointer-events":"visible"})),u.initialized=!1,u.extent([[0,0],c]),n.call(u),this.drawSlider(),i=this.slider,a(t.initialExtent),o=this.tooltipComponent=new $c(this),n.call(u.move,t.initialExtent),u.initialized=!0,this.drawTracker(),n.selectAll(RECT_ELEMENT+".selection").style("opacity",0)},Kc.prototype.repositionFilterRange=function(e,t){var a=this.options.scale,r=ml(t[1]-t[0]),n=a.range().sort(oo),i=[e-r/2,e+r/2];return i[1]>n[1]&&(i[1]=n[1]-(a.bandwidth?.1*r:0),i[0]=i[1]-r),i[0]<n[0]&&(i[0]=n[0]+(a.bandwidth?.1*r:0),i[1]=i[0]+r),i},Kc.prototype.resizeFilterRange=function(e,t,a){var r,n=ml(t[0]-e),i=ml(t[1]-e);if(a){var l=5e-5;r=i>n?[t[0],e+l]:[e-l,t[1]]}else r=i>n?[e,t[1]]:[t[0],e];return r.sort(oo)}}(),Kc.prototype.drawSlider=function(){var e=this.chartObj,t=this.options,a=this.context,r=t.orient,n=r===ks||r===Cs,i=t.dimension,l=t.brushOptions.slider,o=l.type,s=n?"":" rotate(-90)",c=this.slider=zt(a,"g",n?[{type:"w"},{type:"e"}]:[{type:"n"},{type:"s"}],".","class","handle--custom");c.attr("cursor",n?"ew-resize":"ns-resize").selectAll("*").remove();var d={container:c,config:l[o],type:o,chartObj:e,isHorizontal:n,bound:i,globalShadow:l.shadow},u=new _c(d);u.draw();var h=u.getPosition();c.selectAll(Zo).attr("transform","translate("+h[0]+","+h[1]+")"+s)},function(){Kc.prototype.drawTracker=function(){var e=this.options,t=this.context,a=e.brushOptions.track;t.selectAll(RECT_ELEMENT+".overlay").styles({fill:a.fillColor,"fill-opacity":a.fillOpacity})},Kc.prototype.updateTrackerBound=function(){var e,t=this.chartObj,a=this.options,r=this.context,n=a.scale,i=a.orient,l=a.dimension,o=r.selectAll(RECT_ELEMENT+".overlay"),s=[0,0],c=l,d=d3.event.selection.slice(),u=i===ks||i===Cs;if(n.bandwidth){var h=n.bandwidth();d[0]-=d[0]%h,d[1]+=h-d[1]%h}else a.singleDomainContinuous&&(d[0]=s[u?0:1],d[1]=c[u?0:1]);e=u?"M"+s[0]+" "+s[1]+"L"+d[0]+" "+s[1]+"L"+d[0]+" "+c[1]+"L"+s[0]+" "+c[1]+"ZM"+d[1]+" "+s[1]+"L"+c[0]+" "+s[1]+"L"+c[0]+" "+c[1]+"L"+d[1]+" "+c[1]+"Z":"M"+s[0]+" "+s[1]+"L"+c[0]+" "+s[1]+"L"+c[0]+" "+d[0]+"L"+s[0]+" "+d[0]+"ZM"+s[0]+" "+d[1]+"L"+c[0]+" "+d[1]+"L"+c[0]+" "+c[1]+"L"+s[0]+" "+c[1]+"Z";var f="zcbrushhighlighttracker",g=r.selectAll("path."+f).data([1]);g.enter().insert("path",":nth-child(2)").merge(g).attr("class",f),g=r.selectAll("path."+f);var p=d[0]+1,m=d[1]-1,v=u?"M"+p+" "+s[1]+"L"+m+" "+s[1]+"L"+m+" "+c[1]+"L"+p+" "+c[1]+"Z":"M"+s[0]+" "+p+"L"+s[0]+" "+m+"L"+c[0]+" "+m+"L"+c[0]+" "+p+"Z";g.attr("d",v).styles({opacity:0,"stroke-width":0});var y={name:"brush",id:t.id,d:e},x={chartObj:t};clipID=Js.get(ic,"polygon",y,x),o.attr("clip-path","url("+t.defsLocation+"#"+clipID+")")}}();var $c;!function(){function e(e){var t=e.options.orient;return t===ks||t===Cs}function t(e){var t=e.systemConf.legend.colorBand,a=t.ranges,n=a&&a.length,i=e.systemConf.legend.filter.range,l=e.axes.clr.scale.domain();if(n){if(e.dataset.getDataType("clr")===_o){var o=i||l;return[o[0],o[o.length-1]]}return i?r(i,a):[a[0],a[a.length-1]]}return i||l}function r(e,t){var a,r,n=[e[0],e[1]+1e-12],i=1===t[0].length;return t.forEach(function(e,t){e[0]<=n[0]&&(a=t),e[1===e.length?0:1]<=n[1]&&(r=t)}),J(a)?a=0:i?a++:null,J(r)?r=t.length-1:null,[t[a],t[r]]}$c=function(e){var t={orient:e.options.orient},a={chartObj:e.chartObj,config:oc(t,e.options.brushOptions.slider.tooltip,!0),container:e.slider},r=this.super=new Yc(a);this.container=r.container,this.boundBoxEle=r.boundBoxEle,this.textEle=r.textEle,this.tooltipOptions=r.config,this.brushComponent=e,this.count=0,this.positionTooltip(),this.addHoverEvents()},$c.prototype.show=function(){var e=this;e.super.show(function(){return e.getTextContent()}),e.brushComponent.chartObj.legend.component.highlightItem(Dl,!1,!0)},$c.prototype.hide=function(e){this.super.hide(e)},$c.prototype.positionTooltip=function(){var e,t,a=this.brushComponent,r=this.tooltipOptions,n=a.options.orient,i=U(a.slider.node()),l=r.padding+r.margin;switch(n){case Cs:e=0,t=i.y-l;break;case ws:e=i.x-l,t=0;break;case bs:e=i.x+i.width+l,t=0;break;case ks:e=0,t=i.y+i.height+l}this.container.attr("transform","translate("+e+","+t+")")},$c.prototype.addHoverEvents=function(){var e=!0,t=this,a={mousemove:function(){var a=Hl(d3.event.srcElement||d3.event.target).attr("class");"overlay"!==a?(t.show(),e=!0):e&&(t.hide(),e=!1)},mouseleave:function(){t.hide(),e=!1}};Sr(t.brushComponent.context,a)},$c.prototype.getTextContent=function(){var r,n,i=this.brushComponent,l=i.chartObj,o=t(l),s=e(i),c=xc.isReversedColorAxis(l),d=l.dataset.getColumn("clr"),u=d.datatype,h=d[u];if(l.dataset.getDataType("clr")===Xo){var f=l.systemConf.legend.colorBand,g=f.ranges&&f.ranges.length;if(!g){var p=l.axes.clr.scale.domain();n=[p[0],p[p.length-1]];var m=ml(n[1]-n[0]);if(m){var v=Math.floor(Math.log(m)/Math.LN10)-2;r=Math.abs(Math.min(v,0))}}}var y=s?this.count:+!this.count;c&&(y=!y);var x=o[y?o.length-1:0];return this.count=!this.count,it(r)&&-1===n.indexOf(x)&&(x=a(x)?x.map(function(e){return+e.toFixed(r)}):+x.toFixed(r)),zr(h,x,u,l,"legend",cl,"-")}}();var Jc="x",ed="y",td="z",ad="per",rd="splitper",nd="maxper",id="percent",ld="splitpercent",od="maxpercent",sd="datalabels",cd="stackLabels",dd="innerLabel",ud="parentLabels";Ei.labelRenderer=function(){},Ei.labelRenderer.drawLabelsFromQueue=function(e,t,a){if(a.labelHandler=null,"image"!==a.plot.renderer.mode){var r=a.dataObject;if(a.isAxisCategory){var n=function(){var e=r.groupedByStack;e.keys().forEach(function(t,n){var i=e.get(t),l=i.stackLabelIndex;if((r.noofBarEnabledSeries||r.isCombinationalChart)&&null!=l){var o={renderer:a.renderer[l],chartObj:a,args:[{data:[i.stackExtent]},l,cd,n],charttype:Ls};Ei.labelRenderer.drawLabel(o)}})};n()}e.forEach(function(e){Ei.labelRenderer.drawLabel(e)});var i=Un(a),l=t.length,o={x1:i.left,y1:i.top,x2:i.right,y2:i.bottom},s=function(){var e=r.isContinousChart;t=e?t.sort(function(e,t){return oo(e.x1,t.x1)}):t;for(var a=1;l>a;a++){var n,i,s,c=0,d=!1,u=0,h=t[a].pointRadius||0,f=t[a].x1,g=t[a].y1,p=t[a].x2,m=t[a].y2,v=t[a].x2-t[a].x1,y=t[a].y2-t[a].y1,x=t.slice(0,a);x=e?x.reverse():x;do{switch(u){case 0:n=t[a],i="hidden"===n.overlap||r.isBubbleEnabled;break;case 1:n.y1=g-y/2,n.y2=m-y/2,s=Cs;break;case 2:n.x1=(f+p)/2+h,n.x2=(f+p)/2+h+v,n.y1=m+1,n.y2=m+y+1,s=bs;break;case 3:n.x1=f,n.x2=p,n.y1=m+2*(h+1),n.y2=m+2*(h+1)+y,s=ks;break;case 4:n.x1=(f+p)/2-h-v,n.x2=(f+p)/2-h,n.y1=m+1,n.y2=m+y+1,s=ws}for(var b=a-1;b>=0;b--)if(d=ci(x[b],n)){c++;break}}while(++u<5&&d);if(0!=c){var w=r.isPolarAxisCategory?!0:di(n,o),C=t[a].translateFunction,k=t[a].id,O=t[a].isStackedLabels;if(!w||5==c||i)C(k,null,null,!0,cl,cl,O?cd:sd),t[a].x1=t[a].y1=t[a].x2=t[a].y2=0;else{var A=n.x1-f,S=n.y1-g;C(k,A,S,null,void 0,s,O?cd:sd)}}}},c=function(){var e=r.getAxisRotated();t.sort(function(t,a){return e?so(t.y1,a.y1):oo(t.x1,a.x1)});for(var a=0;l>a;a++){for(var n=!1,i=0,s=0,c=t[a].x1,d=t[a].y1,u=t[a],h=t.slice(0,a).sort(function(t,a){return e?so(t.x1,a.x1):oo(t.y1,a.y1)}),f="hidden"===u.overlap,g=a-1;g>=0&&2>i;g--){var p=ci(h[g],u);p&&(e?(s=h[g].x2-u.x1,u.x2+=s,u.x1+=s):(s=h[g].y1-u.y2,u.y2+=s,u.y1+=s),i++),n=n||p}if(n){var m=di(u,o),v=t[a].translateFunction,y=t[a].id,x=t[a].isStackedLabels;if(!m||i>1||f)v(y,null,null,!0,cl,cl,x?cd:sd),t[a].x1=t[a].y1=t[a].x2=t[a].y2=0;else{var b=u.x1-c,w=u.y1-d;v(y,b,w,cl,cl,cl,x?cd:sd)}}}},d=function(){if(l){var r,n,i,o=[],s=[],c=t.TOP,d=t.BOTTOM,u=0,h=0,f=[],g=[],p=0,m=0,v=0,y=0;t.forEach(function(e){var t=e.isLeft;if(t){var a=Pi(e,i,c,d,r,s,h,y,!0);i=a.totalslot,r=a.prev,h=a.count,y=a.need}else{var a=Pi(e,i,c,d,n,o,u,v);i=a.totalslot,n=a.prev,u=a.count,v=a.need}}),v||y?("funnel"===t.actualType&&o.reverse(),p=Si(o,p,f,c),s.reverse(),m=Si(s,m,g,c),Ai(f,c,i,p),Ai(g,c,i,m),t.forEach(function(e){a.labelHandler.update(e.id,e.DX,e.translate||0,e.hide,void 0,e.overlappingHookPosition)}),e.forEach(function(e){var t=e.args[1],r=a.labelHandler.getQueue(t);r&&r.properties&&r.properties.onOverlap&&r.properties.onOverlap()})):(e.forEach(function(e){var t=e.args[1],r=a.labelHandler.getQueue(t);r&&r.properties&&r.properties.onNonOverlap&&r.properties.onNonOverlap()}),t.forEach(function(e){a.labelHandler.update(e.id,0,0,null,e.actualDY)}))}};if((r.isCombinationalChart||r.isContinousChart||r.isPolarAxisCategory?s:r.noofBarEnabledSeries?c:d)(),a.staticPaneSVG.select(".temp_label").remove(),a.labelHandler){var u=a.staticPaneSVG.selectAll("g.labelholder"),h=a.plot.renderer.mode;e.forEach(function(e){var t=e.args[1],n=r.isAxisCategory?e.args[3]:null,i=/(pieInnerLabels|funnelInnerLabels)/.test(e.charttype),l="pieInnerLabels"===e.charttype&&ur(a.chartTypes[t].value)&&e.args[e.args.length-1]?ud:i?dd:sd,o=a.labelHandler.getQueue(t,n,l),s=al[h]().args(o);u.call(s,t,l)}),a.labelHandler.draw()}}},Ei.labelRenderer.drawLabel=function(e){var t=e.chartObj,a=e.renderer,r=e.charttype,n=e.args,i=t.staticPaneSVG.selectAll("g.labelholder"),l=t.labelHandler;
t.labelHandler||(l=t.labelHandler=tl.initialize(t),l.chartType=r);var o=Ei.labelRenderer[r]();o.renderer(a).args(n),i.call(o,l)},Ei.labelRenderer.bar=function(){function e(e,s){e.each(function(){function e(){if(Q===_o){var e=b.domain();return b(e[e.length-1])+b.bandwidth()/2}var t=p.dataObject.rangeCorrections.datalabels,a=[0],r=n?X?1:-1:X?-1:1;for(var i in t)i.indexOf("y")>-1&&a.push(t[i]);return b(b.domain()[1])+Vl(a)*r}var c,d=r[0],u=r[1],h=r[2]||sd,f=a.commonRendererProp().params,g=d.plotoptions,p=f.chartObj,m=p.systemConf,v=f.commonPlotOptions,y=f.dataset,x=f.stacked,b=f.yscale,w=f.yaxiscolumnorder,C=f.labelArray,k=h===cd,O="canvas"===p.plot.renderer.mode;n=f.axisrotated,c=li(v,k?Dl:g,p,u),k&&(c=c.stackLabels);var A=k?hi(c,p):ui(c,p);if(!d.disabled&&A){var S=Un(p),P=c.textOverlap,T=Ei.labelRenderer.bar.getVAlign(p,u,h),E=c.showZeros,L=ya(v,p),z=S.left,D=S.top,R=S.right,j=S.bottom,M=p.svg.node().getBoundingClientRect(),I=M.left+p.plotarea.left,H=M.top+p.plotarea.top,B=.75*(n?p.plotarea.width:p.plotarea.height),F=vi(p,f,c,h,Dl,u),V=F.contentType||"text",N="html"===V&&F.multiLine,Y=T===Os,_=o.isCatNull(y,"x"),W=o.isCatNull(y,"y",w),X=m.chart.axes.yaxis[w||0].reversed,G=p.barscale2.bandwidth()||0,Z=ni(c,p),Q=p.dataset.getDataType("y",w);if(!Y||p.dataObject.rangeCorrections.datalabels["y"+w]){var q=0,K=0,$=0,J=0,tt=0;if(qn(c,p)){var at=Qn(c,p),nt=ei(at.hook);q=Kn(c,p),K=$n(c,p),$=x||T===Es?0:nt.height,J=nt.width,tt=at.radius}var lt="clip"===P,ot=m.chart.plot.datalabels.handleOverlapping&&P!==El,st=gl(0,rt(c.padding,2))+q+$+(Y&&K?K/2-1:0),ct=Y&&e();st=st>B?B:st,i=c.textDirection,i=!i||x&&!k?n?As:Ss:i,l=n?i==Ss?90:0:i==Ss?0:270;var dt=a.commonOption,ut=function(){return p.dataObject.getTransRectValue.apply(p.dataObject,et(arguments))},ht=zt(p.staticPaneSVG.select(".labelholder"),Uo,[1],".","class","temp_label"),ft=s.update,gt=s.add;d.data.forEach(function(e,r){var o=a.seriesdataAfterUpdate&&!k?a.seriesdataAfterUpdate[r]:d.data[r];k&&Y&&b.domain()[0]<0&&(o=t(o));var s=[];oi(ht,c,p,f.color,!1,u),ht.styles({fill:Ll}),o.forEach(function(e,t){var a,o=Dl,d=X?-1:1,h=k?e[1]<0:y.getY(e,w)<0;ht[V](function(){if(k){{var t=e[1];e[0]}a=E||0!=t?F(e):Dl}else a=_(y.getX(e))||W(y.getY(e,w))||!E&&0==y.getY(e,w)?Dl:F(e);return a}),N&&bi(ht,0);var f,g,m,v,A,S;o=U(ht.node());var L=0,M=0;if(k){var B=dt.bandwidth1(e[0])+dt.bandwidth2(dt.stackGroupIndex)+dt.levelMarkerPadding,Q=b(e[2]||e[1]);f=n?Q:B,g=n?B:Q,n?i==Ss?(f+=(h?-st:st)*d,m=X?h?"-0.3em":"1em":h?"1em":"-0.3em"):(g+=G/2,m="0.3em",Y?(f=ct+st*d+(N?0:0)*d,v=X?"end":Dl):(f+=(h?-st:st)*d,v=X?h?Dl:"end":h?"end":Dl,N&&(f+=o.width/2*(h?-1:1)*d))):(f+=G/2,g+=(h?st:-st)*d,i==As?(m="0.3em",v=X?h?Dl:"end":h?"end":Dl):(v="middle",Y?(g=ct-st*d,m=X?"1em":"-0.3em"):m=X?h?"-0.3em":"1em":h?"1em":"-0.3em"))}else{var et=o,B=ut("x",e,r,t,dt)||0,Q=ut("y",e,r,t,dt)||0,at=ut("width",e,r,t,dt)||0,rt=ut("height",e,r,t,dt)||0,nt=lt;if(f=B,g=Q,n)x?(g+=rt/2,m="0.3em",T==Es?(f+=at/2*d,v="middle"):T==ks?(f+=(h?st:at-st)*d,v=X?h?"end":Dl:h?Dl:"end",N&&!Y&&(f+=et.width/2*(h?1:-1)*d)):(f+=(h?at-st:st)*d,v=X?h?Dl:"end":h?"end":Dl,N&&!Y&&(f+=et.width/2*(h?-1:1)*d))):i==As?(M=Jn(o.height,q,tt,J),g+=rt/2+M/2,m="0.3em",nt=nt&&T!=ks&&et.width>at,A=X?h?bs:ws:h?ws:bs,Y?(v=X?"end":Dl,f=ct+st*d+(N?0:0)*d,A=X?ws:bs):nt?T==Cs?f+=X?h?-at+st:-at:h?0:st:T==Es&&(f+=X?-at+q:q):(v=X?h?Dl:"end":h?"end":Dl,T==Es?(f+=(et.width>at?h?at:0:at/2)*d,v=et.width>at?v:"middle"):f+=T==ks?(h?-st:at+st)*d:(h?at-st:st)*d,!N||T===Es&&et.width<=at||(f+=(h?-o.width/2:o.width/2)*d))):(L=Jn(o.width,q,tt,J),m=X?h?"-0.3em":"1em":h?"1em":"-0.3em",nt=nt&&et.width>rt,A=X?h?Cs:ks:h?ks:Cs,T==Es?(et.height>at?N?(f+=(X?h?at:0:h?0:at)*d,f+=X?et.height/2*(h?1:-1):0):f+=(X?h?0:at:h?at:0)*d:f+=at/2*d,m=et.height>at?m:"0.3em"):f+=T==ks?(h?-st:at+st)*d:(h?at-st:st)*d,nt?(f+=L/2,g+=q):(g+=rt/2,v="middle",T==Es&&(m="0.3em")));else if(x)f+=at/2,v="middle",T==Es?(g+=rt/2*d,m="0.3em"):T==ks?(g+=(h?rt-st:st)*d,m=X?h?"1em":"-0.3em":h?"-0.3em":"1em"):(g+=(h?st:rt-st)*d,m=X?h?"-0.3em":"1em":h?"1em":"-0.3em");else if(i==As){M=Jn(o.height,q,tt,J);var gt=!X&&h||X&&!h?et.width:0;nt=nt&&T!=ks&&et.width+st>rt,m="0.3em",A=X?h?bs:ws:h?ws:bs,nt?(f+=at/2,g+=T==Es?X?q:rt-q:X?h?-st:0:rt+(h?0:-st)):(f+=at/2,T==Es?(g+=et.width>rt?N?(h?o.width/2:rt-o.width/2)*d:(h?0:rt)*d+gt:rt/2*d,v=et.width>rt?Dl:"middle"):T==ks?(g+=(h?rt+st:-st)*d+gt,N&&(g-=o.width/2)):(g+=(h?st:rt-st)*d+gt,N&&(g-=o.width/2)))}else L=Jn(o.width,q,tt,J),nt=nt&&et.width+2*q>at,m=X?h?"-0.3em":"1em":h?"1em":"-0.3em",A=X?h?Cs:ks:h?ks:Cs,Y?(g=ct-st*d,A=X?ks:Cs,m=X?"1em":"-0.3em"):T==Es?(g+=(et.height<rt?rt/2:h?0:rt)*d,m=et.height<rt?"0.3em":m):g+=T==ks?(h?rt+st:-st)*d:(h?st:rt-st)*d,nt?f+=q:(f+=at/2,v="middle")}if(N){m=parseFloat(m);var pt=1.1*(c.showAs.length-1);m===-.3?(S=m,m-=pt):.3===m&&(S=m,m-=pt/2),m+="em",nt||Y||(v="middle")}if(ht.attrs({x:f,y:g,dy:m,"text-anchor":v,transform:"rotate("+l+" "+f+" "+g+")"}),Y&&jt!==!1){var mt=aa(it(c.maxWidth)?c.maxWidth:"30%",p.plotarea.width);if("html"===V){bi(ht,f);var vt=U(ht.node()),yt={left:vt.x,top:vt.y,right:vt.x+mt,bottom:vt.y+vt.height},xt=(vt.width,Ci(ht,Z));wi(ht,p,[0,0],0,yt,xt),a=ht.html()}else{var vt=U(ht.node()),yt={left:vt.x,top:vt.y,right:vt.x+mt,bottom:vt.y+vt.height};gi(ht,p,[0,0],0,yt),a=ht.text()}}var bt=0,wt=0,Ct=0,kt=0;if(A=T===Es?Dl:A,n?kt=(i===Ss?L:M)/2:Ct=(i===Ss?L:M)/2,!lt){N&&bi(ht,f);var Ot=q+K/2,At=0,St=0,et=ht.node().getBoundingClientRect(),Pt=et.left-I-Ot-Ct-At,Tt=Pt+et.width+2*Ot+2*Ct,Et=et.top-H-Ot-kt-St,Lt=Et+et.height+2*Ot+2*kt,zt=f+(z>Pt?z-Pt:Tt>R?-(Tt-R):0);zt==f||Y&&n||(bt=zt-f,f=zt);var Dt=g+(D>Et?D-Et:Lt>j?-(Lt-j):0);Dt==g||Y&&!n||(wt=Dt-g,g=Dt)}var Rt=ha(y.getClr(e),p),jt=k||Rt;if(ot)if(x&&!k){ht.attrs({x:f,y:g}),N&&bi(ht,f),o=U(ht.node());var B=ut("x",e,r,t,dt)||0,Q=ut("y",e,r,t,dt)||0,rt=ut("height",e,r,t,dt)||0,at=ut("width",e,r,t,dt)||0;X&&(n?B-=at:Q-=rt);var Mt={x1:o.x-q,y1:o.y-q,x2:o.x+o.width+q,y2:o.y+o.height+q},It={x1:B,y1:Q,x2:B+at,y2:Q+rt},Ht=di(Mt,It);Ht||(jt=!1)}else if(!lt||k){N&&bi(ht,f);var et=ht.node().getBoundingClientRect(),Bt=et.left-I,Ft=et.top-H,Vt={id:"lbl"+u+"_"+r+"_"+t,translateFunction:ft,isStackedLabels:k,x1:Bt-q+bt-Ct,y1:Ft-q+wt-kt,x2:Bt+et.width+q+bt+(l?$+2*K:0)+Ct,y2:Ft+et.height+q+wt+(l?0:$+2*K)+kt,overlap:Y&&"hidden"!==P&&P!==El?"hidden":P};C.push(Vt)}else{if(i!=Ss){var Nt=ut(n?"width":"height",e,r,t,dt)||0;at=T==ks?o.width:Nt-(T==Cs?st+q:2*q)}else at=G-2*q;o.width=pl(at,o.width)}var Yt={X:f,Y:g,DY:m,ANCHOR:v,text:a,display:jt,height:o.height+M,width:o.width+L,hookPosition:A,adjustVal:i===Ss?n?wt:bt:Dl};void 0!==S&&(Yt.actualDY=S),O&&"html"===V&&(Yt.tspanInfo=Ci(ht,Z)),s.push(Yt)}),s.dataUpdate=o;var h=gt(s,u,r,Dl,k?cd:Dl);h.properties={type:Ls,dataLabels:c,rotation:l,color:f.color,dataUpdate:o,showlabel:A,multiColoring:L,textDirection:i,rp:f,contentType:V,isMultiLine:N}})}}})}function t(e){var t=ro();return e.filter(function(e){var a=e[0];return t.has(a)?!1:(t.add(a),!0)})}var a,r,n,i,l,o=Ei.DataProcessor.helpers;return e.renderer=function(t){return arguments.length?(a=t,e):a},e.args=function(t){return arguments.length?(r=t,e):r},e},Ei.labelRenderer.bar.getVAlign=function(e,t,a){if(e.dataObject.noofBarEnabledSeries){var r=a===cd,n=e.systemConf.chart.plot.plotoptions[e.chartTypes[t].name],i=li(n,r?Dl:e.seriesdata[t].plotoptions,e,t);r&&(i=i.stackLabels);var l=e.dataObject,o=l.getAxisRotated(),s=l.isstacked(),c=i.labelPos||ks,d=i.textDirection,u=r?hi(i,e):ui(i,e);return u?(d=!d||s&&!r?o?As:Ss:d,a===sd&&c===Os&&(s||o&&d!==As||!o&&d===As)&&(c=ks),c):void 0}},Ei.labelRenderer.pie=function(){function e(e,c){e.each(function(){var e=n[0],d=n[2],u=n[3],h=n[4],f=n[5],g="translate("+n[8][0]+","+n[8][1]+")",p=n[9]||{},m=r.commonRendererProp().params;o=m.chartObj,s=o.dataset;var v,y=o.systemConf,x=m.commonPlotOptions,b=m.labelArray,w=m.datasetIndex||n[1]||0,C=(r.plotarea?r.plotarea():o.plotarea).height;l=ur(o.chartTypes[w].value),e=e[w],i=n[6];var k,O,A,S,P=y.chart.plot.datalabels.handleOverlapping===!0,T=e.plotoptions,v=li(x,T,o,w);if(S=ui(v,o),!e.disabled&&S){var E=v.type,L=v.line,z=vi(o,m,v,sd,h,w),D=z.contentType||"text",R="html"===D,j=R&&z.multiLine,M=0,I=0,H=0,B=0;if(qn(v,o)){var F=Qn(v,o),V=ei(F.hook);M=Kn(v,o),I=M+$n(v,o)+V.height,H=V.width,B=F.radius}S=S?E:"hidden",k=(p.padding||+(v.padding||0))+I,A=ni(v,o),O=+(Ei.utils.getValueOfPlotOptions(T,x)("outerPadding")||0),r.autoLabelDone=!1,r.showlabel=S,r.lineStrokeWidth=rt(L.strokeWidth,1);var N=zt(o.staticPaneSVG.select(".labelholder"),"text",[1],".","class","temp_label");N.attr("transform",g);var Y=c.add;(l?e:e.data).forEach(function(e,s){var c=r.seriesdataAfterUpdate?r.seriesdataAfterUpdate[s]:l?e:d,h=[];oi(N,v,o,m.color),N.style("fill",Ll),c.forEach(function(e,n){var i,o=null,c=!t(e),d=0,g=a(e),p=0>g||g>Sl,m="doubleside"==S?0>g||g>Sl?-(u+k):u+k:f.centroid(e)[0],v=f.centroid(e)[1]+gl(0,A-O-10-(u+f.centroid(e)[1])),y=j?"middle":p?"end":"start",x=j?"0.9em":"circular"==S&&g>Sl/2&&3*Sl/2>g?ra(g)+"em":"0.3em",C=x,T=e.data,E=l?0==e.depth:t(e);if(i=E?null:z(T),N[D](i).attrs({x:m,y:v,dy:x,"text-anchor":y}),c&&j){bi(N,m);var o=U(N.node());if("circular"==S){var L=Ul().range([-1,0]).domain(Sl>g?[0,Sl]:[2*Sl,Sl]);v+=L(g)*o.height,m+=(g>0&&Sl>g?.5:g>Sl&&2*Sl>g?-.5:0)*o.width}else v-=.5*o.height,m-=o.width/2*(p?1:-1);N.attr("y",v),bi(N,m)}if(P){r.showlabel="auto";var F=5,V=10;if(j||(x="0.3em",N.attr("dy",x)),c){o=U(N.node()),d=Jn(o.height,M,B,H);var Y=p?-(u+k+V):u+k+V;j&&(Y+=o.width/2*(p?-1:1));var _={id:"lbl"+w+"_"+s+"_"+n,x1:o.x-I,x2:o.x+o.width+I,y1:o.y-F-I-d/2,y2:o.y+o.height+F+I+d/2,isLeft:p,actualDY:C,DX:Y-m,overlappingHookPosition:p?ws:bs};b.push(_)}}else o=U(N.node()),d=Jn(o.height,M,B,H);var W={X:m,Y:v,DY:x,ANCHOR:y,text:i,display:c,ID:"lbl"+w+"_"+s+"_"+n,width:c?o.width:0,height:c?o.height+d:0,hookPosition:"circular"===S?null:p?ws:bs};R&&(W.isLeft=p),h.push(W)});var p=Y(h,w,s);p.properties={type:Vs,dataLabels:v,dataUpdate:c,showlabel:r.showlabel,rp:m,translation:g,trans:n[8],txtHgt:A,isSunburst:l,connectorPath:function(e){var t=a(e),r="M "+i.centroid(e)[0]+" "+i.centroid(e)[1]+" L"+f.centroid(e)[0]+" "+f.centroid(e)[1];return r+" L"+f.centroid(e)[0]+" "+f.centroid(e)[1]+" L"+(0>t||t>Sl?-(u+k-I):u+k-I)+" "+f.centroid(e)[1]},onNonOverlap:function(){p.properties.showlabel=r.showlabel=S,r.autoLabelDone=!0},onOverlap:function(){p.properties.connectorPath=function(e,t){var r=10,n=a(e),l=gl(0,A-O-10-(u+f.centroid(e)[1])),o=f.centroid(e)[1]+l,s=0>n||n>Sl?-1:1,c=p[0][t].Y+(j?p[0][t].height/2:0),d=c-o?(u+k-I+r)*s:f.centroid(e)[0],h=f.centroid(e)[1],g=(u+k-I+r)*s,m=c,v="M "+i.centroid(e)[0]+" "+i.centroid(e)[1]+" Q "+d+" "+h+" "+g+" "+m;return v}},contentType:D,isMultiLine:j},b.TOP=-n[8][1],b.BOTTOM=C-n[8][1]})}})}function t(e){var t=ha(s.getClr(l?e:e.data),o);return!t||(l?null==e.parent||0==e.value:0==e.value)}function a(e){var t=l?i.startAngle()(e):e.startAngle,a=l?i.endAngle()(e):e.endAngle;return(t+a)/2}var r,n,i,l,o,s;return e.renderer=function(t){return arguments.length?(r=t,e):r},e.args=function(t){return arguments.length?(n=t,e):n},e},Ei.labelRenderer.dial=function(){function e(e,r,n){e.each(function(){var e=a[0],i=a[1],l=t.commonRendererProp().params,o=l.chartObj,s=l.commonPlotOptions,c=l.color,d=e.plotoptions,u=o.plotarea_approx,h=o.axes.y.groups[0].scale.domain(),f=li(s,d,o,i),g=ui(f,o),p=vi(o,l,f,sd,h[1]-h[0],0),m=p.contentType||"text",v="html"===m&&p.multiLine;if(g){var y=qn(f,o)?Kn(f,o)+$n(f,o):0,x=zt(o.staticPaneSVG.select(".labelholder"),"text",[1],".","class","temp_label");oi(x,f,o,c[0]),x.style("fill",Ll);var b=[o.userdata.seriesdata.chartdata[0].data[0][0]],w=[],C=0;if(b.forEach(function(e,t){var a="middle",r=v?"0.9em":"-.3em",n=p(e),l=!0;x[m](n).attrs({x:d,dy:r,"text-anchor":a});var c=U(x.node()),d=it(f.x)?tt(f.x,e,o,c):u.x,h=it(f.y)?tt(f.y,e,o,c):u.y+(s.needle.show?c.height+(+f.padding||0)+(+s.needle.width/2||7)+y:c.height/2);v&&(it(f.y)||(h-=c.height),bi(x,d),c=U(x.node()));var g={X:d,Y:h,DY:r,ANCHOR:a,text:n,display:l,ID:"lbl"+i+"_"+C+"_"+t,width:c.width,height:c.height};w.push(g)}),n){var k=w[0],O=zt(n,"text",g?b:[]);oi(O,f,o,c[0]),O[m](k.text).attrs({"text-anchor":k.ANCHOR,dy:k.DY,transform:"translate("+k.X+","+k.Y+")"}),v&&bi(x,k.X)}else{var A=r.add,S=A(w,i,C);S.properties={type:Ns,dataLabels:f,dataUpdate:b,showlabel:g,rp:l,contentType:m,isMultiLine:v}}}})}var t,a;return e.renderer=function(a){return arguments.length?(t=a,e):t},e.args=function(t){return arguments.length?(a=t,e):a},e},Ei.labelRenderer.funnel=function(){function e(e,n){e.each(function(){function e(e){var t=h[Z-1-e],a=ha(O.getClr(t),w);return t.disabled||!O.getY(t,A)||!a}function i(e){switch(X){case"singleside":return!1;case"doubleside":return e%2==0;case"strokeddoubleside":return e>=f/2}}function l(e,t){return i(t)?e.leftx+H:e.rightx-H}function o(e,t,a){var r=i(t);return G&&"overlap"!=s?r?e.leftx-D:e.rightx+D:(a=it(a)?a:H,r?0-a:y+a)}var s,c,d=a[0],u=a[1],h=a[2],f=a[3],g=a[4],p=a[5],m=a[6],v=a[7],y=m.width,x=m.height,b=t.commonRendererProp().params,w=b.chartObj,C=w.systemConf,k=b.commonPlotOptions,O=b.dataset,A=b.yaxiscolumnorder,S=b.labelArray,P=w.chartTypes[0].name,T=w.svg.selectAll("g."+P+"group").attr("transform"),E=P===_s;d=d[u];var L=d.plotoptions,z=0,D=0,R=0,j=0;if(c=li(k,L,w,u),qn(c,w)){var M=Qn(c,w),I=ei(M.hook);z=Kn(c,w),D=z+$n(c,w)+I.height,R=I.width,j=M.radius}var H=m.datalabelPadding||+c.padding||0,B=c.type,F=C.chart.plot.datalabels.handleOverlapping===!0,V=ni(c,w),N=vi(w,b,c,sd,p,u),Y=N.contentType||"text",_="html"===Y,W=_&&N.multiLine,X=ui(c,w),G=c.relativeX===!0;if(X){X=X?B:"hidden";var Z=h.length,Q=jt(w.svg.selectAll("g."+P+"group")).translate,q=0,K=zt(w.staticPaneSVG.select(".labelholder"),"text",[1],".","class","temp_label");oi(K,c,w,b.color),K.attr("transform",T).style("fill",Ll);var $=n.add;d.data.forEach(function(t,a){var n=v,d=[];n.forEach(function(t,n){var l,s=!e(n),c=i(q),f=0,p=o(t,q)+(c?-D:D),m=E&&c?t.leftY:gl(t.y,V-g-t.y),v=W?"middle":c?"end":null,x=W?"0.9em":"0.3em",b=t.data=h[Z-1-n],w=N(b);if(K[Y](w).attrs({x:p,y:m,"text-anchor":v,dy:x}),s&&W){bi(K,p);var l=U(K.node());m-=l.height/2,p+=l.width/2*(c?-1:1),bi(K,p),K.attr("y",m)}if(F){if(s){l=U(K.node()),f=Jn(l.height,z,j,R);var C=c?-(0+H+D):y+H+D;W&&(C+=l.width/2*(c?-1:1));var k={id:"lbl"+u+"_"+a+"_"+n,x1:l.x-D,x2:l.x+l.width+D,y1:l.y-r-D-f/2,isLeft:c,y2:l.y+l.height+r+D+f/2,DX:C-p};S.push(k)}}else l=U(K.node()),f=Jn(l.height,z,j,R);var O={X:p,Y:m,ANCHOR:v,DY:x,text:w,display:s,ID:"lbl"+u+"_"+a+"_"+n,width:s?l.width:0,height:s?l.height+f:0,hookPosition:c?ws:bs};_&&(O.isLeft=c),d.push(O),q+=s?1:0}),q=-1;var f=$(d,u,a);f.properties={type:Vs,dataLabels:c,dataUpdate:n,showlabel:X,rp:b,translation:T,trans:Q,txtHgt:V,connectorPath:function(t,a){q+=e(a)?0:1;var r=f[0][a].Y+(W?f[0][a].height/2:0),n=E&&i(q)?t.leftY:t.y;return"M"+l(t,q)+" "+n+" L"+o(t,q,0)+" "+n+" L"+o(t,q)+" "+r},reverseColor:!0,onOverlap:function(){s="overlap"},contentType:Y,isMultiLine:W},S.TOP=-Q[1],S.BOTTOM=x+Q[1],S.actualType=Ys})}})}var t,a,r=5;return e.renderer=function(a){return arguments.length?(t=a,e):t},e.args=function(t){return arguments.length?(a=t,e):a},e},Ei.labelRenderer.scatter=function(){function e(e,i){e.each(function(){var e,l=r[0],o=r[1],s=r[2]||0,c=r[3],d=[0,0],u=l.plotoptions,h=a.commonRendererProp().params,f=h.chartObj,g=f.systemConf,p=h.commonPlotOptions,m=h.dataset,v=h.stacked,y=h.axisrotated,x=h.yaxiscolumnorder,b=h.xscale,w=h.yscale,C=h.labelArray,k=f.chartTypes[o].value,O=f.chartTypes[o].name==Ms,A="canvas"===f.plot.renderer.mode,S=or(k),P=k==Ei.charttype.bubble,T=k==Ei.charttype.bubblepie,E=f.dataObject.isPolarAxisCategory;e=li(p,u,f,o);var L=ui(e,f);if(!l.disabled&&L){var z=Un(f),D=0,R=0,j=0,M=0,I=0,H=t(e,f);if(qn(e,f)){var B=Qn(e,f),F=ei(B.hook);D=Kn(e,f),R=$n(e,f),j=F.height,M=F.width,I=B.radius}var V=P?0:gl(0,+(e.padding||0))+D+j,N=e.textOverlap,Y=g.chart.plot.datalabels.handleOverlapping===!0,_=S?ya(p,f):!1,W=z.left,X=z.top,G=z.right,Z=z.bottom,Q=W+H.left,q=X+H.top,K=G-H.right,$=(Z-H.bottom,vi(f,h,e,sd,null,o,c)),J=$.contentType||"text",et="html"===J&&$.multiLine,tt=n.isCatNull(m,"x"),at=n.isCatNull(m,"y",x),rt=ni(e,f),nt=oi(null,e,f,h.color,!1,o),it=zt(f.staticPaneSVG.select(".labelholder"),"text",[1],".","class","temp_label"),lt=i.update,ot=i.add;l.data.forEach(function(t,r){var n=a.seriesdataAfterUpdate?a.seriesdataAfterUpdate[r]:l.data[r],i=[];oi(it,e,f,h.color,!1,o),it.styles({fill:Ll}),n.forEach(function(t,a){var n,l,u=f.dataObject.getXYvalue(y,v,b,w,x,t,"x",null,c),g=f.dataObject.getXYvalue(y,v,b,w,x,t,"y",null,c),p=P||T?f.dataObject.getXYvalue(y,v,b,w,x,t,"z",f.zscale):null,k=ha(m.getClr(t),f),S=null,L=null,z=null,H=null,B=k&&!t.disabled,F="",_=et?"0.9em":P?"0.3em":"-0.3em",ot="middle",st=P?null:Cs,ct=0,dt=0;if(T){var ut=Xc.getKey(t,o,f),ht=f.subrenderer[r][ut],ft=ht.data[o];n=(ft.startAngle+ft.endAngle)/2;var gt=p/2+V,l=Jt(gt,n);_=et?"0.9em":n>Sl/2&&3*Sl/2>n?ra(n)+"em":"0",ot=0>n||n>Sl?"end":"start",$=vi(f,h,e,sd,ht.total,o,c)}it[J](function(){return z=t.isDummy||tt(m.getX(t))||at(m.getY(t,x,c))?null:$(t)}).styles({display:function(){if(E)return null;var e=u,t=g,a=W>e||e>G||X>t||t>Z;return a?(B=!1,El):null}}).attrs({transform:null,dy:_,x:function(){return S=T?u+l[0]:u,S||0},y:function(){var e=(P?0:s)/2;return L=T?g+l[1]:g+(e+V)*(O&&!c?1:-1),L||0},"text-anchor":ot}),F="lbl"+o+"_"+r+"_"+a+"_"+c;var pt;if(et){if(bi(it,S),pt=U(it.node()),T){var mt=Ul().range([-1,0]).domain(Sl>n?[0,Sl]:[2*Sl,Sl]);L+=mt(n)*pt.height,bi(it,S)}else L-=P?pt.height/2:pt.height;it.attr("y",L),pt=U(it.node())}else"html"===J?pt=U(it.node()):(pt=Ga(z,rt,ii(e,f),null,null,nt["font-style"],nt["font-weight"]),pt.x=S-("middle"===ot?pt.width/2:"end"===ot?pt.width:0),pt.y=L-pt.height);var vt=0;if(!E){vt=Jn(pt.width,D,I,M);var yt=D+R/2+vt/2,xt=0,bt=it,wt=pt.x-yt,Ct=wt+pt.width+xt+2*yt,kt=S+(Q>wt?Q-wt:Ct>K?-(Ct-K):0);(ct=kt-S)&&(S=kt,bt.attr("x",kt),et&&bi(it,kt));var Ot=L+(pt.y<q?pt.height+s+V:0);(dt=Ot-L)&&(!f.dataObject.isStackedPercentChart&&!f.dataObject.isPercentChart||y?B=!1:(L=Ot,bt.attr("y",Ot))),et&&(ct||dt)?pt=U(it.node()):(pt.x+=ct,pt.y+=dt)}vt=E?Jn(pt.width,D,I,M):vt;var At=pt.width+vt,St=pt.height,Pt=pt.x+vt/2;if(Y){var Tt=(P?p:s)/2;if(P){var Et=u,Lt=g,zt=yl(vl(Et-Pt,2)+vl(Lt-pt.y,2))+D,Dt=yl(vl(Et-(Pt+pt.width),2)+vl(Lt-(pt.y+pt.height),2))+D;if(zt>Tt||Dt>Tt){var Rt;if("ellipsis"===N){var jt=pl(pt.height/2,Tt),Mt=yl(vl(Tt,2)-vl(jt,2)),It={left:Et-Mt+D,top:Lt-Mt+D,right:Et+Mt-D,bottom:Lt+Mt-D};"html"===J?(H=Ci(it,rt),wi(it,f,d,0,It,H)):gi(it,f,d,0,It);var Ht=it.text();if(Ht&&".."!==Ht&&(z=it[J](),Rt=!0,At=2*Mt-2*D,et)){var Bt=U(it.node());St=Bt.height,At=Bt.width+vt,L+=(pt.height-Bt.height)/2}}Rt||(B=!1,it.style("display",El))}}var Ft={id:F,x1:Pt-D,y1:pt.y-D,x2:Pt+At+D,y2:pt.y+pt.height+D+j,pointRadius:Tt+V-j,translateFunction:lt,overlap:N,hookHeight:j};C.push(Ft)}var Vt={X:S,Y:L,DY:_,ANCHOR:ot,text:z,display:B,height:St,width:At,hookPosition:st,adjustVal:ct};A&&"html"===J&&(Vt.tspanInfo=H||Ci(it,rt)),i.push(Vt)}),i.dataUpdate=n;var u=ot(i,o,r,c);u.properties={type:Hs,dataLabels:e,color:h.color,dataUpdate:n,showlabel:L,multiColoring:_,rp:h,rangeChart:O,yrangePos:c,contentType:J,isMultiLine:et}})}})}function t(e,t){var a=t.container.selectAll("g.plotareaBorder-property").node(),r=1,n={left:0,top:0,right:0,bottom:0};if(qn(e,t))for(var i in n)n[i]=a["border-"+i]?a["border-"+i].size/2+r:r;return n}var a,r,n=Ei.DataProcessor.helpers;return e.renderer=function(t){return arguments.length?(a=t,e):a},e.args=function(t){return arguments.length?(r=t,e):r},e},tl.initialize=function(e){var t=e.plot.renderer.mode,a=tl[t],r=tl.connector,n=mi(e),i=Ei.charttype,l={};l[sd]=[],l[cd]=[],l[dd]=[],l[ud]=[];var o={rangeChart:[i.arearange],connector:[i.pie,i.sunburst,i.funnel,i.pyramid]};o[dd]=[i.pie,i.bubblepie,i.funnel,i.pyramid,i.sunburst],o[ud]=[i.treemap,i.sunburst];var s={};return s.add=function(t,a,r,n,i){i=i||sd;var s=l[i];return s=s[a]=s[a]||[],i===sd&&o.rangeChart.indexOf(e.chartTypes[a].value)>-1&&(n=n||0,s=s[n]=s[n]||[]),s[r]=s[r]||[],s[r].push.apply(s[r],t),s[r].dataUpdate=t.dataUpdate,s},s.update=function(e,t,a,r,n,i,l){l=l||sd;var o=e.match(/\d+/g),c=o[0],d=o[1],u=o[2],h=+o[3]||0,f=s.getQueue(c,h,l),g=f[d][u];g.X+=t,g.Y+=a,g.display=g.display&&!r,void 0!==n&&(g.DY=n),i&&(g.hookPosition=i)},s.getQueue=function(t,a,r){r=r||sd;var n=l[r];return n=n[t],r===sd&&o.rangeChart.indexOf(e.chartTypes[t].value)>-1&&n&&(n=n[a||0]),n},s.draw=function(){if(e.isAxisCategory){var i=e.dataObject.groupedByStack,s=e.userdata.seriesdata.stackGroup||i.keys();s.forEach(function(r,o){if(l[cd].length&&i.has(o)){var s=i.get(o);a(e,l[cd][s.stackLabelIndex],o,"stacklabel")}else"svg"===t&&zt(n,"g",[],".","class","stacklabel_"+o)}),s.length||"svg"!==t||zt(n,"g",[],"#","id",cd)}e.seriesdata.forEach(function(t,n){var i=l[sd][n],s=e.chartTypes[n].value;o.rangeChart.indexOf(s)>-1?(a(e,i&&i[0],n),a(e,i&&i[1],n)):a(e,i,n),o[dd].indexOf(s)>-1&&(o.connector.indexOf(s)>-1&&r(e,i,n),a(e,l[dd][n],n,dd)),o[ud].indexOf(s)>-1&&a(e,l[ud][n],n,ud)})},s},tl.svg=function(e,t,a,r){r=r||"label";var n="stacklabel"===r,i=r===dd||r===ud,l=e.chartTypes[0].value==Ei.charttype.packedbubble,o=e.chartTypes[0].value==Ei.charttype.treemap,s=mi(e),c=zt(s,"g",t?[1]:[],".","class",r+"_"+a);if(t){var d,u=t.properties,h=u.dataUpdate,f=u.dataLabels,g=u.rp,p=u.rotation,m=u.rangeChart,v=u.yrangePos,y=u.reverseColor,x=u.contentType||"text",b=u.isMultiLine,w=e.dataObject.isPolarAxisCategory,C=e.isAxisCategory,k="clip"===f.textOverlap,O=ni(f,e),A=C||w?Dl:h.length,S="scatter"===u.type,P=hc.isQuantileColorScale(e),T=Dl;if((P||g.threshold||e.dataObject.isHierarchy||!(C||w||e.dataObject.isNonAxisMultiSeriesCategory)||u.multiColoring)&&(T=function(t,r){var n=y?A-1-r:(C||w||e.dataObject.isNonAxisMultiSeriesCategory)&&!u.multiColoring?a:r,l=fa(e,n,t&&t.data?t.data:t,a),s=u.isSunburst&&u.parentInnerLabel&&t.children?u.parentInnerLabel:f;return o&&i&&/(top-outset|bottom-outset)/.test(s.position)&&eo(l).opacity<.1&&(l="white"),si(e.systemConf,l,s,e,i,a)}),k){var E=(Ks.SAFARI?e.svg:qs.patternSVG).selectAll("defs");d=zt(E,"g",[1],".","class","textClipPaths")}m&&(c=zt(c,"g",[1],".","class","rangePos_"+v)),n&&c.attr("id",cd),c.attrs({"text-anchor":S?"middle":null,transform:u.translation}),oi(c,f,e,g.color,i,a,n),w&&c.attr("transform","translate("+e.plotarea_approx.x+","+e.plotarea_approx.y+")"),t.forEach(function(t,a){var r=t.dataUpdate||h,s=zt(c,"g",[1],".","class","subseries_"+a),d=zt(s,u.GLT&&u.GLT.hasShowAsFunction?"g":"text",r);if(d[x](function(e,a){return t[a].text}),b&&d.each(function(e,a){bi(d3.select(this),t[a].X)}),d.styles({display:function(e,a){return t[a].display===!1?El:null},fill:T,"pointer-events":El,opacity:function(t){if(it(e.dataObject.hierarchical)&&it(e.cache.hierarchical)){var a=e.cache.hierarchical;if(a.active)return t.active===!0?1:.1}},transition:"opacity ease .2s"}).attrs({x:function(e,a){return t[a].X},y:function(e,a){return t[a].Y},dy:function(e,a){return t[a].DY},"text-anchor":function(e,a){return t[a].ANCHOR},id:function(e,a){return t[a].ID},transform:function(e,a){var r=t[a].xy||[t[a].X,t[a].Y],n="";return t[a].xy&&(n="translate("+r+")"),it(p)&&(n+="rotate("+p+" "+r+")"),n||Dl},"clip-path":k?function(a,r){var n=U(this),i={name:"textClip",id:e.id,x:n.x,y:n.y,width:t[r].width,height:n.height},l={chartObj:e},o=Js.get(ic,"rect",i,l);return"url("+e.defsLocation+"#"+o+")"}:null,level:function(e){return e.level?e.level:void 0}}),e.dataObject.isWaterfallEnabled&&void 0!==f.fontColor&&f.fontColor==Dl&&d.style("fill",function(e){var t=tn(e,u.rp.categoryColorConfig);return t?t:void 0}),!(C||o||w||e.dataObject.hasLevelMarker||l||n||i))if("html"===x){var g=qn(f,e)?Kn(f,e)+$n(f,e):0;d.each(function(a,r){if(t[r].display!==!1){var n=d3.select(this),i=Ci(n,O);if(wi(n,e,u.trans,u.txtHgt,null,i,t[r].isLeft?g:0),"middle"===t[r].ANCHOR){var l=(t[r].width-U(this).width)/2,o=t[r].isLeft?1:-1,s=t[r].X+l*o;n.attr("x",s),bi(n,s)}}})}else gi(d,e,u.trans,u.txtHgt)})}},al.svg=function(){function e(e,n,i){e.each(function(){t&&(a=t.properties,r=a.rp.chartObj);var e=t&&qn(a.dataLabels,r),l=Hl(this),o=zt(l,"g",[1],".","class",(i===ud?"parentboundboxseries_":i===dd?"innerboundboxseries_":"boundboxseries_")+n);a&&a.rangeChart&&(o=zt(o,"g",[1],".","class","rangePos_"+a.yrangePos));var s=zt(o,"g",e?t:[]);if(e){var c=r.dataObject.isPolarAxisCategory?"translate("+r.plotarea_approx.x+","+r.plotarea_approx.y+")":r.isAxisCategory?null:a.translation;o.attr("transform",c);var d=Qn(a.dataLabels,r),u=ei(d.hook),h=a.dataUpdate,f=a.rotation||0,g=Kn(a.dataLabels,r),p=r.dataObject.getTransRectValue("radius",null,null,null,null,d.radius),m=Zn(d.strokeColor,a,r,h,n),v=Zn(d.fillColor,a,r,h,n),y=it(d.strokeWidth)?+d.strokeWidth:1,x=O(d.dashStyle,y),b=A(d.lineCap,d.dashStyle),w=Ul(),C=r.plotarea,k=a.trans||[0,0],S={left:-k[0]+C.left,right:C.width-k[0]-C.left};s.attr("class",function(e,t){return"subseries_"+t}).each(function(e){var t=e.dataUpdate||h,n=zt(d3.select(this),"path",t);n.attrs({d:function(t,n){var i=e[n],l=i.xy||[i.X,i.Y],o=l[0]-g,s=l[1]-g,c=i.width,h=i.height,f=void 0!==i.actualDY?i.actualDY:parseFloat(i.DY)||0,m=i.ANCHOR,v=i.hookPosition;return o="middle"===m?o-c/2:"end"===m?o-c:o,s-=w.domain([-.3,.9]).range([h,0])(f),r.isAxisCategory||r.dataObject.isPolarAxisCategory||"hierarchy"===a.type||(o<S.left&&(c-=S.left-o+y/2+g,o=S.left+y/2),o+c+y/2+g>S.right&&(c-=o+c-S.right+y/2+2*g),o+=(d.strokeWidth||1)*(v===ws?.5:v===bs?-.5:0)),ti(o,s,c,h,p,g,v,u,i.adjustVal)},transform:function(t,a){var r=e[a],n=r.xy||[r.X,r.Y];return"rotate("+f+" "+n[0]+" "+n[1]+")"},id:function(t,a){return"boundbox"+e[a].ID},level:function(e){return e.level?e.level:void 0}}).styles({display:function(t,a){return e[a].display===!1?El:null},fill:v,"fill-opacity":d.fillOpacity,stroke:m,"stroke-opacity":d.strokeOpacity,"stroke-width":d.strokeWidth,"stroke-dasharray":x,"stroke-linecap":b,opacity:function(e){if(it(r.dataObject.hierarchical)&&it(r.cache.hierarchical)){var t=r.cache.hierarchical;if(t.active)return e.active===!0?1:.1}},transition:"opacity ease .2s"})})}})}var t,a,r;return e.args=function(a){return arguments.length?(t=a,e):t},e},Ei.labelRenderer.pieInnerLabels=function(){function e(e,i){e.each(function(){function e(e,t){var a=f.innerRadius()(t),r=f.outerRadius()(t),n=f.startAngle()(t),i=f.endAngle()(t),o=e.x*e.x+e.y*e.y,s=l(e);return o>=a*a&&r*r>=o&&na(n,i,s)}function l(e){return kl(e.x,-e.y)}function o(e){var t=ha(n.getClr(y?e:e.data||e),r);return!t||(y?null==e.parent||0==e.value:0==e.value)}function s(e){var t=y?x.startAngle()(e):e.startAngle,a=y?x.endAngle()(e):e.endAngle;return(t+a)/2}var c=a[0],d=a[2],u=a[4],h=a[8]?"translate("+a[8][0]+","+a[8][1]+")":null,f=a[7],g=a[9],p=t.commonRendererProp().params;n=p.dataset,r=p.chartObj;var m=p.commonPlotOptions,v=a[1]||0,y=ur(r.chartTypes[v].value),x=a[6],b=p.yaxiscolumnorder;g=y?g:Dl,c=c[v];var w=r.dataObject.pieWithAxis,C=c.plotoptions,k=li(m,C,r,v),O=k.innerLabel,A=O.show===!0&&$t(r,sd);if(g){var S=oc(O.parentLabel,O);A=(it(S.show)?S.show:O.show)!==!1,O=S}var P=vi(r,p,O,dd,u,v),T=P.contentType||"text",E="html"===T&&P.multiLine,L=O.textOverlap||"adjust",z=qn(O,r)?Kn(O,r)+$n(O,r):0;if(!c.disabled&&A){var D=zt(r.staticPaneSVG.select(".labelholder"),"text",[1],".","class","temp_label");oi(D,O,r,p.color),D.attr("transform",h).style("fill",Ll);var R=i.add;(y?c:c.data).forEach(function(n,i){var c=w?t.seriesdataAfterUpdate?t.seriesdataAfterUpdate[i]:n:d,u=[];c.forEach(function(t,a){var n,c,d=null,h=!o(t),g="middle",m=E?"0.9em":"0.35em",C=0,k=0;if(w){var A=p.stacked,S=p.axisrotated,R=p.xscale,j=p.yscale,M=Xc.getKey(t,v,r),I=r.subrenderer[i][M];t=I.data[v],f=I.arc,C=r.dataObject.getXYvalue(S,A,R,j,b,t.data,"x",null),k=r.dataObject.getXYvalue(S,A,R,j,b,t.data,"y",null);var H=r.dataObject.getXYvalue(S,A,R,j,b,t.data,"z",r.zscale),B=H/4,F=Jt(B,s(t));P=vi(r,p,O,dd,I.total,v),n=C+F[0],c=k+F[1]}else n=f.centroid(t)[0],c=f.centroid(t)[1];var V=t.data,N=y?0==t.depth:o(t),Y=N?null:P(V);if(D[T](Y).attrs({x:n,y:c,dy:m,"text-anchor":g}),h&&E&&(bi(D,n),d=U(D.node()),c-=d.height/2),L!=El){d=d||U(D.node());var _=f.centroid(t),W=d.width/2+z,X=d.height/2+z,G={x:_[0]-W,y:_[1]-X},Z={x:_[0]+W,y:_[1]-X},Q={x:_[0]-W,y:_[1]+X},q={x:_[0]+W,y:_[1]+X},K=e(G,t)&&e(Z,t)&&e(Q,t)&&e(q,t);if(!K){if("adjust"===L){var $,J,et=y?x.startAngle()(t):t.startAngle,tt=y?x.endAngle()(t):t.endAngle,at=s(t),rt=d.height+2*z,nt=l(G),it=l(Z),lt=l(Q),ot=l(q),st=[nt,it,lt,ot],ct=[G,Z,Q,q],dt=io(st),$=ct[st.indexOf(dt[0])],J=ct[st.indexOf(dt[1])],ut=yl(($.x-J.x)*($.x-J.x)+($.y-J.y)*($.y-J.y)),ht=ml(ut/2/Cl((tt-et)/2))+rt,ft=[bl(at)*ht,-(xl(at)*ht)],G={x:ft[0]-W,y:ft[1]-X},Z={x:ft[0]+W,y:ft[1]-X},Q={x:ft[0]-W,y:ft[1]+X},q={x:ft[0]+W,y:ft[1]+X};K=e(G,t)&&e(Z,t)&&e(Q,t)&&e(q,t)}K?(n=ft[0]+C,c=ft[1]+k):h=!1}}else d=U(D.node());var gt={X:n,Y:c,DY:m,ANCHOR:g,text:Y,display:h,ID:"innerlbl"+v+"_"+i+"_"+a,width:d.width,height:d.height};u.push(gt)});var m=R(u,v,i,Dl,g?ud:dd);m.properties={type:Vs,dataLabels:O,dataUpdate:c,showlabel:A,rp:p,translation:h,trans:a[8],isSunburst:y,contentType:T,isMultiLine:E}})}})}var t,a,r,n;return e.renderer=function(a){return arguments.length?(t=a,e):t},e.args=function(t){return arguments.length?(a=t,e):a},e},Ei.labelRenderer.funnelInnerLabels=function(){function e(e,r){e.each(function(){function e(e){var t=l[A-1-e],a=ha(p.getClr(t),f);return t.disabled||!p.getY(t,m)||!a}var n=a[0],i=a[1],l=a[2],o=a[4],s=a[5],c=a[6],d=a[7],u=c.width,h=t.commonRendererProp().params,f=h.chartObj,g=h.commonPlotOptions,p=h.dataset,m=h.yaxiscolumnorder,v=f.chartTypes[0].name,y=f.svg.selectAll("g."+v+"group").attr("transform"),x=v===_s;n=n[i];var b=n.plotoptions,w=li(g,b,f,i),C=w.innerLabel,k=c.datalabelPadding||+w.padding||0,O=jt(f.svg.selectAll("g."+v+"group").node()).translate,A=l.length,S=C.show===!0,P=ni(C,f),T=vi(f,h,C,dd,s,i),E=T.contentType||"text",L="html"===E&&T.multiLine,z=qn(w,f)?Kn(w,f)+$n(w,f):0;if(S=S&&$t(f,sd),P+=2*z,!n.disabled&&S){var D=zt(f.staticPaneSVG.select(".labelholder"),"text",[1],".","class","temp_label");oi(D,C,f,h.color),D.attr("transform",y).style("fill",Ll);var R=r.add;n.data.forEach(function(t,a){var r=d,n=[];r.forEach(function(t,r){var s=!e(r),d=x?t.midX:u/2,h=x?t.leftY:t.y,f="middle",g=L?"0.9em":"0.5em",p=T(l[A-1-r]),m=null;if(D[E](p).attrs({x:d,y:h,dy:g,"text-anchor":f}),s&&L&&(bi(D,d),m=U(D.node()),h-=m.height/2,P=m.height),s)if(m=m||U(D.node()),x)s=!(P>2*(t.y0-t.leftY));else{var v=c.canOverlap?(t.rightx-t.leftx-2*k)/u*o:o;s=!(P<t.y-(t.y0-t.y)+v&&P>t.y0+v-(t.y-(t.y0-t.y)+v))}var y={X:d,Y:h,DY:g,ANCHOR:f,text:p,display:s,ID:"innerlbl"+i+"_"+a+"_"+r,width:s?m.width:0,height:s?m.height:0};n.push(y)});var s=R(n,i,a,Dl,dd);s.properties={type:Vs,dataLabels:C,dataUpdate:r,showlabel:S,rp:h,translation:y,trans:O,reverseColor:!0,contentType:E,isMultiLine:L}})}})}var t,a;return e.renderer=function(a){return arguments.length?(t=a,e):t},e.args=function(t){return arguments.length?(a=t,e):a},e};var hd;!function(){function e(e,t,a,r,n,i,l){var o,s=e.dataObject,c=e.seriesdata[l],d=Ei.DataProcessor.helpers.getParsedYAxisOrder(c.yaxiscolumnorder),u=e.dataset.getDataType("y",d),h=s.getDomain(s.getCategories("x"),!0),f=u==_o?s.getCategories("y",d):null,g=vi(e,null,t,sd,null,l),p=aa(it(t.maxWidth)?t.maxWidth:"30%",e.plotarea.width);c.data.forEach(function(e){var t=s.updateSeriesdatabyCategories(q(e),h,f,d);t.forEach(function(e){a.updateText(g,e),o=a.getMeasure(r?"w":"h"),r&&(o=pl(o,p)),i.push(o+n)})})}function t(e,t,a,r,n,i){var l,o=e.dataObject.groupedByStack,s=aa(it(t.maxWidth)?t.maxWidth:"30%",e.plotarea.width);o.keys().forEach(function(c){var d=o.get(c),u=d.stackLabelIndex,h=d.stackExtent,f=vi(e,null,t,cd,null,u);h.forEach(function(e){a.updateText(f,e),l=a.getMeasure(r?"w":"h"),r&&(l=pl(l,s)),i.push(l+n)})})}function a(e,t){var a=e.dataObject.groupedByStack;return a.keys().some(function(r){return"html"===vi(e,null,t,cd,null,a.get(r).stackLabelIndex).contentType})}hd=function(n,i,l){if(l.dataObject.hasLevelMarker||!i)return 0;var o,s=[],c=l.systemConf,d=l.dataObject,u=d.getAxisRotated(),h=d.isstacked(),f=d.noofBarEnabledSeries,g=.75*(u?l.plotarea.width:l.plotarea.height),p=c.chart.plot.datalabels.handleOverlapping,m="y"===n,v=new r(l),y=v.createElement();
if(l.seriesdata.forEach(function(t,a){if(!t.disabled){var r=t.plotoptions,i=c.chart.plot.plotoptions[l.chartTypes[a].name],d=li(i,r),y=ui(d,l);if(y){v.setFont(d,a);var x=m&&f&&!h&&Ei.labelRenderer.bar.getVAlign(l,a)===Os,b=vi(l,null,d,sd,null,a),w=m?gl(0,pl(rt(d.padding,x&&lr(l.chartTypes[a].value)?2:0),g)):0;x&&qn(d,l)&&(w=w+2*Kn(d,l)+$n(d,l)),x&&(u||"html"===b.contentType)?e(l,d,v,u,w,s,a):(o=v.getMeasure("h"),o+=w+(!p||u||"y"!=n||x?0:o),s.push(o))}}}),m&&f&&h&&!d.isStackedPercentChart){var x=l.dataObject.groupedByStack,b=x.get(x.keys()[0]),w=b&&b.stackLabelIndex,C=c.chart.plot.plotoptions[l.chartTypes[w].name].datalabels.stackLabels||{},k=C?C.show:!1,O=gl(0,pl(rt(C.padding,2),g));l.datalabels.isStackedLabels=k,k&&(v.setFont(C,w),Ei.labelRenderer.bar.getVAlign(l,w,cd)===Os&&(u||a(l,C))?t(l,C,v,u,O,s):(o=v.getMeasure("h")+O,s.push(o)))}return y.remove(),s.length>0?gl.apply(null,s):0};var r=function(e){this.chartObj=e};r.prototype.createElement=function(){return this.element=zt(this.chartObj.staticPaneSVG.selectAll("g.labelholder"),"text",[1],".","class","dummyText").text("qtyplkjhgfd").style("fill",El)},r.prototype.setFont=function(e,t){oi(this.element,e,this.chartObj,El,!1,t)},r.prototype.getMeasure=function(e){var t=U(this.element.node());return"w"===e?t.width:t.height},r.prototype.updateText=function(e,t){var a=e.contentType||"text",r="html"===a&&e.multiLine,n=this.element;n[a](e(t)),r&&bi(n,0)}}(),Ei.labelRenderer.hierarchy=function(){function e(e,r){e.each(function(){function e(e){var t=c(e),a=t.x;return y=t.y,w=t.width,h=t.height,a=i(a,w)+b[0],y=l(y,h)+b[1],{x:a,y:y,w:w,h:h}}function n(e,t){var a=e.height-2*X,r=e.width-2*X,n=e.x+b[0]+X,i=e.y+b[1]+X,l={x1:n,y1:i,x2:n+r,y2:i+a};if(R===Gs){var o=r/2,s=pl(t.height/2,o),c=yl(vl(o,2)-vl(s,2)),d=o-c;l.x1+=d,l.x2-=d,l.y1+=d,l.y2-=d}return l}function i(e,t){return e+=_===xs?t/2:_===ws?t-X-M:X+M}function l(e,t){return e+=W===xs?t/2:W===Cs?t-X-M:X+M}function o(){return _===xs?"middle":_===ws?"end":null}function s(){var e,t;if(e=W===xs?.3:W===Cs?-.3:1,q){var a=1.1*(f.showAs.length-1);e===-.3?(e-=a,t=e+a):.3===e&&(e-=a/2,t=e+a/2)}return[e,t]}function c(e){switch(R){case Gs:return yr(e);case Zs:var t=Uc.getTileBound(A,e);return t=u(t);case Xs:return vr(A,e,L,z,E)}}function d(e,t,a){var r=e.width,n=e.height,i="middle"===t?r/2:"end"===t?r:0,l=J.range([n,0])(parseFloat(a));return e.x=-i,e.y=-l,e}function u(e){if(C&&("bottom-outset"===f.position||"top-outset"===f.position)){var t=Lt(P.padding),a=t["bottom-outset"===f.position?"bottom":"top"];"bottom-outset"===f.position&&(e.y=e.y+e.height-a),e.height=a}return e}var f,g=a[0],p=a[1],m=(a[2]||0,a[3]),v=a[4],x=a[5],b=a[6]||[0,0],C=a[7],k=g.plotoptions,O=t.commonRendererProp().params,A=O.chartObj,S=A.systemConf,P=O.commonPlotOptions,T=O.dataset,E=O.yaxiscolumnorder,L=(O.labelArray,O.xscale),z=O.yscale;f=li(P,k,A,p);var D=ui(f,A),R=A.chartTypes[0].name;if(C){var j=oc(P.parent.datalabels,f);D=st(j.show),f=j}if(!g.disabled&&D){var M=(Un(A),0),I=0,H=0,B=0,F=0;if(qn(f,A)){var V=Qn(f,A),N=ei(V.hook);M=Kn(f,A),I=$n(f,A),H=N.height,B=N.width,F=V.radius}var Y=f.textOverlap,_=f.hAlign||xs,W=f.vAlign||xs,X=rt(f.padding,.5),G=S.chart.plot.datalabels.handleOverlapping===!0&&Y!==El,Z=vi(A,O,f,sd,v,p,m),Q=Z.contentType||"text",q="html"===Q&&Z.multiLine,K=Z.hasShowAsFunction,$=ni(f,A),J=Ul().domain([-.3,.9]),et="canvas"===A.plot.renderer.mode,tt=s(),at=oi(null,f,A,O.color,!1,p);Y=K&&"ellipsis"===Y?"hidden":Y;var nt=zt(A.staticPaneSVG.select(".labelholder"),K?"g":"text",[1],".","class","temp_label"),it=(r.update,r.add),lt=x,ot=[];oi(nt,f,A,O.color,!1,p),nt.styles({fill:Ll}),lt.forEach(function(t){var a=e(t),r=a.x,i=a.y,l=null,s=null,u=hc.isQuantileColorScale(A)?ha(T.getClr(t.data||t),A):!0,h="",g=tt[0]+"em",p=tt[1],m=o(),v=null,y=0;nt[Q](function(){return l=Z(t.data||t,a)}).attrs({dy:g,transform:"translate("+[r,i]+")","text-anchor":m,display:u}),h="lbl"+t.level;var x;q?(bi(nt,0),x=U(nt.node())):"html"===Q?x=U(nt.node()):(x=Ga(l,$,ii(f,A),null,null,at["font-style"],at["font-weight"]),x=d(x,m,g,r,i)),widthToBeAdded=0;{var w=x.width+widthToBeAdded,C=x.height;x.x+widthToBeAdded/2}if(G){var k={x1:x.x+r-M,y1:x.y+i-M,x2:x.x+r+x.width+M,y2:x.y+i+x.height+M},O=n(c(t),x),S=di(k,O);if(!S){var P;if("ellipsis"===Y){var E=a.h,L=a.w;if(E>C+2*M){var z={left:O.x1+M,top:O.y1+M,right:O.x2-M,bottom:O.y2-M};"html"===Q?(s=Ci(nt,$),wi(nt,A,b,0,z,s,Dl,[r,i])):gi(nt,A,b,0,z,[r,i]);var D=nt.text();if(D&&".."!==D&&(l=nt[Q](),P=!0,w=L-2*M,q)){var R=U(nt.node());C=R.height,w=R.width+widthToBeAdded,i+=(x.height-R.height)/2}}}P?"html"===Q&&(s=Ci(nt,$)):u=!1}}var j={X:0,DY:g,xy:[r,i],actualDY:p,ANCHOR:m,text:l,display:u,height:C,width:w,hookPosition:v,adjustVal:y};et&&"html"===Q&&(K?j.customHTML=ki(nt):j.tspanInfo=s||Ci(nt,$)),ot.push(j)}),ot.dataUpdate=lt;var ct=it(ot,p,0,m,C?ud:Dl);ct.properties={type:"hierarchy",dataLabels:f,color:O.color,dataUpdate:lt,showlabel:D,rp:O,contentType:Q,isMultiLine:q,GLT:Z}}})}var t,a;return e.renderer=function(a){return arguments.length?(t=a,e):t},e.args=function(t){return arguments.length?(a=t,e):a},e},tl.connector=function(e,t,a){var r=mi(e),n=zt(r,"g",t&&"circular"!==t.properties.showlabel?[1]:[],".","class","link_"+a);if(t){var i=t.properties,l=i.dataUpdate,o=i.isSunburst,s=i.connectorPath,c=i.dataLabels.line,d=l.length;c&&(n.attr("transform",i.translation).styles({stroke:c.strokeColor,"stroke-width":c.strokeWidth,fill:El}),t.forEach(function(t,r){var u=zt(n,"g",[1],".","class","subseries_"+r),h=zt(u,"path",l);h.styles({display:function(e,a){return t[a].display===!1?El:Dl},stroke:function(t,r){return o||c.strokeColor?Dl:fa(e,i.reverseColor?d-1-r:r,t&&t.data?t.data:t,a)}}).attrs({d:s,id:function(e,t){return"link"+a+"_"+r+"_"+t}})}))}};var fd=function(){var e=navigator.userAgent,a={};if(e.indexOf("OPR")>0){a.name="Opera",a.jsPrefix="webkit",a.cssPrefix="-webkit-";var r=e.indexOf("OPR/");a.version=t(e.substr(r+4))}else if(e.indexOf("Chrome")>0){a.name="Chrome",a.jsPrefix="webkit",a.cssPrefix="-webkit-";var r=e.indexOf("Chrome/");a.version=t(e.substr(r+7))}else if(e.indexOf("Safari")>0){a.name="Safari",a.jsPrefix="webkit",a.cssPrefix="-webkit-";var r=e.indexOf("Version/");a.version=t(e.substr(r+8))}else if(e.indexOf("Firefox")>0){a.name="Firefox",a.jsPrefix="Moz",a.cssPrefix="-moz-";var r=e.indexOf("Firefox/");a.version=t(e.substr(r+8))}else if(e.indexOf("MSIE")>0){a.name="Internet Explorer",a.jsPrefix="ms",a.cssPrefix="-ms-";var r=e.indexOf("MSIE");a.version=t(e.substr(r+5))}else a=void 0;return a},gd=function(e,t){var a=getComputedStyle(e),r=fd();for(var n in t)if(t.hasOwnProperty(n))if(n in a)e.style[n]=t[n];else if(void 0!=r){var i=r.jsPrefix+n.charAt(0).toUpperCase()+n.slice(1);e.style[i]=t[n]}},pd=function(e,t){var a={type:"zBars",scale:1,duration:1.2},r=document.getElementById("ZCloader");pd.style||(r=document.createElement("style"),r.setAttribute("id","ZCloader"),document.head.appendChild(r),pd.style=!0);for(var n in t)t.hasOwnProperty(n)&&(a[n]=t[n]);var i=a.colors||["rgb(204, 32, 50)","rgb(24, 153, 74)","rgb(1, 115, 178)","rgb(253, 208, 25)"],l=i[0%i.length],o=i[1%i.length],s=i[2%i.length],c=i[3%i.length],d=fd(),u="";if(void 0===d?(d={},d.cssPrefix=""):"Internet Explorer"===d.name&&d.version<10&&(a.type="wheel"),!e.loader){var h=document.createElement("div");if("zBlocks"==a.type){if(!pd.zBlocks){var u="\n@"+d.cssPrefix+"keyframes "+a.type+" {";u+="0% { left:0px; top:0px; "+d.cssPrefix+"transform:rotate(0deg) scale(1)}",u+="25% { left:40px; top:0px; "+d.cssPrefix+"transform:rotate(90deg) scale(0.5)}",u+="50% { left:40px; top:40px; "+d.cssPrefix+"transform:rotate(180deg) scale(1.0)}",u+="75% { left:0px; top:40px; "+d.cssPrefix+"transform:rotate(270deg) scale(0.5)}",u+="100% { left:0px; top:0px; "+d.cssPrefix+"transform:rotate(360deg)scale(1)} }\n",r.innerHTML+=u,pd.zBlocks=!0}gd(h,{display:"inline-block",verticalAlign:"middle",width:"70px",height:"70px",transform:"scale("+a.scale+")"});var f=document.createElement("div");f.innerHTML="&nbsp",h.appendChild(f),gd(f,{backgroundColor:l,width:"30px",height:"30px",borderRadius:"1px",position:"absolute",top:"0",left:"0",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out"});var g=document.createElement("div");g.innerHTML="&nbsp",h.appendChild(g),gd(g,{backgroundColor:o,width:"30px",height:"30px",borderRadius:"1px",position:"absolute",top:"0",left:"0",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationDelay:"-"+a.duration/4*1+"s"});var p=document.createElement("div");p.innerHTML="&nbsp",h.appendChild(p),gd(p,{backgroundColor:s,width:"30px",height:"30px",borderRadius:"1px",position:"absolute",top:"0",left:"0",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationDelay:"-"+a.duration/4*2+"s"});var m=document.createElement("div");m.innerHTML="&nbsp",h.appendChild(m),gd(m,{backgroundColor:c,width:"30px",height:"30px",borderRadius:"1px",position:"absolute",top:"0",left:"0",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationDelay:"-"+a.duration/4*3+"s"}),e.loader=!0}else if("zCircle1"==a.type){if(!pd.zCircle1){var u="\n@"+d.cssPrefix+"keyframes "+a.type+" { ";u+="0% ,25%, 50%, 75%, 100%{ "+d.cssPrefix+"transform: scale(0.0);  } ",u+="12.5%  { "+d.cssPrefix+"transform: scale(1.0); background-color: "+l+";}",u+="37.5%  { "+d.cssPrefix+"transform: scale(1.0); background-color: "+o+";}",u+="62.5%  { "+d.cssPrefix+"transform: scale(1.0); background-color: "+s+";}",u+="87.5%  { "+d.cssPrefix+"transform: scale(1.0); background-color: "+c+";} }\n",r.innerHTML+=u,pd.zCircle1=!0}gd(h,{display:"inline-block",verticalAlign:"middle",width:"70px",height:"70px",transform:"scale("+a.scale+")"});var v=document.createElement("div");v.innerHTML="&nbsp",h.appendChild(v),gd(v,{width:"100%",height:"100%",borderRadius:"50%",opacity:"0.6",position:"absolute",top:"0",left:"0",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out"}),e.loader=!0}else if("zBars"==a.type){if(!pd.zBars){var u="\n@"+d.cssPrefix+"keyframes "+a.type+" { ";u+="0%, 40%, 100% { "+d.cssPrefix+"transform: scaleY(0.4) }",u+="20% { "+d.cssPrefix+"transform: scaleY(1.0) } }\n",r.innerHTML+=u,pd.zBars=!0}gd(h,{display:"inline-block",verticalAlign:"middle",width:"50px",height:"30px",textAlign:"center",fontSize:"10px",transform:"scale("+a.scale+")"});var y=document.createElement("div");y.innerHTML="&nbsp",h.appendChild(y),gd(y,{backgroundColor:l,marginLeft:"1px",display:"inline-block",width:"6px",height:"100%",borderRadius:"1px",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out"});var x=document.createElement("div");x.innerHTML="&nbsp",h.appendChild(x),gd(x,{backgroundColor:o,marginLeft:"1px",display:"inline-block",width:"6px",height:"100%",borderRadius:"1px",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationDelay:"-"+(a.duration-.1)+"s"});var b=document.createElement("div");b.innerHTML="&nbsp",h.appendChild(b),gd(b,{backgroundColor:s,marginLeft:"1px",display:"inline-block",width:"6px",height:"100%",borderRadius:"1px",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationDelay:"-"+(a.duration-.2)+"s"});var w=document.createElement("div");w.innerHTML="&nbsp",h.appendChild(w),gd(w,{backgroundColor:c,marginLeft:"1px",display:"inline-block",width:"6px",height:"100%",borderRadius:"1px",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationDelay:"-"+(a.duration-.3)+"s"}),e.loader=!0}else if("zCircle2"==a.type){if(!pd.zCircle2){var u="\n@"+d.cssPrefix+"keyframes "+a.type+" { ";u+="0%, 80%, 100% { "+d.cssPrefix+"transform: scale(0.0) }",u+="40% { "+d.cssPrefix+"transform: scale(1.0) } }\n",r.innerHTML+=u,pd.zCircle2=!0}gd(h,{display:"inline-block",verticalAlign:"middle",width:"72px",height:"18px",textAlign:"center",fontSize:"10px",transform:"scale("+a.scale+")"});var C=document.createElement("div");C.innerHTML="&nbsp",h.appendChild(C),gd(C,{backgroundColor:l,display:"inline-block",width:"18px",height:"18px",borderRadius:"100%",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out"});var k=document.createElement("div");k.innerHTML="&nbsp",h.appendChild(k),gd(k,{backgroundColor:o,display:"inline-block",width:"18px",height:"18px",borderRadius:"100%",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationDelay:"-"+(a.duration-.2)+"s"});var O=document.createElement("div");O.innerHTML="&nbsp",h.appendChild(O),gd(O,{backgroundColor:s,display:"inline-block",width:"18px",height:"18px",borderRadius:"100%",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationDelay:"-"+(a.duration-.4)+"s"});var A=document.createElement("div");A.innerHTML="&nbsp",h.appendChild(A),gd(A,{backgroundColor:c,display:"inline-block",width:"18px",height:"18px",borderRadius:"100%",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationDelay:"-"+(a.duration-.6)+"s"}),e.loader=!0}else if("zCrossBars"==a.type){if(!pd.zCrossBars){var u="\n@"+d.cssPrefix+"keyframes "+a.type+" { ";u+="0%{left:-50%;}",u+="100%{left: 150%;} }\n",r.innerHTML+=u,pd.zCrossBars=!0}gd(h,{display:"inline-block",position:"relative",verticalAlign:"middle",width:"70px",height:"30px",boxSizing:"border-box",borderWidth:"2px",borderStyle:"solid",borderColor:"rgb(160, 150, 150)",borderRadius:"8px",overflow:"hidden",transform:"scale("+a.scale+")"});var y=document.createElement("div");y.innerHTML="&nbsp",h.appendChild(y),gd(y,{backgroundColor:l,width:"10px",height:"100%",position:"absolute",transform:"rotate(45deg) scaleY(2)",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDelay:"-"+a.duration+"s"});var x=document.createElement("div");x.innerHTML="&nbsp",h.appendChild(x),gd(x,{backgroundColor:o,width:"10px",height:"100%",position:"absolute",transform:"rotate(45deg) scaleY(2)",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDelay:"-"+a.duration/100*80+"s"});var b=document.createElement("div");b.innerHTML="&nbsp",h.appendChild(b),gd(b,{backgroundColor:s,width:"10px",height:"100%",position:"absolute",transform:"rotate(45deg) scaleY(2)",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDelay:"-"+a.duration/100*60+"s"});var w=document.createElement("div");w.innerHTML="&nbsp",h.appendChild(w),gd(w,{backgroundColor:c,width:"10px",height:"100%",position:"absolute",transform:"rotate(45deg) scaleY(2)",animationName:a.type,animationDuration:a.duration+"s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDelay:"-"+a.duration/100*40+"s"}),e.loader=!0}else gd(h,{display:"inline-block",verticalAlign:"middle",width:"30px",height:"30px",position:"absolute",backgroundImage:"url('"+Ei.imageFilePath+"loader_"+a.type+".gif')",backgroundSize:"30px 30px",backgroundRepeat:"no-repeat",backgroundPosition:"center"});return h}};Ei.getFormattedValue=zr,Ei.generateFormatSpecifier=Rr,Ei.appendElement=zt,Ei.tempCanvasContext=sl,Ei.getRawColor=fa,Ei.setGlobalPatternSVG=f,e.$ZC=typeof e.$ZC===Ei?e.$ZC:Ei}(window);